/*! For license information please see main.fbf1f323.js.LICENSE.txt */
(()=>{var e={33:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+E(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),O(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+E(o=e[u],u);l+=O(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=O(o=o.value,t,i,c=s+E(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},T={transition:null},N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:T,ReactCurrentOwner:x};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PROJECTS_ZIP_FALLBACK_URL:()=>s,PROJECTS_ZIP_URL:()=>i,createFiles:()=>g,createFromZip:()=>d,default:()=>w,getProjectIdsFromZip:()=>p,loadFromZip:()=>u,loadFromZipData:()=>h,loadSamples:()=>y,loadSolutions:()=>v,loaders:()=>b,resetFiles:()=>f,resetFromZip:()=>c,resetTests:()=>m});var r=n(5608);const i="https://renabazinin.github.io/projects/projects.zip";const s="./projects.zip";async function a(e,t){try{return await e.stat(t),!0}catch{return!1}}async function o(e,t){const n=t.split("/").filter(Boolean);let r="";for(const i of n){r+="/"+i;try{await e.stat(r)}catch{await e.mkdir(r)}}}async function l(e,t){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return{data:await t.arrayBuffer(),source:"release"}}catch(n){if(!t)throw n;const i=function(){if("undefined"===typeof window)return"./projects.zip";const{origin:e,pathname:t}=window.location,n=["/web-ide/","/web-ide"];for(const s of n)if(t.startsWith(s))return`${e}${s.endsWith("/")?s:s+"/"}projects.zip`;const r=["/chip","/cpu","/asm","/vm","/bitmap","/about","/guide"];let i=t;for(const s of r){const e=t.indexOf(s);if(-1!==e){i=t.substring(0,e);break}}if(i===t&&!t.endsWith("/")){const e=t.lastIndexOf("/");i=e>0?t.substring(0,e+1):"/"}return i.endsWith("/")||(i+="/"),`${e}${i}projects.zip`}();console.warn(`Failed to fetch from primary URL (${e}):`,n),console.log(`Falling back to local URL: ${i}`);try{const e=await fetch(i);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);return{data:await e.arrayBuffer(),source:"local"}}catch(r){throw new Error(`Failed to fetch ZIP from both primary (${e}) and fallback (${i}): ${r}`)}}}async function u(e,t=i,n={}){const{skipExisting:s=!0,basePath:u="/projects",useFallback:c=!0,onProgress:d}=n,h=await l(t,c),p=await r.loadAsync(h.data),f=Object.entries(p.files).filter(([,e])=>!e.dir),m=f.length;let g=0;for(const[r,i]of f){const t=r.replace(/^projects\//,"");if("README.md"===t||!t.includes("/")){g++;continue}const n=`${u}/${t}`;if(s&&await a(e,n)){g++,d?.(g,m);continue}const l=n.substring(0,n.lastIndexOf("/"));await o(e,l);const c=await i.async("string");await e.writeFile(n,c),g++,d?.(g,m)}return h.source}async function c(e,t=i,n={}){return await u(e,t,{...n,skipExisting:!1})}async function d(e,t=i,n={}){return await u(e,t,{...n,skipExisting:!0})}async function h(e,t,n={}){const{skipExisting:i=!0,basePath:s="/projects",onProgress:l}=n,u=await r.loadAsync(t),c=Object.entries(u.files).filter(([,e])=>!e.dir),d=c.length;let h=0;for(const[r,p]of c){const t=r.replace(/^projects\//,"");if("README.md"===t||!t.includes("/")){h++;continue}const n=`${s}/${t}`;if(i&&await a(e,n)){h++,l?.(h,d);continue}const u=n.substring(0,n.lastIndexOf("/"));await o(e,u);const c=await p.async("string");await e.writeFile(n,c),h++,l?.(h,d)}}async function p(e=i){const t=await l(e,!0),n=await r.loadAsync(t.data),s=new Set;for(const r of Object.keys(n.files)){const e=r.match(/^(?:projects\/)?(\d{2})\//);e&&s.add(e[1])}return Array.from(s).sort()}async function f(e,t,r){console.log("Initializing: resetting browser memory (projects)...");try{"release"===await c(e,i,r)?console.log("Reset completed: loaded project files from release ZIP"):console.log("Reset completed: loaded project files from local projects.zip")}catch(s){console.warn("ZIP loading failed, falling back to legacy loader:",s),await(await Promise.all([n.e(828),n.e(288)]).then(n.bind(n,3288))).resetFiles(e,t),console.log("Reset completed: legacy built-in project files loaded")}}async function m(e,t){await(await Promise.all([n.e(828),n.e(288)]).then(n.bind(n,3288))).resetTests(e,t)}async function g(e,t){console.log("Initializing: creating browser memory files (projects)...");try{"release"===await d(e,i,t)?console.log("Create completed: created project files from release ZIP"):console.log("Create completed: created project files from local projects.zip")}catch(r){console.warn("ZIP loading failed, falling back to legacy loader:",r),await(await Promise.all([n.e(828),n.e(288)]).then(n.bind(n,3288))).createFiles(e),console.log("Create completed: legacy built-in project files loaded")}}async function y(e){(await Promise.all([n.e(828),n.e(297)]).then(n.bind(n,9297))).loadSamples(e)}async function v(e){(await n.e(269).then(n.bind(n,1269))).loadSolutions(e)}const b={resetFiles:f,loadSolutions:v,loadSamples:y,createFiles:g},w=b},172:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(8878);function i(){const[e,t]=(0,r.useState)(!1);return{isOpen:e,open(){t(!0)},close(){t(!1)}}}},270:(e,t,n)=>{"use strict";var r;function i(e){return Object.values(r).includes(e)}n.d(t,{U:()=>i,X:()=>r}),function(e){e[e.SYS_WAIT_DURATION_NOT_POSITIVE=1]="SYS_WAIT_DURATION_NOT_POSITIVE",e[e.ARRAY_SIZE_NOT_POSITIVE=2]="ARRAY_SIZE_NOT_POSITIVE",e[e.DIVIDE_BY_ZERO=3]="DIVIDE_BY_ZERO",e[e.SQRT_NEG=4]="SQRT_NEG",e[e.ALLOC_SIZE_NOT_POSITIVE=5]="ALLOC_SIZE_NOT_POSITIVE",e[e.HEAP_OVERFLOW=6]="HEAP_OVERFLOW",e[e.ILLEGAL_PIXEL_COORD=7]="ILLEGAL_PIXEL_COORD",e[e.ILLEGAL_LINE_COORD=8]="ILLEGAL_LINE_COORD",e[e.ILLEGAL_RECT_COORD=9]="ILLEGAL_RECT_COORD",e[e.ILLEGAL_CENTER_COORD=12]="ILLEGAL_CENTER_COORD",e[e.ILLEGAL_RADIUS=13]="ILLEGAL_RADIUS",e[e.STRING_LENGTH_NEG=14]="STRING_LENGTH_NEG",e[e.GET_CHAR_INDEX_OUT_OF_BOUNDS=15]="GET_CHAR_INDEX_OUT_OF_BOUNDS",e[e.SET_CHAR_INDEX_OUT_OF_BOUNDS=16]="SET_CHAR_INDEX_OUT_OF_BOUNDS",e[e.STRING_FULL=17]="STRING_FULL",e[e.STRING_EMPTY=18]="STRING_EMPTY",e[e.STRING_INSUFFICIENT_CAPACITY=19]="STRING_INSUFFICIENT_CAPACITY",e[e.ILLEGAL_CURSOR_LOCATION=20]="ILLEGAL_CURSOR_LOCATION"}(r||(r={}))},742:(e,t,n)=>{"use strict";function r(e,t,n=1){const r=[];for(let i=e;i<t;i+=n)r.push(i);return r}n.d(t,{y:()=>r})},782:(e,t,n)=>{"use strict";e.exports=n(1406)},836:(e,t,n)=>{"use strict";n.d(t,{JG:()=>u,XK:()=>a,Z4:()=>l,fn:()=>c,g0:()=>d,jV:()=>h});var r=n(2469),i=n(7076),s=n(9651);class a extends s._b{width;_memory;_nextData=0;_address=0;get memory(){return this._memory}get address(){return this._address}constructor(e,t){super(["in[16]","load",`address[${e}]`],["out[16]"],t,[],["in","load"]),this.width=e,this._memory=new i.ce(Math.pow(2,this.width))}tick(){const e=this.in("load").voltage();this._address=this.in("address").busVoltage,e&&(this._nextData=this.in().busVoltage,this._memory.set(this._address,this._nextData))}tock(){this.out().busVoltage=this._memory?.get(this._address)??0}eval(){const e=this.in("address").busVoltage;this.out().busVoltage=this._memory?.get(e)??0}at(e){return(0,r.vA)(e<this._memory.size,()=>`Request out of bounds (${e} >= ${this._memory.size})`),new o(`${this.name}[${e}]`,e,this._memory)}get(e,t){return e===this.name?this.at(t??0):super.get(e)}reset(){this._memory.reset(),super.reset()}}class o extends s.z7{index;ram;constructor(e,t,n){super(e),this.index=t,this.ram=n}get busVoltage(){return this.ram.get(this.index)}set busVoltage(e){this.ram.set(this.index,e)}}class l extends a{constructor(){super(3,"RAM8")}}class u extends a{constructor(){super(6,"RAM64")}}class c extends a{constructor(){super(9,"RAM512")}}class d extends a{constructor(){super(12,"RAM4K")}}class h extends a{constructor(){super(14,"RAM16K")}}},910:(e,t,n)=>{"use strict";n.d(t,{L:()=>y,A:()=>g});var r=n(4544),i=n(8878),s=n(172),a=n(1296),o=n(1916),l=n(2469);const u="NAND2TetrisIndexedDB",c=1,d="FileSystemAccess",h="Handler";function p(){return new Promise((e,t)=>{const n=window.indexedDB.open(u,c);n.onsuccess=()=>{e(n.result)},n.onerror=()=>{t(n.error)},n.onupgradeneeded=e=>{n.result.createObjectStore(d)}})}async function f(){const e=await p();return new Promise((t,n)=>{const r=e.transaction([d],"readonly"),i=r.objectStore(d).get(h);i.onsuccess=()=>{const e=i.result;void 0===e?t():((0,l.vA)(e instanceof FileSystemDirectoryHandle,`Retrieved ${h} in ${d} in ${u} is not a FileSystemDirectoryHandle`),t(e))},r.onerror=()=>{console.error("Error in loading FileSystemDirectoryHandle transaction",{err:r.error}),n(r.error)},i.onerror=()=>{console.error("Error in FileSystemDirectoryHandle handleRequest",{err:i.error}),n(i.error)}})}async function m(){const e=(await p()).transaction([d],"readwrite");return e.objectStore(d).delete(h),new Promise((t,n)=>{e.oncomplete=()=>{t()},e.onerror=()=>{n(e.error)}})}function g(){const e=(0,i.useMemo)(()=>new r.JU,[]),[t,l]=(0,i.useState)(new r.Q2(e)),[u,c]=(0,i.useState)(),g=(0,s.s)(),y=(0,i.useCallback)(async(e,i=!1)=>{const s=new r.Q2(new o.Ik(e));if(i)if(u){const e=await Promise.resolve().then(n.bind(n,171));await e.createFiles(s)}else await(0,a.Sn)(t,s,"/projects",e=>e.replace("/projects","/").replace(/\/0*(\d+)/,"$1"));l(s),c(e.name)},[c,l]);(0,i.useEffect)(()=>{u||"showDirectoryPicker"in window&&f().then(async e=>{if(!e)return;switch(await e.queryPermission({mode:"readwrite"})){case"granted":y(e);break;case"prompt":g.open();break;case"denied":x({message:"Permission denied. Please allow access to your file system.",severity:"ERROR"})}})},[u,y]);const v="showDirectoryPicker"in window,b=(0,i.useCallback)(async(e=!1,t=!1)=>{if(!v||u&&!e)return;const n=await(0,o.EH)();u&&await m();const r=await async function(e){const t=(await p()).transaction([d],"readwrite");return t.objectStore(d).add(e,h),t.commit(),new Promise((n,r)=>{t.oncomplete=()=>{n(e)},t.onerror=()=>{r(t.error)}})}(n);await y(r,t)},[u,y]),w=(0,i.useCallback)(async()=>{u&&(await m(),c(void 0),l(new r.Q2(e)))},[u]),[_,S]=(0,i.useState)({message:"",severity:"INFO"}),x=(0,i.useCallback)(e=>{S("string"===typeof e?{message:e,severity:"INFO"}:{message:e.message,severity:e.severity||"INFO"})},[]);return{fs:t,localFsRoot:u,status:_,setStatus:x,storage:localStorage,canUpgradeFs:v,permissionPrompt:g,upgradeFs:b,requestPermission:async()=>{f().then(async e=>{e&&await e.requestPermission({mode:"readwrite"})})},closeFs:w,loadFs:()=>{f().then(async e=>{e&&y(e)})}}}const y=(0,i.createContext)({fs:new r.Q2(new r.JU),canUpgradeFs:!1,async upgradeFs(){},closeFs(){},status:{message:"",severity:"INFO"},setStatus(){},storage:{},permissionPrompt:{},async requestPermission(){},loadFs(){}})},1092:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.Ay=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(5068));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}i.GA4;var a=i.default;t.Ay=a},1106:(e,t,n)=>{"use strict";n.d(t,{BX:()=>o,CX:()=>c,IJ:()=>u,Nq:()=>l});var r=n(9651),i=n(3096),s=n(9976),a=n(9937);class o extends a.V{chip=new r.ti;doLoad;get chipId(){return this.chip.id}clock=i.z.get();static from(e,t={}){const n=new o(t);return(0,s.G)(n,e,t.requireLoad)}constructor({dir:e,setStatus:t,loadAction:n,compareTo:r}={}){super(e,t,r),this.doLoad=n}with(e){return this.chip=e,this}async load(e){if(!this.dir)return;const t=await(this.doLoad?.(e?`${this.dir}/${e}`:this.dir));t&&(this.chip=t)}hasVar(e){return"time"===e||(e=`${e}`,this.chip.hasIn(e)||this.chip.hasOut(e))}getVar(e,t){if("time"===(e=`${e}`))return this.clock.toString();const n=this.chip.get(e,t);return n?n instanceof r.z7?n.busVoltage:n.voltage():0}getWidth(e,t){const n=this.chip.get(e,t);return n?n.width:0}setVar(e,t,n){const i=this.chip.get(e,n);i instanceof r.z7?i.busVoltage=t:i?.pull(0===t?r.$L:r.RY)}eval(){this.chip.eval()}tick(){this.chip.eval(),this.clock.tick()}tock(){this.chip.eval(),this.clock.tock()}async loadROM(e){await this.chip.load(this.fs,[this.dir??"",e].join("/"))}async run(){this.clock.reset(),await super.run()}}class l{_chipTestInstruction_=!0;async do(e){e.eval()}*steps(){yield this}}class u{_chipTestInstruction_=!0;async do(e){e.tick()}*steps(){yield this}}class c{_chipTestInstruction_=!0;async do(e){e.tock()}*steps(){yield this}}},1296:(e,t,n)=>{"use strict";n.d(t,{Sn:()=>a,g9:()=>i,w9:()=>s});var r=n(5874);async function i(e,t){try{const i=await e.readFile(t);let s;try{const n=t.replace("VME.tst",".tst").replace(".tst",".cmp");s=await e.readFile(n)}catch(n){}return(0,r.Ok)({tst:i,cmp:s})}catch(i){return(0,r._)(i)}}function s(e){return e.sort((e,t)=>{const n=/^\d+/.test(e.name),r=/^\d+/.test(t.name);return n&&!r?-1:!n&&r?1:n&&r?parseInt(e.name,10)-parseInt(t.name,10):e.name.localeCompare(t.name)})}async function a(e,t,n="/",r,i=!1){const s="/"==n?"":n,o=r(s),l=await e.scandir(n);t.mkdir(o);const u=new Set((await t.scandir(o)).map(e=>e.name));for(const c of l)c.isFile()?!i&&u.has(c.name)||await t.writeFile(`${o}/${c.name}`,await e.readFile(`${s}/${c.name}`)):await a(e,t,`${s}/${c.name}`,r,i)}},1391:(e,t,n)=>{"use strict";n.d(t,{CY:()=>f,x6:()=>m});var r=n(8878);const i=/<([a-zA-Z0-9]+)>(.*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,s=/(?:\r\n|\r|\n)/g,a={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function o(e,t={}){const n=u(0,"$lingui$"),c=e.replace(s,"").split(i);if(1===c.length)return e;const d=[],h=c.shift();h&&d.push(h);for(const[i,s,u]of l(c)){let e="undefined"!==typeof i?t[i]:void 0;(!e||a[e.type]&&s)&&(e?console.error(`${e.type} is a void element tag therefore it must have no children`):console.error(`Can't use element at index '${i}' as it is not declared in the original translation`),e=r.createElement(r.Fragment)),Array.isArray(e)&&(e=r.createElement(r.Fragment,{},e)),d.push(r.cloneElement(e,{key:n()},s?o(s,t):e.props.children)),u&&d.push(u)}return 1===d.length?d[0]:d}function l(e){if(!e.length)return[];const[t,n,r,i]=e.slice(0,4);return[[t||r,n||"",i]].concat(l(e.slice(4,e.length)))}const u=(e=0,t="")=>()=>`${t}_${e++}`;function c(e){const{render:t,component:n,id:i,message:s,formats:a,lingui:{i18n:l,defaultComponent:u}}=e,c={...e.values},h={...e.components};c&&Object.keys(c).forEach(e=>{const t=c[e];if(!(r.isValidElement(t)||Array.isArray(t)&&t.every(r.isValidElement)))return;const n=Object.keys(h).length;h[n]=t,c[e]=`<${n}/>`});const p=l&&"function"===typeof l._?l._(i,c,{message:s,formats:a}):i,f=p?o(p,h):null;if(null===t||null===n)return f;const m=u||d,g={id:i,message:s,translation:f,isTranslated:i!==f&&s!==f,children:f};if(t&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&"function"!==typeof t)console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(n&&"function"!==typeof n)return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),r.createElement(m,g,f);if("function"===typeof t)return t(g);const y=n||m;return r.createElement(y,g,f)}const d=({children:e})=>r.createElement(r.Fragment,null,e),h=r.createContext(null),p=e=>r.useContext(h);const f=({i18n:e,defaultComponent:t,children:n})=>{const i=r.useRef(e.locale),s=r.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[a,o]=r.useState(s());return r.useEffect(()=>{const t=()=>{i.current=e.locale,o(s())},n=e.on("change",t);return i.current!==e.locale&&t(),n},[e,s]),i.current?r.createElement(h.Provider,{value:a},n):null};function m(e){let t;const n=p(t);return r.createElement(c,{...e,lingui:n})}},1406:(e,t,n)=>{"use strict";var r=n(8878),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},1642:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>d,Gh:()=>N,HS:()=>F,Oi:()=>o,Rr:()=>h,pX:()=>$,pb:()=>R,rc:()=>i,tH:()=>z,ue:()=>m,yD:()=>T,zR:()=>a}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const s="popstate";function a(e){return void 0===e&&(e={}),p(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,a){void 0===a&&(a={});let{window:l=document.defaultView,v5Compat:h=!1}=a,p=l.history,f=i.Pop,m=null,g=y();function y(){return(p.state||{idx:null}).idx}function v(){f=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:f,location:w.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(r({},p.state,{idx:g}),""));let w={get action(){return f},get location(){return e(l,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(s,v),m=e,()=>{l.removeEventListener(s,v),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=i.Push;let r=c(w.location,e,t);n&&n(r,e),g=y()+1;let s=u(r,g),a=w.createHref(r);try{p.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}h&&m&&m({action:f,location:w.location,delta:1})},replace:function(e,t){f=i.Replace;let r=c(w.location,e,t);n&&n(r,e),g=y();let s=u(r,g),a=w.createHref(r);p.replaceState(s,"",a),h&&m&&m({action:f,location:w.location,delta:0})},go:e=>p.go(e)};return w}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=R(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let s=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=O(i);a=A(s[o],e,r)}return a}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=F([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,w=3,_=2,S=1,x=10,k=-2,I=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=k),t&&(r+=_),n.filter(e=>!I(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?S:x),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:F([s,c.pathname]),pathnameBase:j(F([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=F([s,c.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function T(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function N(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=h(e):(s=r({},e),o(!s.pathname||!s.pathname.includes("?"),P("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),P("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),P("#","search","hash",s)));let a,l=""===e||""===s.pathname,u=l?"/":s.pathname;if(null==u)a=n;else{let e=t.length-1;if(!i&&u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:D(i)}}(s,a),d=u&&"/"!==u&&u.endsWith("/"),p=(l||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!p||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class z extends Error{}function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],U=(new Set(B),["get",...B]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1916:(e,t,n)=>{"use strict";n.d(t,{EH:()=>s,Ik:()=>a});var r=n(4544);function i(e){return e.split(r.d$).slice(0,-1).join(r.d$)}function s(){return window.showDirectoryPicker({id:"nand2tetris",mode:"readwrite",startIn:"documents"})}class a{baseDir;constructor(e){this.baseDir=e}async getFolder(e,t=!1){let n=this.baseDir;const i=e.split(r.d$).slice(1).filter(e=>""!=e.trim());for(const r of i)n=await n.getDirectoryHandle(r,{create:t});return n}async copyFile(e,t){throw new Error("unimplemented: FileSystemAccessFileSystemAdapter::copyFile")}async mkdir(e){this.getFolder(e,!0)}async readFile(e){const t=await this.getFolder(i(e));return(await(await t.getFileHandle((0,r.P8)(e))).getFile()).text()}async writeFile(e,t){const n=await this.getFolder(i(e),!0),s=await(await n.getFileHandle((0,r.P8)(e),{create:!0})).createWritable();await s.write(t),await s.close()}async readdir(e){const t=await this.getFolder(e),n=[];for await(const[r,i]of t.entries())n.push(r);return n}async scandir(e){const t=await this.getFolder(e),n=[];for await(const[r,i]of t.entries())n.push({name:r,isDirectory:()=>"directory"==i.kind,isFile:()=>"file"==i.kind});return n}async stat(e){const t=await this.getFolder(i(e));for await(const[n,i]of t.entries())if(n==(0,r.P8)(e))return{name:n,isDirectory:()=>"directory"==i.kind,isFile:()=>"file"==i.kind};return{name:(0,r.P8)(e),isDirectory:()=>!1,isFile:()=>!1}}async rm(e){const t=await this.getFolder(i(e),!0);await t.removeEntry((0,r.P8)(e),{recursive:!0})}}},2331:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,PC:()=>l,UZ:()=>a,s$:()=>o});var r=n(9651);class i extends r._b{bit=r.$L;constructor(e){super(["in","load"],["out"],e,[],["in","load"])}tick(){this.in("load").voltage()===r.RY&&(this.bit=this.in().voltage())}tock(){this.out().pull(this.bit??0)}reset(){this.bit=r.$L,super.reset()}}class s extends r.z7{register;constructor(e,t){super(e),this.register=t}get busVoltage(){return 65535&this.register.bits}set busVoltage(e){this.register.bits=65535&e}}class a extends r._b{bits=0;constructor(e){super(["in[16]","load"],["out[16]"],e,[],["in","load"])}tick(){this.in("load").voltage()===r.RY&&(this.bits=65535&this.in().busVoltage)}tock(){this.out().busVoltage=65535&this.bits}get(e,t){return e===this.name?new s(this.name,this):super.get(e,t)}reset(){this.bits=0,super.reset()}}class o extends a{}class l extends r._b{bits=0;constructor(e){super(["in[16]","reset","load","inc"],["out[16]"],e,[],["in","reset","load","inc"])}tick(){this.in("reset").voltage()===r.RY?this.bits=0:this.in("load").voltage()===r.RY?this.bits=65535&this.in().busVoltage:this.in("inc").voltage()===r.RY&&(this.bits+=1)}tock(){this.out().busVoltage=65535&this.bits}get(e,t){return e===this.name?new s(this.name,this):super.get(e,t)}reset(){this.bits=0,super.reset()}}},2469:(e,t,n)=>{"use strict";n.d(t,{H8:()=>a,Z1:()=>s,vA:()=>i});class r extends Error{constructor(e="Assertion failed"){super(e)}}function i(e,t){if(!e)throw new r(t instanceof Function?t():t)}function s(e,t="Assertion failed: value does not exist"){return i(null!=e,t),e}function a(e,t=`Unexpected value ${e}`){throw new Error(t instanceof Function?t():t)}},2527:(e,t,n)=>{"use strict";t.MH=void 0;const r=n(5384);function i(e,t,n){const i=function(e){return e.match(/[^a-f0-9]/i)?NaN:parseInt(e,16)}(e);if(Number.isNaN(i)||void 0!==n&&n!==e.length)throw new SyntaxError(r.errorMessages.get(t));return i}function s(e,t){const n=i(e,r.ErrorType.MalformedUnicode,4);if(void 0!==t){const e=i(t,r.ErrorType.MalformedUnicode,4);return String.fromCharCode(n,e)}return String.fromCharCode(n)}const a=new Map([["b","\b"],["f","\f"],["n","\n"],["r","\r"],["t","\t"],["v","\v"],["0","\0"]]);const o=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function l(e,t=!1){return e.replace(o,function(e,n,o,l,u,c,d,h,p){if(void 0!==n)return"\\";if(void 0!==o)return function(e){const t=i(e,r.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(t)}(o);if(void 0!==l)return function(e){if("{"!==(t=e).charAt(0)||"}"!==t.charAt(t.length-1))throw new SyntaxError(r.errorMessages.get(r.ErrorType.MalformedUnicode));var t;const n=i(e.slice(1,-1),r.ErrorType.MalformedUnicode);try{return String.fromCodePoint(n)}catch(s){throw s instanceof RangeError?new SyntaxError(r.errorMessages.get(r.ErrorType.CodePointLimit)):s}}(l);if(void 0!==u)return s(u,c);if(void 0!==d)return s(d);if("0"===h)return"\0";if(void 0!==h)return function(e,t=!1){if(t)throw new SyntaxError(r.errorMessages.get(r.ErrorType.OctalDeprecation));const n=parseInt(e,8);return String.fromCharCode(n)}(h,!t);if(void 0!==p)return f=p,a.get(f)||f;var f;throw new SyntaxError(r.errorMessages.get(r.ErrorType.EndOfString))})}t.MH=l},2548:(e,t,n)=>{"use strict";n.d(t,{FY:()=>a,P9:()=>l,aN:()=>o});var r=n(270),i=n(8032);function s(e,t){const n=[];for(let r=0;r<t;r++)n.push(e.get(e.SP-t+r));return n}function a(e,t){const n=l[`${e}.${t.name.value}`];return n&&n.args.length==t.parameters.length&&n.args.every((e,n)=>e==t.parameters[n].type.value)&&n.returnType==t.returnType.value}function o(e,t){return`${t.returnType} ${e}(${t.args.join(",")}`}const l={"Math.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"Math.multiply":{func:(e,t)=>{const[n,r]=s(e,2);return n*r&65535},args:["int","int"],returnType:"int",type:"function"},"Math.divide":{func:(e,t)=>{const[n,i]=s(e,2);return 0==i?(t.sys.error(r.X.DIVIDE_BY_ZERO),0):65535&Math.floor(n/i)},args:["int","int"],returnType:"int",type:"function"},"Math.min":{func:(e,t)=>{const[n,r]=s(e,2);return 65535&Math.min(n,r)},args:["int","int"],returnType:"int",type:"function"},"Math.max":{func:(e,t)=>{const[n,r]=s(e,2);return 65535&Math.max(n,r)},args:["int","int"],returnType:"int",type:"function"},"Math.sqrt":{func:(e,t)=>{const[n]=s(e,1);return n<0?(t.sys.error(r.X.SQRT_NEG),0):65535&Math.floor(Math.sqrt(n))},args:["int"],returnType:"int",type:"function"},"Math.abs":{func:(e,t)=>{const[n]=s(e,1);return 65535&Math.abs(n)},args:["int"],returnType:"int",type:"function"},"Screen.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"Screen.clearScreen":{func:(e,t)=>(t.screen.clear(),0),args:[],returnType:"void",type:"function"},"Screen.setColor":{func:(e,t)=>{const[n]=s(e,1);return t.screen.color=0!==n,0},args:["boolean"],returnType:"void",type:"function"},"Screen.drawPixel":{func:(e,t)=>{const[n,r]=s(e,2);return t.screen.drawPixel(n,r),0},args:["int","int"],returnType:"void",type:"function"},"Screen.drawLine":{func:(e,t)=>{const[n,r,i,a]=s(e,4);return t.screen.drawLine(n,r,i,a),0},args:["int","int","int","int"],returnType:"void",type:"function"},"Screen.drawRectangle":{func:(e,t)=>{const[n,r,i,a]=s(e,4);return t.screen.drawRect(n,r,i,a),0},args:["int","int","int","int"],returnType:"void",type:"function"},"Screen.drawCircle":{func:(e,t)=>{const[n,r,i]=s(e,3);return t.screen.drawCircle(n,r,i),0},args:["int","int","int"],returnType:"void",type:"function"},"Memory.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"Memory.peek":{func:(e,t)=>{const[n]=s(e,1);return e.get(n)},args:["int"],returnType:"int",type:"function"},"Memory.poke":{func:(e,t)=>{const[n,r]=s(e,2);return e.set(n,r),0},args:["int","int"],returnType:"void",type:"function"},"Memory.alloc":{func:(e,t)=>{const[n]=s(e,1);return t.memory.alloc(n)},args:["int"],returnType:"Array",type:"function"},"Memory.deAlloc":{func:(e,t)=>{const[n]=s(e,1);return t.memory.deAlloc(n),0},args:["Array"],returnType:"void",type:"function"},"Array.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"Array.new":{func:(e,t)=>{const[n]=s(e,1);return n<=0?(t.sys.error(r.X.ARRAY_SIZE_NOT_POSITIVE),0):t.memory.alloc(n)},args:["int"],returnType:"Array",type:"constructor"},"Array.dispose":{func:(e,t)=>{const[n]=s(e,1);return t.memory.deAlloc(n),0},args:[],returnType:"void",type:"method"},"String.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"String.new":{func:(e,t)=>{const[n]=s(e,1);return t.string.new(n)},args:["int"],returnType:"String",type:"constructor"},"String.dispose":{func:(e,t)=>{const[n]=s(e,1);return t.string.dispose(n),0},args:[],returnType:"void",type:"method"},"String.length":{func:(e,t)=>{const[n]=s(e,1);return t.string.length(n)},args:[],returnType:"int",type:"method"},"String.charAt":{func:(e,t)=>{const[n,r]=s(e,2);return t.string.charAt(n,r)},args:["int"],returnType:"char",type:"method"},"String.setCharAt":{func:(e,t)=>{const[n,r,i]=s(e,3);return t.string.setCharAt(n,r,i),0},args:["int","char"],returnType:"void",type:"method"},"String.appendChar":{func:(e,t)=>{const[n,r]=s(e,2);return t.string.appendChar(n,r)},args:["char"],returnType:"String",type:"method"},"String.eraseLastChar":{func:(e,t)=>{const[n]=s(e,1);return t.string.eraseLastChar(n),0},args:[],returnType:"void",type:"method"},"String.intValue":{func:(e,t)=>{const[n]=s(e,1);return t.string.intValue(n)},args:[],returnType:"int",type:"method"},"String.setInt":{func:(e,t)=>{const[n,r]=s(e,2);return t.string.setInt(n,r),0},args:["int"],returnType:"void",type:"method"},"String.backSpace":{func:(e,t)=>i.G_,args:[],returnType:"char",type:"function"},"String.doubleQuote":{func:(e,t)=>i.MD,args:[],returnType:"char",type:"function"},"String.newLine":{func:(e,t)=>i.qK,args:[],returnType:"char",type:"function"},"Output.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"Output.moveCursor":{func:(e,t)=>{const[n,r]=s(e,2);return t.output.moveCursor(n,r),0},args:["int","int"],returnType:"void",type:"function"},"Output.printChar":{func:(e,t)=>{const[n]=s(e,1);return t.output.printChar(n),0},args:["char"],returnType:"void",type:"function"},"Output.printString":{func:(e,t)=>{const[n]=s(e,1);return t.output.printString(n),0},args:["String"],returnType:"void",type:"function"},"Output.printInt":{func:(e,t)=>{const[n]=s(e,1);return t.output.printInt(n),0},args:["int"],returnType:"void",type:"function"},"Output.println":{func:(e,t)=>(t.output.println(),0),args:[],returnType:"void",type:"function"},"Output.backSpace":{func:(e,t)=>(t.output.backspace(),0),args:[],returnType:"void",type:"function"},"Keyboard.init":{func:(e,t)=>0,args:[],returnType:"void",type:"function"},"Keyboard.keyPressed":{func:(e,t)=>t.keyboard.keyPressed(),args:[],returnType:"char",type:"function"},"Keyboard.readChar":{func:(e,t)=>(t.keyboard.readChar(),0),args:[],returnType:"char",type:"function"},"Keyboard.readLine":{func:(e,t)=>{const[n]=s(e,1);return t.keyboard.readLine(n),0},args:["String"],returnType:"String",type:"function"},"Keyboard.readInt":{func:(e,t)=>{const[n]=s(e,1);return t.keyboard.readInt(n),0},args:["String"],returnType:"int",type:"function"},"Sys.halt":{func:(e,t)=>(t.sys.halt(),0),args:[],returnType:"void",type:"function"},"Sys.error":{func:(e,t)=>{const[n]=s(e,1);return t.sys.error(n),0},args:["int"],returnType:"void",type:"function"},"Sys.wait":{func:(e,t)=>{const[n]=s(e,1);return t.sys.wait(n),0},args:["int"],returnType:"void",type:"function"}}},2777:(e,t,n)=>{"use strict";var r=n(8878),i=n(7116);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var j,M=Object.assign;function D(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var z=!1;function $(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function B(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,ke=null;function Ie(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ce(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Ae(){if(xe){var e=xe,t=ke;if(ke=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ee(e,t){return e(t)}function Oe(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ee(e,t,n)}finally{Re=!1,(null!==xe||null!==ke)&&(Oe(),Ae())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Te=!1}function Fe(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var je=!1,Me=null,De=!1,ze=null,$e={onError:function(e){je=!0,Me=e}};function Be(e,t,n,r,i,s,a,o,l){je=!1,Me=null,Fe.apply($e,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,xt,kt,It,Ct=!1,At=[],Et=null,Ot=null,Rt=null,Pt=new Map,Lt=new Map,Tt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function jt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void It(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Dt(e)&&n.delete(t)}function $t(){Ct=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Ot&&Dt(Ot)&&(Ot=null),null!==Rt&&Dt(Rt)&&(Rt=null),Pt.forEach(zt),Lt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$t)))}function Ut(e){function t(t){return Bt(t,e)}if(0<At.length){Bt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Ot&&Bt(Ot,e),null!==Rt&&Bt(Rt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Tt.shift()}var Vt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,s=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=s}}function Gt(e,t,n,r){var i=bt,s=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=s}}function qt(e,t,n,r){if(Wt){var i=Zt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=jt(Et,e,t,n,r,i),!0;case"dragenter":return Ot=jt(Ot,e,t,n,r,i),!0;case"mouseover":return Rt=jt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,jt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lt.set(s,jt(Lt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Zt(e,t,n,r))&&Wr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Zt(e,t,n,r){if(Kt=null,null!==(e=vi(e=_e(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),dn=M({},un,{view:0,detail:0}),hn=sn(dn),pn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(M({},pn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(M({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return kn}var Cn=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Cn),En=sn(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=sn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Pn),Tn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var jn=c&&"TextEvent"in window&&!Fn,Mn=c&&(!Nn||Fn&&8<Fn&&11>=Fn),Dn=String.fromCharCode(32),zn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){Dr(e,0)}function Zn(e){if(q(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(qn)){var t=[];Hn(t,qn,e,_e(e)),Pe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(qn)}function sr(e,t){if("click"===e)return Zn(t)}function ar(e,t){if("input"===e||"change"===e)return Zn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},kr={};function Ir(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return xr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Ir("animationend"),Ar=Ir("animationiteration"),Er=Ir("animationstart"),Or=Ir("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Rr.set(e,t),l(t,[e])}for(var Tr=0;Tr<Pr.length;Tr++){var Nr=Pr[Tr];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(Cr,"onAnimationEnd"),Lr(Ar,"onAnimationIteration"),Lr(Er,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Or,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(Be.apply(this,arguments),je){if(!je)throw Error(s(198));var c=Me;je=!1,Me=null,De||(De=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,u),s=l}}}if(De)throw e=ze,De=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(jr.has(t)||$r(t,!1,e),$r(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,$r("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=s,i=_e(n),a=[];e:{var o=Rr.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Cr:case Ar:case Er:l=yn;break;case Or:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Le(f,h))&&c.push(Hr(f,m,p)))),d)break;f=f.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:wi(l),p=null==u?o:wi(u),(o=new c(m,f+"leave",l,n,i)).target=d,o.relatedTarget=p,m=null,vi(i)===r&&((c=new c(h,f+"enter",u,n,i)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,f=0,p=c=l;p;p=qr(p))f++;for(p=0,m=h;m;m=qr(m))p++;for(;0<f-p;)c=qr(c),f--;for(;0<p-f;)h=qr(h),p--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=qr(c),h=qr(h)}c=null}else c=null;null!==l&&Kr(a,o,l,c,!1),null!==u&&null!==d&&Kr(a,d,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Wn(o))if(Qn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Xt="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Dn);case"textInput":return(e=t.data)===Dn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&$n(e,t)?(e=en(),Jt=Xt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Dr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Le(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Le(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Le(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Le(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[pi]||null}var Si=[],xi=-1;function ki(e){return{current:e}}function Ii(e){0>xi||(e.current=Si[xi],Si[xi]=null,xi--)}function Ci(e,t){xi++,Si[xi]=e.current,e.current=t}var Ai={},Ei=ki(Ai),Oi=ki(!1),Ri=Ai;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ti(){Ii(Oi),Ii(Ei)}function Ni(e,t,n){if(Ei.current!==Ai)throw Error(s(168));Ci(Ei,t),Ci(Oi,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,V(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ri=Ei.current,Ci(Ei,e),Ci(Oi,Oi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Fi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ii(Oi),Ii(Ei),Ci(Ei,e)):Ii(Oi),Ci(Oi,n)}var Di=null,zi=!1,$i=!1;function Bi(e){null===Di?Di=[e]:Di.push(e)}function Ui(){if(!$i&&null!==Di){$i=!0;var e=0,t=bt;try{var n=Di;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,zi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),qe(Je,Ui),i}finally{bt=t,$i=!1}}return null}var Vi=[],Wi=0,Hi=null,Gi=0,qi=[],Ki=0,Zi=null,Yi=1,Qi="";function Xi(e,t){Vi[Wi++]=Gi,Vi[Wi++]=Hi,Hi=e,Gi=t}function Ji(e,t,n){qi[Ki++]=Yi,qi[Ki++]=Qi,qi[Ki++]=Zi,Zi=e;var r=Yi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Qi=s+e}else Yi=1<<s|n<<i|r,Qi=e}function es(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ts(e){for(;e===Hi;)Hi=Vi[--Wi],Vi[Wi]=null,Gi=Vi[--Wi],Vi[Wi]=null;for(;e===Zi;)Zi=qi[--Ki],qi[Ki]=null,Qi=qi[--Ki],qi[Ki]=null,Yi=qi[--Ki],qi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ui(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Du(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fu(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case L:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===o.length)return n(i,d),is&&Xi(i,m),u;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===c?u=d:c.sibling=d,c=d);return is&&Xi(i,m),u}for(d=r(i,d);m<o.length;m++)null!==(g=f(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Xi(i,m),u}function g(i,o,l,u){var c=F(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&Xi(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,u))&&(o=a(v,o,g),null===d?c=v:d.sibling=v,d=v);return is&&Xi(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),is&&Xi(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===x){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&vs(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=gs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===x?((s=Fu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Nu(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Du(a,r.mode,l)).return=r,r=s}return o(r);case L:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(F(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Ss=ki(null),xs=null,ks=null,Is=null;function Cs(){Is=ks=xs=null}function As(e){var t=Ss.current;Ii(Ss),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){xs=e,Is=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===xs)throw Error(s(308));ks=e,xs.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Ls(e){null===Ps?Ps=[e]:Ps.push(e)}function Ts(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ls(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ls(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function $s(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var i=e.updateQueue;Fs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,c=u=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=M({},d,h);break e;case 2:Fs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=d}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Hs=ki(Ws),Gs=ki(Ws),qs=ki(Ws);function Ks(e){if(e===Ws)throw Error(s(174));return e}function Zs(e,t){switch(Ci(qs,t),Ci(Gs,e),Ci(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Hs),Ci(Hs,t)}function Ys(){Ii(Hs),Ii(Gs),Ii(qs)}function Qs(e){Ks(qs.current);var t=Ks(Hs.current),n=le(t,e.type);t!==n&&(Ci(Gs,e),Ci(Hs,n))}function Xs(e){Gs.current===e&&(Ii(Hs),Ii(Gs))}var Js=ki(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ua=!1,ca=!1,da=0,ha=0;function pa(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Xa:Ja,e=n(r,i),ca){a=0;do{if(ca=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ca)}if(ra.current=Qa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ua=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var d=c.lane;if((sa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=r):u=u.next=h,aa.lanes|=d,jl|=d}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function xa(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Fa(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ra(9,Ia.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&sa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Ea(e)}function Ca(e,t,n){return n(function(){Aa(t)&&Ea(e)})}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ea(e){var t=Ns(e,1);null!==t&&nu(t,e,1,-1)}function Oa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=qa.bind(null,aa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return va().memoizedState}function La(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Ta(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Ra(t,n,s,r))}aa.flags|=e,i.memoizedState=Ra(1|t,n,s,r)}function Na(e,t){return La(8390656,8,e,t)}function Fa(e,t){return Ta(2048,8,e,t)}function ja(e,t){return Ta(4,2,e,t)}function Ma(e,t){return Ta(4,4,e,t)}function Da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ta(4,4,Da.bind(null,t,e),n)}function $a(){}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,jl|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ha(){return va().memoizedState}function Ga(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Za(t,n);else if(null!==(n=Ts(e,t,n,r))){nu(n,e,r,eu()),Ya(n,t,r)}}function qa(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ls(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ts(e,t,i,r))&&(nu(n,e,r,i=eu()),Ya(n,t,r))}}function Ka(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Za(e,t){ca=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qa={readContext:Rs,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Xa={readContext:Rs,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Na,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Oa,useDebugValue:$a,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Wa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&sa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Na(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Ol.identifierPrefix;if(is){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Rs,useCallback:Ba,useContext:Rs,useEffect:Fa,useImperativeHandle:za,useInsertionEffect:ja,useLayoutEffect:Ma,useMemo:Ua,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:$a,useDeferredValue:function(e){return Va(va(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:xa,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:Rs,useCallback:Ba,useContext:Rs,useEffect:Fa,useImperativeHandle:za,useInsertionEffect:ja,useLayoutEffect:Ma,useMemo:Ua,useReducer:_a,useRef:Pa,useState:function(){return _a(ba)},useDebugValue:$a,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:Va(t,oa.memoizedState,e)},useTransition:function(){return[_a(ba)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:xa,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nu(t,e,i,r),$s(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nu(t,e,i,r),$s(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(nu(t,e,r,n),$s(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ai,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(i=Li(t)?Ri:Ei.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ai),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Rs(s):(s=Li(t)?Ri:Ei.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Us(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),co(0,t)},n}function fo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Os(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function So(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Tu(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Tl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Tl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Tl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Tl,Ll),Ll|=r;return wo(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Li(n)?Ri:Ei.current;return s=Pi(t,s),Os(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Ao(e,t,n,r,i){if(Li(n)){var s=!0;ji(t)}else s=!1;if(Os(t,i),null===t.stateNode)Vo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Rs(u):u=Pi(t,u=Li(n)?Ri:Ei.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&ao(t,a,r,u),Fs=!1;var h=t.memoizedState;a.state=h,Us(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Oi.current||Fs?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Fs||io(t,n,o,r,h,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),a.props=u,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Pi(t,l=Li(n)?Ri:Ei.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Fs=!1,h=t.memoizedState,a.state=h,Us(t,r,a,i);var f=t.memoizedState;o!==d||h!==f||Oi.current||Fs?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(u=Fs||io(t,n,u,r,h,f,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,s,i)}function Eo(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Wo(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Zs(e,t.containerInfo)}function Ro(e,t,n,r,i){return ps(),fs(i),t.flags|=256,wo(e,t,n,r),t.child}var Po,Lo,To,No,Fo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Js.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(Js,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=ju(l,i,0,null),e=Fu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(n),t.memoizedState=Fo,e):Do(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ju({mode:"visible",children:r.children},i,0,null),(a=Fu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=Fo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Ol)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),nu(r,e,i,-1))}return mu(),zo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(qi[Ki++]=Yi,qi[Ki++]=Qi,qi[Ki++]=Zi,Yi=e.id,Qi=e.overflow,Zi=t),t=Do(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Tu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Tu(r,o):(o=Fu(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?jo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Fo,i}return e=(o=e.child).sibling,i=Tu(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Do(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $o(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n,t);else if(19===e.tag)$o(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Tu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Li(t.type)&&Ti(),Go(t),null;case 3:return r=t.stateNode,Ys(),Ii(Oi),Ii(Ei),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(au(ss),ss=null))),Lo(e,t),Go(t),null;case 5:Xs(t);var i=Ks(qs.current);if(n=t.type,null!==e&&null!=t.stateNode)To(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Ks(Hs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)zr(Fr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),J(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)zr(Fr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=Z(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(qs.current),Ks(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Ii(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(au(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Ys(),Lo(e,t),null===e&&Ur(t.stateNode.containerInfo),Go(t),null;case 10:return As(t.type._context),Go(t),null;case 19:if(Ii(Js),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Js,1&Js.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Ul&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*Qe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=Js.current,Ci(Js,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return Li(t.type)&&Ti(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ii(Oi),Ii(Ei),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ii(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(Js),null;case 4:return Ys(),null;case 10:return As(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},To=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(Hs.current);var s,a=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},No=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zo=!1,Yo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Jo(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ku(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach(function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));pl(a,o,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ku(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){ku(e,e.return,g)}try{nl(5,e,e.return)}catch(g){ku(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){ku(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,o);var c=be(l,a);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){ku(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){ku(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){ku(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Qe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(c=Yo)||d,ml(t,e),Yo=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(f=(p=Xo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Jo(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){ku(r,n,g)}}break;case 5:Jo(p,p.return);break;case 22:if(null!==p.memoizedState){_l(h);continue}}null!==f?(f.return=p,Xo=f):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){ku(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ku(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){ku(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var i=Xo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Zo;var u=Yo;if(Zo=a,(Yo=l)&&!u)for(Xo=i;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Xo=l):Sl(i);for(;null!==s;)Xo=s,bl(s,t,n),s=s.sibling;Xo=i,Zo=o,Yo=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xo=s):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(p){ku(t,t.return,p)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function _l(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function Sl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){ku(t,i,l)}}var s=t.return;try{il(t)}catch(l){ku(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){ku(t,a,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var xl,kl=Math.ceil,Il=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,El=0,Ol=null,Rl=null,Pl=0,Ll=0,Tl=ki(0),Nl=0,Fl=null,jl=0,Ml=0,Dl=0,zl=null,$l=null,Bl=0,Ul=1/0,Vl=null,Wl=!1,Hl=null,Gl=null,ql=!1,Kl=null,Zl=0,Yl=0,Ql=null,Xl=-1,Jl=0;function eu(){return 0!==(6&El)?Qe():-1!==Xl?Xl:Xl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(s(185));yt(e,n,r),0!==(2&El)&&e===Ol||(e===Ol&&(0===(2&El)&&(Ml|=n),4===Nl&&ou(e,Pl)),ru(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Qe()+500,zi&&Ui()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Ol?Pl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),ai(function(){0===(6&El)&&Ui()}),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Jl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=El;El|=2;var a=fu();for(Ol===e&&Pl===t||(Vl=null,Ul=Qe()+500,hu(e,t));;)try{vu();break}catch(l){pu(e,l)}Cs(),Il.current=a,El=i,null!==Rl?t=0:(Ol=null,Pl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=su(e,i))),1===t)throw n=Fl,hu(e,0),ou(e,r),ru(e,Qe()),n;if(6===t)ou(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(a=ft(e))&&(r=a,t=su(e,a))),1===t))throw n=Fl,hu(e,0),ou(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_u(e,$l,Vl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,$l,Vl),t);break}_u(e,$l,Vl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,$l,Vl),r);break}_u(e,$l,Vl);break;default:throw Error(s(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=$l,$l=n,null!==t&&au(t)),e}function au(e){null===$l?$l=e:$l.push.apply($l,e)}function ou(e,t){for(t&=~Dl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&El))throw Error(s(327));Su();var t=ht(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Fl,hu(e,0),ou(e,t),ru(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,$l,Vl),ru(e,Qe()),null}function uu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Qe()+500,zi&&Ui())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&Su();var t=El;El|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(El=t))&&Ui()}}function du(){Ll=Tl.current,Ii(Tl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ti();break;case 3:Ys(),Ii(Oi),Ii(Ei),na();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:Ii(Js);break;case 10:As(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ol=e,Rl=e=Tu(e.current,null),Pl=Ll=t,Nl=0,Fl=null,Dl=Ml=jl=0,$l=zl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function pu(e,t){for(;;){var n=Rl;try{if(Cs(),ra.current=Qa,ua){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(sa=0,la=oa=aa=null,ca=!1,da=0,Cl.current=null,null===n||null===n.return){Nl=1,Fl=t,Rl=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,yo(f,o,l,0,t),1&f.mode&&mo(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mo(a,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),fs(lo(u,l));break e}}a=u=lo(u,l),4!==Nl&&(Nl=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,po(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fu(){var e=Il.current;return Il.current=Qa,null===e?Qa:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ol||0===(268435455&jl)&&0===(268435455&Ml)||ou(Ol,Pl)}function gu(e,t){var n=El;El|=2;var r=fu();for(Ol===e&&Pl===t||(Vl=null,hu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(Cs(),El=n,Il.current=r,null!==Rl)throw Error(s(261));return Ol=null,Pl=0,Nl}function yu(){for(;null!==Rl;)bu(Rl)}function vu(){for(;null!==Rl&&!Ze();)bu(Rl)}function bu(e){var t=xl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wu(e):Rl=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Ll)))return void(Rl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Nl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Nl&&(Nl=5)}function _u(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Kl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ol&&(Rl=Ol=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ou(tt,function(){return Su(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var o=bt;bt=1;var l=El;El|=4,Cl.current=null,function(e,t){if(ei=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(u=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=o),p===a&&++d===r&&(u=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){ku(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),El=l,bt=o,Al.transition=a}else e.current=n;if(ql&&(ql=!1,Kl=e,Zl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Zl)&&0!==e.tag&&Su(),a=e.pendingLanes,0!==(1&a)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Ui()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function Su(){if(null!==Kl){var e=wt(Zl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Zl=0,0!==(6&El))throw Error(s(331));var i=El;for(El|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(0!==(16&Xo.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xo=c;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var p=(d=Xo).sibling,f=d.return;if(sl(d),d===c){Xo=null;break}if(null!==p){p.return=f,Xo=p;break}Xo=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(a=Xo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Xo=v;break e}Xo=a.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){ku(l,l.return,S)}if(l===o){Xo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xo=_;break e}Xo=l.return}}if(El=i,Ui(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function xu(e,t,n){e=zs(e,t=po(0,t=lo(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zs(t,e=fo(t,e=lo(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Pl&n)===n&&(4===Nl||3===Nl&&(130023424&Pl)===Pl&&500>Qe()-Bl?hu(e,0):Dl|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ns(e,t))&&(yt(e,t,n),ru(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}function Ou(e,t){return qe(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Ru(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tu(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Lu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Fu(n.children,i,a,t);case k:o=8,i|=8;break;case I:return(e=Pu(12,n,t,2|i)).elementType=I,e.lanes=a,e;case O:return(e=Pu(13,n,t,i)).elementType=O,e.lanes=a,e;case R:return(e=Pu(19,n,t,i)).elementType=R,e.lanes=a,e;case T:return ju(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case A:o=9;break e;case E:o=11;break e;case P:o=14;break e;case L:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Fu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,i,s,a,o,l){return e=new zu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function Bu(e){if(!e)return Ai;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Li(n))return Fi(e,n,t)}return t}function Uu(e,t,n,r,i,s,a,o,l){return(e=$u(n,r,!0,e,0,s,0,o,l)).context=Bu(null),n=e.current,(s=Ds(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Vu(e,t,n,r){var i=t.current,s=eu(),a=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(nu(e,i,a,s),$s(e,i,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),ps();break;case 5:Qs(t);break;case 1:Li(t.type)&&ji(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ci(Js,1&Js.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ci(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var i=Pi(t,Ei.current);Os(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Eo(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Ao(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=So(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Oo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Wo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Mo(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(Ss,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Oi.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Ds(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Es(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Os(t,n),r=r(i=Rs(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),So(e,t,r,i=to(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Vo(e,t),t.tag=1,Li(r)?(e=!0,ji(t)):e=!1,Os(t,n),so(t,r,i),oo(t,r,i,n),Eo(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Ju(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wu(a);o.call(e)}}Vu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wu(a);s.call(e)}}var a=Uu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=a,e[fi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wu(l);o.call(e)}}var l=$u(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu(function(){Vu(t,l,n,r)}),l}(n,t,e,i,r);return Wu(a)}Zu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vu(e,t,null,null)},Zu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Vu(null,e,null,null)}),t[fi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Qe()),0===(6&El)&&(Ul=Qe()+500,Ui()))}break;case 13:cu(function(){var t=Ns(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Gu(e,1)}},St=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Ns(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},kt=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));q(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uu,Oe=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ce,Ae,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$u(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(s(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(s(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Ju(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3015:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(782);const i=({name:e})=>(0,r.jsx)("span",{className:"material-symbols-outlined",children:e})},3096:(e,t,n)=>{"use strict";n.d(t,{z:()=>V});var r=n(2469),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function u(e){return"function"===typeof e}function c(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var d=c(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function h(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var p=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var c=a(s),h=c.next();!h.done;h=c.next()){h.value.remove(this)}}catch(b){e={error:b}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else s.remove(this);var p=this.initialTeardown;if(u(p))try{p()}catch(w){i=w instanceof d?w.errors:[w]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var m=a(f),y=m.next();!y.done;y=m.next()){var v=y.value;try{g(v)}catch(_){i=null!==i&&void 0!==i?i:[],_ instanceof d?i=l(l([],o(i)),o(_.errors)):i.push(_)}}}catch(S){n={error:S}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}}if(i)throw new d(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)g(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&h(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&h(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),f=p.EMPTY;function m(e){return e instanceof p||e&&"closed"in e&&u(e.remove)&&u(e.add)&&u(e.unsubscribe)}function g(e){u(e)?e():e.unsubscribe()}var y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=v.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,l([e,t],o(n))):setTimeout.apply(void 0,l([e,t],o(n)))},clearTimeout:function(e){var t=v.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function b(){}var w=_("C",void 0,void 0);function _(e,t,n){return{kind:e,value:t,error:n}}var S=null;function x(e){if(y.useDeprecatedSynchronousErrorHandling){var t=!S;if(t&&(S={errorThrown:!1,error:null}),e(),t){var n=S,r=n.errorThrown,i=n.error;if(S=null,r)throw i}}else e()}var k=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,m(t)&&t.add(n)):n.destination=P,n}return s(t,e),t.create=function(e,t,n){return new E(e,t,n)},t.prototype.next=function(e){this.isStopped?R(function(e){return _("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?R(_("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?R(w,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(p),I=Function.prototype.bind;function C(e,t){return I.call(e,t)}var A=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){O(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){O(n)}else O(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){O(t)}},e}(),E=function(e){function t(t,n,r){var i,s,a=e.call(this)||this;u(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:a&&y.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&C(t.next,s),error:t.error&&C(t.error,s),complete:t.complete&&C(t.complete,s)}):i=t;return a.destination=new A(i),a}return s(t,e),t}(k);function O(e){var t;y.useDeprecatedSynchronousErrorHandling?(t=e,y.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=t)):function(e){v.setTimeout(function(){var t=y.onUnhandledError;if(!t)throw e;t(e)})}(e)}function R(e,t){var n=y.onStoppedNotification;n&&v.setTimeout(function(){return n(e,t)})}var P={closed:!0,next:b,error:function(e){throw e},complete:b},L="function"===typeof Symbol&&Symbol.observable||"@@observable";function T(e){return e}function N(e){return 0===e.length?T:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var F=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,s=(r=e)&&r instanceof k||function(e){return e&&u(e.next)&&u(e.error)&&u(e.complete)}(r)&&m(r)?e:new E(e,t,n);return x(function(){var e=i,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=j(t))(function(t,r){var i=new E({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=j(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function j(e){var t;return null!==(t=null!==e&&void 0!==e?e:y.Promise)&&void 0!==t?t:Promise}var M=c(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),D=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return s(t,e),t.prototype.lift=function(e){var t=new z(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new M},t.prototype.next=function(e){var t=this;x(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=a(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;x(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;x(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,s=n.observers;return r||i?f:(this.currentObservers=null,s.push(e),new p(function(){t.currentObservers=null,h(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new F;return e.source=this,e},t.create=function(e,t){return new z(e,t)},t}(F),z=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return s(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:f},t}(D),$=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(D),B=n(9651);let U;class V{level=B.$L;ticks=0;static get(){return void 0===U&&(U=new V),U}static subscribe(e){return V.get().$.subscribe(e)}get isHigh(){return this.level===B.RY}get isLow(){return this.level===B.$L}subject=new $({level:this.level,ticks:this.ticks});frameSubject=new D;resetSubject=new D;$=this.subject;frame$=this.frameSubject;reset$=this.resetSubject;next(){this.subject.next({level:this.level,ticks:this.ticks})}constructor(){}reset(){this.level=B.$L,this.ticks=0,this.next(),this.resetSubject.next()}tick(){(0,r.vA)(this.level===B.$L,"Can only tick up from LOW"),this.level=B.RY,this.next()}tock(){(0,r.vA)(this.level===B.RY,"Can only tock down from HIGH"),this.level=B.$L,this.ticks+=1,this.next()}toggle(){this.level===B.RY?this.tock():this.tick()}eval(){this.tick(),this.tock()}frame(){this.frameSubject.next()}toString(){return`${this.ticks}${this.level===B.RY?"+":""}`}}},3180:(e,t,n)=>{"use strict";n.d(t,{C1:()=>x,XC:()=>b});var r=n(2469),i=n(4641),s=n(5874),a=n(8463),o=n(7738),l=n(6980),u=n(9651),c=n(3096),d=n(6554),h=n(1106),p=n(8878),f=n(7365),m=n(1296),g=n(7490),y=n(9646),v=n(910);const b="noScreen",w={CPU:["CPU","CPU-external"],Computer:["ComputerAdd","ComputerMax","ComputerRect"]};function _(e,t=!1,n=!1){return{clocked:e.clocked,inPins:(0,g.FX)(e.ins),outPins:(0,g.FX)(e.outs),internalPins:(0,g.FX)(e.pins),chip:[e],pending:t,invalid:n}}const S=c.z.get();function x(){const{fs:e,setStatus:t,storage:n,localFsRoot:g}=(0,p.useContext)(v.L),b=(0,p.useRef)(()=>{}),{initialState:x,reducers:k,actions:I}=(0,p.useMemo)(()=>function(e,t,n,p,g){let y="",v="",b=new u.ti,x="",k=[],I=new h.BX,C=!1,A=!1;const E={setFiles(e,{hdl:t=e.files.hdl,tst:n=e.files.tst,cmp:r=e.files.cmp,out:i=""}){e.files.hdl=t,e.files.tst=n,e.files.cmp=r,e.files.out=i},updateChip(e,t){e.sim=_(b,t?.pending??e.sim.pending,t?.invalid??e.sim.invalid),e.controls.error=e.sim.invalid?t?.error??e.controls.error:void 0},setProjects(e,t){e.controls.projects=t},setProject(e,t){e.controls.project=t},setChips(e,t){e.controls.chips=t},setChip(e,{chipName:t,dir:n}){v=n,y=t,e.controls.chipName=t,e.title=`${t}.hdl`,e.controls.tests=Array.from(k),e.dir=n},clearChip(e){y="",e.controls.chipName="",e.title=void 0,e.controls.tests=[],this.setFiles(e,{hdl:"",tst:"",cmp:"",out:""})},setTest(e,t){e.controls.testName=t},setVisualizationParams(e,t){e.controls.visualizationParameters=new Set(t)},testRunning(e){e.controls.runningTest=!0},testFinished(e){e.controls.runningTest=!1;const n=(0,f.U)(e.files.cmp.trim(),e.files.out.trim());Promise.resolve().then(()=>{t(n?{message:"Simulation successful: The output file is identical to the compare file",severity:"SUCCESS"}:{message:"Simulation error: The output file differs from the compare file",severity:"ERROR"})})},updateTestStep(e){if(e.files.out=I?.log()??"",I?.currentStep?.span)e.controls.span=I.currentStep.span;else if(I.done){const t=e.files.tst.length;e.controls.span={start:t-1,end:t,line:e.files.tst.split("\n").length}}this.updateChip(e,{pending:e.sim.pending,invalid:e.sim.invalid})},updateConfig(e,t){e.config={...e.config,...t}},updateUsingBuiltin(e){e.controls.usingBuiltin=C},displayBuiltin(e){var t,n;x=e.files.hdl,this.setFiles(e,{hdl:(t=e.controls.chipName,n=e.files.hdl,n.replace(/PARTS:([\s\S]*?)\}/,`PARTS:\n\tBUILTIN ${t};`))})},toggleBuiltin(e){e.controls.usingBuiltin=C,C?this.displayBuiltin(e):this.setFiles(e,{hdl:x})}},O={async initialize(){const t=g?"/":"/projects",n=await e.scandir(t),r=[];for(const s of n.filter(e=>e.isDirectory()))(await e.scandir(`${t}/${s.name}`)).some(e=>e.isFile()&&e.name.endsWith(".hdl"))&&r.push(s);const i=(0,m.w9)(r).map(e=>e.name);p.current({action:"setProjects",payload:i}),r.length>0?await O.setProject(i[0]):p.current({action:"setChips",payload:[]}),p.current({action:"clearChip"})},reset(){c.z.get().reset(),b.reset(),I.reset(),p.current({action:"setFiles",payload:{}}),p.current({action:"updateChip"})},async setProject(t){n["/chip/project"]=t,p.current({action:"setProject",payload:t});const r=g?"/":"/projects",i=(await e.scandir(`${r}/${t}`)).filter(e=>e.isFile()&&e.name.endsWith(".hdl")).map(e=>e.name.replace(".hdl","")),s=(0,a.iO)(t,i);p.current({action:"setChips",payload:s}),i.length>0&&this.loadChip(`${r}/${t}/${i[0]}.hdl`,!0)},async loadChip(t,n=!0){p.current({action:"updateUsingBuiltin",payload:!1});const i=await e.readFile(t),s=t.split("/"),a=(0,r.Z1)(s.pop()).replace(".hdl",""),o=s.join("/");await this.compileChip(i,o,a),n&&await this.initializeTests(o,a),p.current({action:"setChip",payload:{chipName:a,dir:o}}),p.current({action:"setFiles",payload:{hdl:i}}),C&&(this.loadBuiltin(),p.current({action:"displayBuiltin"}))},async compileChip(n,r,i){b.remove();const a=await(0,o.qg)(n,r,i,e);if((0,s.ys)(a)){const e=(0,s._)(a);return t({message:(0,s._)(a).message,severity:"ERROR"}),A=!0,void p.current({action:"updateChip",payload:{invalid:!0,error:e}})}this.replaceChip((0,s.Ok)(a))},replaceChip(e){const t=b.ins;for(const[n,{busVoltage:r}]of t){const t=e.ins.get(n);t&&(t.busVoltage=r)}S.reset(),e.eval(),b=e,b.reset(),p.current({action:"updateChip",payload:{invalid:!1}}),p.current({action:"updateTestStep"})},async initializeTests(e,t){k=w[t]??[],this.loadTest(k[0]??t,e)},async loadTest(n,r){if(e)try{r??=v;const t=await e.readFile(`${r}/${n}.tst`);p.current({action:"setFiles",payload:{tst:t,cmp:""}}),p.current({action:"setTest",payload:n}),this.compileTest(t,r)}catch(i){t({message:`Could not find ${n}.tst. Please load test file separately.`,severity:"WARNING"}),console.error(i)}},compileTest(n,r){if(!e)return;p.current({action:"setFiles",payload:{tst:n}});const i=d.uG.parse(n);if((0,s.ys)(i))return t({message:`Failed to parse test ${(0,s._)(i).message}`,severity:"ERROR"}),A=!0,!1;const a=h.BX.from((0,s.Ok)(i),{dir:r,setStatus:t,loadAction:async e=>(await this.loadChip(e,!1),b),compareTo:async t=>{const n=await e.readFile(`${v}/${t}`);p.current({action:"setFiles",payload:{cmp:n}})}});return(0,s.ys)(a)?(A=!0,t({message:(0,s._)(a).message,severity:"ERROR"}),!1):(I=(0,s.Ok)(a).with(b).reset(),I.setFileSystem(e),p.current({action:"updateTestStep"}),!0)},async updateFiles({hdl:e,tst:n,cmp:r,tstPath:s}){A=!1,p.current({action:"setFiles",payload:{hdl:e,tst:n,cmp:r}});try{e&&await this.compileChip(e,v,y),n&&this.compileTest(n,s??v)}catch(a){t({message:(0,i.V)(a),severity:"ERROR"})}p.current({action:"updateChip",payload:{invalid:A}}),A||t("HDL code: No syntax errors")},async saveChip(t){p.current({action:"setFiles",payload:{hdl:t}});const n=`${v}/${y}.hdl`;e&&n&&await e.writeFile(n,t)},toggle(e,t){void 0!==t?e.busVoltage=e.busVoltage^1<<t:1===e.width?e.toggle():e.busVoltage+=1,p.current({action:"updateChip",payload:{pending:!0}})},eval(){b.eval(),p.current({action:"updateChip",payload:{pending:!1}})},clock(){S.toggle(),S.isLow&&S.frame(),p.current({action:"updateChip"})},async loadBuiltin(){const e=y,n=await(0,l.M1)(e);(0,s.ys)(n)?t({message:`Failed to load builtin ${e}: ${(0,i.V)((0,s._)(n))}`,severity:"ERROR"}):this.replaceChip((0,s.Ok)(n))},async toggleBuiltin(){C=!C,p.current({action:"toggleBuiltin"}),C?await this.loadBuiltin():await this.compileChip(x,v,y)},tick(){return this.stepTest()},async stepTest(){try{const e=await I.step();return p.current({action:"updateTestStep"}),e&&p.current({action:"testFinished"}),e}catch(e){return t({message:e.message,severity:"ERROR"}),!0}},getProjectFiles:async()=>(console.log(v),(await e.scandir(v)).filter(e=>e.isFile()&&e.name.endsWith(".hdl")).map(t=>({name:t.name,content:e.readFile(`${v}/${t.name}`)})))};return{initialState:{controls:{projects:["1","2","3","5"],project:"1",chips:[],chipName:"",tests:k,testName:"",usingBuiltin:!1,runningTest:!1,error:void 0,visualizationParameters:new Set},files:{hdl:"",cmp:"",tst:"",out:"",backupHdl:""},sim:_(new u.ti),config:{speed:2}},reducers:E,actions:O}}(e,t,n,b,void 0!=g),[e,t,n,b]),[C,A]=(0,y.A)(k,x);return b.current=A,{state:C,dispatch:b,actions:I}}},3229:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>p,BV:()=>j,C5:()=>T,Ix:()=>F,V8:()=>L,Zp:()=>y,jb:()=>u,qh:()=>N,x$:()=>v,zy:()=>m});var i=n(8878),s=n(1642);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const o=i.createContext(null);const l=i.createContext(null);const u=i.createContext(null);const c=i.createContext(null);const d=i.createContext({outlet:null,matches:[],isDataRoute:!1});const h=i.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,s.Oi)(!1);let{basename:r,navigator:a}=i.useContext(u),{hash:o,pathname:l,search:c}=v(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,s.HS)([r,l])),a.createHref({pathname:d,search:c,hash:o})}function f(){return null!=i.useContext(c)}function m(){return f()||(0,s.Oi)(!1),i.useContext(c).location}function g(e){i.useContext(u).static||i.useLayoutEffect(e)}function y(){let{isDataRoute:e}=i.useContext(d);return e?function(){let{router:e}=A(I.UseNavigateStable),t=O(C.UseNavigateStable),n=i.useRef(!1);return g(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))},[e,t])}():function(){f()||(0,s.Oi)(!1);let e=i.useContext(o),{basename:t,future:n,navigator:r}=i.useContext(u),{matches:a}=i.useContext(d),{pathname:l}=m(),c=JSON.stringify((0,s.yD)(a,n.v7_relativeSplatPath)),h=i.useRef(!1);return g(()=>{h.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!h.current)return;if("number"===typeof n)return void r.go(n);let a=(0,s.Gh)(n,JSON.parse(c),l,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,s.HS)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)},[t,r,c,l,e])}()}function v(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(u),{matches:a}=i.useContext(d),{pathname:o}=m(),l=JSON.stringify((0,s.yD)(a,r.v7_relativeSplatPath));return i.useMemo(()=>(0,s.Gh)(e,JSON.parse(l),o,"path"===n),[e,l,o,n])}function b(e,t,n,r){f()||(0,s.Oi)(!1);let{navigator:o}=i.useContext(u),{matches:l}=i.useContext(d),h=l[l.length-1],p=h?h.params:{},g=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let y,v=m();if(t){var b;let e="string"===typeof t?(0,s.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,s.Oi)(!1),y=e}else y=v;let w=y.pathname||"/",_=w;if("/"!==g){let e=g.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=(0,s.ue)(e,{pathname:_});let x=k(S&&S.map(e=>Object.assign({},e,{params:Object.assign({},p,e.params),pathname:(0,s.HS)([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,s.HS)([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&x?i.createElement(c.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:s.rc.Pop}},x):x}function w(){let e=function(){var e;let t=i.useContext(h),n=E(C.UseRouteError),r=O(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,s.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const _=i.createElement(w,null);class S extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(d.Provider,{value:this.props.routeContext},i.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(o);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(d.Provider,{value:t},r)}function k(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,u=null==(a=n)?void 0:a.errors;if(null!=u){let e=l.findIndex(e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id]));e>=0||(0,s.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,r,s)=>{let a,o=!1,h=null,p=null;var f;n&&(a=u&&r.route.id?u[r.route.id]:void 0,h=r.route.errorElement||_,c&&(d<0&&0===s?(f="route-fallback",!1||R[f]||(R[f]=!0),o=!0,p=null):d===s&&(o=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,s+1)),g=()=>{let t;return t=a?h:o?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(x,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(S,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var I=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function A(e){let t=i.useContext(o);return t||(0,s.Oi)(!1),t}function E(e){let t=i.useContext(l);return t||(0,s.Oi)(!1),t}function O(e){let t=function(){let e=i.useContext(d);return e||(0,s.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,s.Oi)(!1),n.route.id}const R={};const P=(e,t,n)=>{};function L(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&P("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||P("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&P("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&P("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&P("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&P("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(i,2))).startTransition;function T(e){let{to:t,replace:n,state:r,relative:a}=e;f()||(0,s.Oi)(!1);let{future:o,static:l}=i.useContext(u),{matches:c}=i.useContext(d),{pathname:h}=m(),p=y(),g=(0,s.Gh)(t,(0,s.yD)(c,o.v7_relativeSplatPath),h,"path"===a),v=JSON.stringify(g);return i.useEffect(()=>p(JSON.parse(v),{replace:n,state:r,relative:a}),[p,v,a,n,r]),null}function N(e){(0,s.Oi)(!1)}function F(e){let{basename:t="/",children:n=null,location:r,navigationType:o=s.rc.Pop,navigator:l,static:d=!1,future:h}=e;f()&&(0,s.Oi)(!1);let p=t.replace(/^\/*/,"/"),m=i.useMemo(()=>({basename:p,navigator:l,static:d,future:a({v7_relativeSplatPath:!1},h)}),[p,h,l,d]);"string"===typeof r&&(r=(0,s.Rr)(r));let{pathname:g="/",search:y="",hash:v="",state:b=null,key:w="default"}=r,_=i.useMemo(()=>{let e=(0,s.pb)(g,p);return null==e?null:{location:{pathname:e,search:y,hash:v,state:b,key:w},navigationType:o}},[p,g,y,v,b,w,o]);return null==_?null:i.createElement(u.Provider,{value:m},i.createElement(c.Provider,{children:n,value:_}))}function j(e){let{children:t,location:n}=e;return b(M(t),n)}new Promise(()=>{});i.Component;function M(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,M(e.props.children,a));e.type!==N&&(0,s.Oi)(!1),e.props.index&&e.props.children&&(0,s.Oi)(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=M(e.props.children,a)),n.push(o)}),n}},3344:(e,t,n)=>{"use strict";n.d(t,{NQ:()=>K,qK:()=>Z});var r=n(5874);function i(e,{trim:t=!0,skipTrimmed:n=!1}={}){let r=e.replace("\r\n","\n").split("\n");return t&&(r=r.map(e=>e.trim())),n&&(r=r.filter(e=>""!=e)),r}var s=n(7076),a=n(4666),o=n(7844),l=n(8878),u=n(9646),c=n(910);class d{asm={instructions:[]};current=-1;done=!1;symbols=[];variables=new Map;lines=[];lineNumbers=[];getResult(){return this.lines.join("\n")}load(e,t){this.symbols=[{name:"R0",value:"0"},{name:"R1",value:"1"},{name:"R2",value:"2"},{name:"...",value:""},{name:"R15",value:"15"},{name:"SCREEN",value:s.L7.toString()},{name:"KBD",value:s.ky.toString()}],this.variables.clear(),this.asm=e;const n=(0,a.EU)(e,(e,t,n)=>{n?this.variables.set(t,{name:e,isHidden:!0}):this.symbols.push({name:e,value:t.toString()})});return(0,r.ys)(n)?n:(e.instructions=e.instructions.filter(({type:e})=>"L"!==e),this.resolveLineNumbers(t),this.reset(),(0,r.Ok)())}resolveLineNumbers(e){this.lineNumbers=Array(e);let t=0;for(const n of this.asm.instructions)"A"!==n.type&&"C"!==n.type||void 0==n.span||(this.lineNumbers[n.span.line]=t,t+=1)}step(e){if(this.current>=this.asm.instructions.length-1)return;this.current+=1;const t=this.asm.instructions[this.current];if("A"===t.type||"C"===t.type){e.sourceHighlight=t.span;const n=(0,a.ld)(this.asm.instructions[this.current]);if(void 0===n)return;if(this.lines.push(`${(0,o.e5)(n)}`),e.resultHighlight={start:17*this.current,end:17*(this.current+1),line:-1},e.sourceHighlight&&e.highlightMap.set(e.sourceHighlight,e.resultHighlight),(0,a.J$)(t)){const e=this.variables.get(t.value);void 0!=e&&e.isHidden&&(this.symbols.push({name:e.name,value:t.value.toString()}),e.isHidden=!1)}this.current===this.asm.instructions.length-1&&(this.done=!0)}}resetSymbols(){for(const t of this.variables.values())t.isHidden=!0;const e=new Set(Array.from(this.variables.values()).map(e=>e.name));this.symbols=this.symbols.filter(t=>!e.has(t.name))}reset(){this.current=-1,this.lines=[],this.done=!1,this.resetSymbols()}}function h(e,t,n,s){const o=new d,l={resultHighlight:void 0,sourceHighlight:void 0,highlightMap:new Map};let u,c=!0,h=!1,p=!1,f=!1;const m={setAsm(e,{asm:t,path:n}){e.asm=t,n&&(e.path=n)},setCmp(e,{cmp:n,name:r}){e.compare=n,e.compareName=r,t("Loaded compare file")},setError(e,n){n&&t({message:n.message,severity:"ERROR"}),e.error=n},update(e){e.translating=p,e.current=o.current,e.result=o.getResult(),e.symbols=Array.from(o.symbols),e.lineNumbers=Array.from(o.lineNumbers),e.sourceHighlight=l.sourceHighlight,e.resultHighlight=l.resultHighlight,e.compareError=f},compare(e){const n=function(e,t){const n=i(e),r=i(t);if(n.length!=r.length)return{lenA:n.length,lenB:r.length};for(let i=0;i<r.length;i++)if(n[i]!==r[i])return{line:i};return{}}(e.result,e.compare);if(n.lenA)return f=!0,void t({message:"Comparison failed - different lengths",severity:"ERROR"});const{line:r}=n;if(r)return t({message:`Comparison failure: Line ${r}`,severity:"ERROR"}),f=!0,void(l.resultHighlight={start:17*r,end:17*(r+1),line:-1});t({message:"Comparison successful",severity:"SUCCESS"})},setTitle(e,t){e.title=t},updateConfig(e,t){e.config={...e.config,...t}}},g={async loadAsm(t){u=t;const n=await e.readFile(u);g.setAsm(n,u)},setAsm(e,t){e=e.replace(/\r\n/g,"\n"),n.current({action:"setAsm",payload:{asm:e,path:t}}),p=!1,this.saveAsm(e),requestAnimationFrame(()=>{this.compileAsm(e)})},saveAsm(t){u&&e.writeFile(u,t)},compileAsm(e){this.reset();const i=a.y0.parse(e);if((0,r.ys)(i))return n.current({action:"setError",payload:(0,r._)(i)}),void(h=!1);const s=o.load((0,r.Ok)(i),e.split("\n").length);if((0,r.ys)(s))return n.current({action:"setError",payload:(0,r._)(s)}),void(h=!1);h=o.asm.instructions.length>0,t(""),n.current({action:"setError"}),n.current({action:"update"})},setAnimate(e){c=e},step:async()=>(h&&(p=!0),o.step(l),(c||o.done)&&(n.current({action:"update"}),u&&s&&await e.writeFile(u.replace(/\.asm$/,".hack"),o.getResult())),o.done&&t({message:"Translation done.",severity:"SUCCESS"}),o.done),compare(){n.current({action:"compare"}),this.updateHighlight(l.resultHighlight?.start??0,!1),n.current({action:"update"})},updateHighlight(e,t){if(!f){for(const[n,r]of l.highlightMap)(t&&n.start<=e&&e<=n.end||!t&&r.start<=e&&e<=r.end)&&(l.sourceHighlight=n,l.resultHighlight=r);n.current({action:"update"})}},resetHighlightInfo(){l.sourceHighlight=void 0,l.resultHighlight=void 0,l.highlightMap.clear()},reset(){f=!1,p=!1,t("Reset"),o.reset(),this.resetHighlightInfo(),n.current({action:"update"})},clear(){this.setAsm(""),n.current({action:"setTitle",payload:void 0}),n.current({action:"setCmp",payload:""}),this.reset()},overrideState(e){if(this.resetHighlightInfo(),this.setAsm(e.asm,e.path),n.current({action:"setCmp",payload:{cmp:e.compare,name:e.compareName}}),e.translating)for(let t=0;t<=e.current;t++)this.step();n.current({action:"update"})}};return{initialState:{asm:"",path:void 0,translating:!1,current:-1,resultHighlight:void 0,sourceHighlight:void 0,symbols:[],result:"",compare:"",compareName:void 0,lineNumbers:[],compareError:!1,config:{speed:2}},reducers:m,actions:g}}var p=n(3180),f=n(3977),m=n(9563);const g='Jack <: Base {\n    Root := Class\n\n    whitespace = (lineComment | comment | space)\n\n    class = "class" whitespace+\n    Class = class jackIdentifier OpenBrace ClassVarDec* SubroutineDec* CloseBrace\n\n    type = ("int" | "char" | "boolean" | jackIdentifier) whitespace+\n\n    classVarType = ("static" | "field") whitespace+\n    ClassVarDec = classVarType type jackIdentifier TrailingIdentifier* Semi\n    TrailingIdentifier = Comma jackIdentifier\n\n    void = "void" whitespace+\n    returnType = (type | void) \n    subroutineType = ("constructor" | "function" | "method") whitespace+\n    SubroutineDec = subroutineType returnType jackIdentifier OpenParen ParameterList CloseParen SubroutineBody\n\n\n    Parameter = type jackIdentifier\n    Parameters = Parameter TrailingParameter*\n    TrailingParameter = Comma Parameter\n    ParameterList = Parameters?\n\n    SubroutineBody = OpenBrace VarDec* Statement* CloseBrace\n\n    var = "var" whitespace+\n    VarDec = var type jackIdentifier TrailingIdentifier* Semi\n\n    Statement = LetStatement | IfStatement | WhileStatement | DoStatement | ReturnStatement\n\n    arrayAccessStart = jackIdentifier openSquare\n    ArrayAccess = arrayAccessStart Expression CloseSquare\n\n    let = "let" whitespace+\n    LetTarget = ArrayAccess | jackIdentifier\n    LetStatement = let LetTarget Equal Expression Semi\n\n    IfStatement = "if" OpenParen Expression CloseParen OpenBrace Statement* CloseBrace ElseBlock?\n    ElseBlock = "else" OpenBrace Statement* CloseBrace\n\n    WhileStatement = "while" OpenParen Expression CloseParen OpenBrace Statement* CloseBrace\n\n    do = "do" whitespace+\n    DoStatement = do SubroutineCall Semi\n\n    return = "return"\n    returnWithSpace = "return" whitespace+\n    ReturnStatement = EmptyReturn | ReturnValue\n    EmptyReturn = return Semi\n    ReturnValue = returnWithSpace Expression Semi\n\n    op = "+" | "-" | "*" | "/" | "&" | "|" | "<" | ">" | "="\n    ExpressionPart = op Term\n    Expression = Term ExpressionPart*\n\n    integerConstant = digit+\n    stringConstant = doubleQuote (~doubleQuote ~newline any)* doubleQuote\n    keywordConstant = "true" | "false" | "null" | "this"\n\n    GroupedExpression = OpenParen Expression CloseParen\n\n    unaryOp = "-" | "~"\n    UnaryExpression = unaryOp Term\n\n    Term = integerConstant | stringConstant | keywordConstant | SubroutineCall  | ArrayAccess | jackIdentifier | GroupedExpression | UnaryExpression\n\n    compoundIdentifier = jackIdentifier dot jackIdentifier\n    SubroutineName = compoundIdentifier | jackIdentifier\n    SubroutineCall = SubroutineName OpenParen ExpressionList CloseParen\n\n    ExpressionList = Expressions?\n    Expressions = Expression TrailingExpression*\n    TrailingExpression = Comma Expression\n\n    jackIdentifier = letter (alnum | underscore)*\n}',y=new Set(["int","boolean","char"]);const v=(0,m.qN)(g,f.lN),b=v.extendSemantics(f.JE);function w(e){return e.children.map(e=>e.statement)}b.addAttribute("Root",{Root(e){return this.class}}),b.addAttribute("class",{Class:(e,t,n,r,i,s)=>({name:{value:t.sourceString,span:(0,f.Ln)(t.source)},varDecs:r.children.map(e=>e.classVarDec),subroutines:i.children.map(e=>e.subroutineDec)})}),b.addAttribute("classVarDec",{ClassVarDec:(e,t,n,r,i)=>({varType:e.sourceString.trim(),type:{value:t.sourceString.trim(),span:(0,f.Ln)(t.source)},names:[n.sourceString,...r.children.map(e=>e.child(1).sourceString)]})}),b.addAttribute("subroutineDec",{SubroutineDec:(e,t,n,r,i,s,a)=>({type:e.sourceString.trim(),returnType:{value:t.sourceString.trim(),span:(0,f.Ln)(t.source)},name:{value:n.sourceString,span:(0,f.Ln)(n.source)},parameters:i.parameterList,body:a.subroutineBody})}),b.addAttribute("parameter",{Parameter:(e,t)=>({type:{value:e.sourceString.trim(),span:(0,f.Ln)(e.source)},name:t.sourceString})}),b.addAttribute("parameterList",{ParameterList:e=>e.child(0)?.parameters??[]}),b.addAttribute("parameters",{Parameters:(e,t)=>[e.parameter,...t.children.map(e=>e.child(1).parameter)]}),b.addAttribute("subroutineBody",{SubroutineBody:(e,t,n,r)=>({varDecs:t.children.map(e=>e.varDec),statements:w(n)})}),b.addAttribute("varDec",{VarDec:(e,t,n,r,i)=>({type:{value:t.sourceString.trim(),span:(0,f.Ln)(t.source)},names:[n.sourceString,...r.children.map(e=>e.child(1).sourceString)]})}),b.addAttribute("statement",{LetStatement(e,t,n,r,i){return"variable"==t.term.termType?{statementType:"letStatement",name:{value:t.term.name,span:t.term.span},value:r.expression,span:(0,f.Ln)(this.source)}:{statementType:"letStatement",name:t.term.name,arrayIndex:t.term.index,value:r.expression,span:(0,f.Ln)(this.source)}},IfStatement:(e,t,n,r,i,s,a,o)=>({statementType:"ifStatement",condition:n.expression,body:w(s),else:o.child(0)?.else??[]}),WhileStatement:(e,t,n,r,i,s,a)=>({statementType:"whileStatement",condition:n.expression,body:w(s)}),DoStatement:(e,t,n)=>({statementType:"doStatement",call:t.term}),EmptyReturn(e,t){return{statementType:"returnStatement",span:(0,f.Ln)(this.source)}},ReturnValue(e,t,n){return{statementType:"returnStatement",value:t.expression,span:(0,f.Ln)(this.source)}}}),b.addAttribute("else",{ElseBlock:(e,t,n,r)=>w(n)}),b.addAttribute("term",{integerConstant:e=>({termType:"numericLiteral",value:Number(e.sourceString)}),stringConstant(e,t,n){return{termType:"stringLiteral",value:this.sourceString.slice(1,-1)}},keywordConstant(e){return{termType:"keywordLiteral",value:this.sourceString}},SubroutineCall(e,t,n,r){return{termType:"subroutineCall",name:{value:e.sourceString,span:(0,f.Ln)(e.source)},parameters:n.expressionList,span:(0,f.Ln)(this.source)}},ArrayAccess(e,t,n){const r=e.child(0);return{termType:"arrayAccess",name:{value:r.sourceString,span:(0,f.Ln)(r.source)},index:t.expression,span:(0,f.Ln)(this.source)}},jackIdentifier(e,t){return{termType:"variable",name:`${e.sourceString}${t.sourceString}`,span:(0,f.Ln)(this.source)}},GroupedExpression:(e,t,n)=>({termType:"groupedExpression",expression:t.expression}),UnaryExpression:(e,t)=>({termType:"unaryExpression",op:e.sourceString,term:t.term})}),b.addAttribute("expressionList",{ExpressionList:e=>e.child(0)?.expressions??[]}),b.addAttribute("expressions",{Expressions:(e,t)=>[e.expression,...t.children.map(e=>e.child(1).expression)]}),b.addAttribute("expression",{Expression:(e,t)=>({nodeType:"expression",term:e.term,rest:t.children.map(e=>e.expressionPart)})}),b.addAttribute("expressionPart",{ExpressionPart:(e,t)=>({op:e.sourceString,term:t.term})});const _={parser:v,grammar:g,semantics:b,parse:(0,f.Q5)(v,b,e=>e.class)};var S=n(2548);class x{id;hasReturn=!1;children=[];static count=0;constructor(){this.id=x.count,x.count+=1}alwaysReturns(){const e=new Set;return function t(n){if(n.hasReturn)return!0;if(0===n.children.length)return!1;e.add(n);for(const r of n.children)if(!e.has(r)&&!t(r))return!1;return!0}(this)}getLeafs(){const e=new Set,t=new Set;return function n(r){if(0===r.children.length)e.add(r);else{t.add(r);for(const e of r.children)t.has(e)||n(e)}}(this),Array.from(e)}}function k(e,t,n){const i=new x;n.children.push(i),n=i;const s=C(e.body,t),a=C(e.else,t);if((0,r.ys)(s))return s;if((0,r.ys)(a))return a;const o=(0,r.oA)(s),l=(0,r.oA)(a);n.children.push(o,l);const u=o.getLeafs().concat(l.getLeafs());n=new x;for(const r of u)r.children.push(n);return(0,r.Ok)(n)}function I(e,t,n){const i=new x;n.children.push(i),n=i;const s=C(e.body,t);if((0,r.ys)(s))return s;const a=(0,r.oA)(s);for(const r of a.getLeafs())r.children.push(n);const o=new x;return n.children.push(a,o),n=o,(0,r.Ok)(n)}function C(e,t){const n=new x;let i,s=n;for(const a of e)switch(a.statementType){case"letStatement":case"doStatement":break;case"returnStatement":if("void"!=t&&void 0==a.value)return(0,r._)((0,f.$5)("A non void subroutine must return a value",a.span));s.hasReturn=!0;break;case"ifStatement":if(i=k(a,t,s),(0,r.ys)(i))return i;s=(0,r.oA)(i);break;case"whileStatement":if(i=I(a,t,s),(0,r.ys)(i))return i;s=(0,r.oA)(i)}return(0,r.Ok)(n)}function A(e){const t=C(e.body.statements,e.returnType.value);return(0,r.ys)(t)?t:(0,r.oA)(t).alwaysReturns()?(0,r.Ok)():(0,r._)((0,f.$5)(`Subroutine ${e.name.value}: not all code paths return a value`,e.name.span))}const E=new Set(["Sys","Screen","Output","Keyboard","String","Array","Memory","Math"]);function O(e){return E.has(e)}function R(e){return void 0!=e.message}function P(e){return e.charAt(0).toUpperCase()+e.slice(1)}function L(e){const t=new Set;for(const n of e.subroutines){if(t.has(n.name.value))return(0,r._)((0,f.$5)(`Subroutine ${n.name.value} already declared`,n.name.span));t.add(n.name.value);const e=A(n);if((0,r.ys)(e))return e}return(0,r.Ok)()}const T={"+":"add","-":"sub","*":"call Math.multiply 2","/":"call Math.divide 2","&":"and","|":"or","<":"lt",">":"gt","=":"eq"},N={"-":"neg","~":"not"};class F{instructions=[];globalSymbolTable={};localSymbolTable={};className="";classes={};labelNum=0;fieldNum=0;staticNum=0;localNum=0;get output(){return Array.from(this.instructions)}varData(e){return this.localSymbolTable[e]||this.globalSymbolTable[e]}var(e){let t,n;"string"==typeof e?t=e:"string"==typeof e.name?(t=e.name,n=e.span):(t=e.name.value,n=e.name.span);const r=this.varData(t);if(!r)throw(0,f.$5)(`Undeclared variable ${t}`,n);return`${r.segment} ${r.index}`}write(...e){this.instructions.push(...e)}getLabel(){const e=`${this.className}_${this.labelNum}`;return this.labelNum+=1,e}compile(e,t){this.className=e.name.value,this.classes=t??{};for(const n of e.varDecs)this.compileClassVarDec(n);for(const n of e.subroutines)this.compileSubroutineDec(n);return(0,r.Ok)(this.instructions.map(e=>e.startsWith("function")||e.startsWith("label")?e:"    ".concat(e)).join("\n"))}validateType(e,t){var n;if(n=e,!(y.has(n)||O(e)||this.classes[e]))throw(0,f.$5)(`Unknown type ${e}`,t)}validateReturnType(e,t){"void"!=e&&this.validateType(e,t)}compileClassVarDec(e){this.validateType(e.type.value,e.type.span);for(const t of e.names)"field"==e.varType?(this.globalSymbolTable[t]={type:e.type.value,segment:"this",index:this.fieldNum},this.fieldNum+=1):(this.globalSymbolTable[t]={type:e.type.value,segment:"static",index:this.staticNum},this.staticNum+=1)}compileVarDec(e){this.validateType(e.type.value,e.type.span);for(const t of e.names)this.localSymbolTable[t]={type:e.type.value,segment:"local",index:this.localNum},this.localNum+=1}registerArgs(e,t=!1){let n=0;for(const r of e)this.validateType(r.type.value,r.type.span),this.localSymbolTable[r.name]={type:r.type.value,segment:"argument",index:n+(t?1:0)},n+=1}validateSubroutineDec(e){if(this.validateReturnType(e.returnType.value,e.returnType.span),O(this.className)){const t=S.P9[`${this.className}.${e.name.value}`];if(t&&!(0,S.FY)(this.className,e))throw(0,f.$5)(`OS subroutine ${this.className}.${e.name.value} must follow the interface ${(0,S.aN)(e.name.value,t)})`)}}compileSubroutineDec(e){switch(this.validateSubroutineDec(e),e.type){case"method":this.compileMethod(e);break;case"constructor":this.compileConstructor(e);break;case"function":this.compileFunction(e)}}compileSubroutineStart(e,t=!1){this.localSymbolTable={},this.localNum=0,this.registerArgs(e.parameters,t);const n=e.body.varDecs.map(e=>e.names.length).reduce((e,t)=>e+t,0);this.write(`function ${this.className}.${e.name.value} ${n}`);for(const r of e.body.varDecs)this.compileVarDec(r)}compileFunction(e){this.compileSubroutineStart(e),this.compileStatements(e.body.statements)}compileMethod(e){this.compileSubroutineStart(e,!0),this.write("push argument 0","pop pointer 0"),this.compileStatements(e.body.statements)}compileConstructor(e){this.compileSubroutineStart(e),this.write(`push constant ${this.fieldNum}`,"call Memory.alloc 1","pop pointer 0"),this.compileStatements(e.body.statements)}compileExpression(e){this.compileTerm(e.term);for(const t of e.rest)this.compileTerm(t.term),this.compileOp(t.op)}compileOp(e){this.write(T[e])}compileTerm(e){switch(e.termType){case"numericLiteral":this.write(`push constant ${e.value}`);break;case"stringLiteral":this.compileStringLiteral(e.value);break;case"variable":this.write(`push ${this.var(e)}`);break;case"keywordLiteral":this.compileKeywordLiteral(e.value);break;case"subroutineCall":this.compileSubroutineCall(e);break;case"arrayAccess":this.compileExpression(e.index),this.write(`push ${this.var(e)}`,"add","pop pointer 1","push that 0");break;case"groupedExpression":this.compileExpression(e.expression);break;case"unaryExpression":this.compileTerm(e.term),this.write(N[e.op])}}validateArgNum(e,t,n){const r=n.parameters.length;if(t!=r)throw(0,f.$5)(`${e} expected ${t} arguments, got ${r}`,n.span)}validateSubroutineCall(e,t,n,r){const i=S.P9[`${e}.${t}`];if(!i){if(this.classes[e]){for(const i of this.classes[e].subroutines)if(i.name.value==t){if("method"==i.type&&!r)throw(0,f.$5)(`Method ${e}.${t} was called as a function/constructor`,n.name.span);if("method"!=i.type&&r)throw(0,f.$5)(`${P(i.name.value)} ${e}.${t} was called as a method`,n.name.span);return void this.validateArgNum(`${e}.${t}`,i.parameters.length,n)}throw(0,f.$5)(`Class ${e} doesn't contain a function/constructor ${t}`,n.name.span)}throw(0,f.$5)(`Class ${e} doesn't exist`,n.name.span)}if("method"==i.type&&!r)throw(0,f.$5)(`Method ${e}.${t} was called as a function/constructor`,n.name.span);if("method"!=i.type&&r)throw(0,f.$5)(`${P(i.type)} ${e}.${t} was called as a method`,n.name.span);this.validateArgNum(`${e}.${t}`,i.args.length,n)}classifySubroutineCall(e){let t,n="",r="";if(e.name.value.includes(".")){const[i,s]=e.name.value.split(".",2);r=s;const a=this.varData(i);a?(t=this.var(i),n=a.type):n=i}else t="pointer 0",n=this.className,r=e.name.value;return this.validateSubroutineCall(n,r,e,void 0!=t),{className:n,subroutineName:r,object:t}}compileSubroutineCall(e){const t=this.classifySubroutineCall(e);t.object&&this.write(`push ${t.object}`);for(const n of e.parameters)this.compileExpression(n);this.write(`call ${t.className}.${t.subroutineName} ${e.parameters.length+(t.object?1:0)}`)}compileStringLiteral(e){this.write(`push constant ${e.length}`,"call String.new 1");for(let t=0;t<e.length;t++)this.write(`push constant ${e.charCodeAt(t)}`,"call String.appendChar 2")}compileKeywordLiteral(e){switch(e){case"true":this.write("push constant 1","neg");break;case"false":case"null":this.write("push constant 0");break;case"this":this.write("push pointer 0")}}compileStatements(e){for(const t of e)this.compileStatement(t)}compileStatement(e){switch(e.statementType){case"doStatement":this.compileDoStatement(e);break;case"ifStatement":this.compileIf(e);break;case"letStatement":this.compileLet(e);break;case"returnStatement":this.compileReturn(e);break;case"whileStatement":this.compileWhile(e)}}compileReturn(e){e.value?this.compileExpression(e.value):this.write("push constant 0"),this.write("return")}compileLet(e){e.arrayIndex?(this.compileExpression(e.arrayIndex),this.write(`push ${this.var(e)}`,"add"),this.compileExpression(e.value),this.write("pop temp 0","pop pointer 1","push temp 0","pop that 0")):(this.compileExpression(e.value),this.write(`pop ${this.var(e)}`))}compileDoStatement(e){this.compileSubroutineCall(e.call),this.write("pop temp 0")}compileIf(e){const t=this.getLabel(),n=this.getLabel();this.compileExpression(e.condition),this.write("not",`if-goto ${n}`),this.compileStatements(e.body),this.write(`goto ${t}`,`label ${n}`),this.compileStatements(e.else),this.write(`label ${t}`)}compileWhile(e){const t=this.getLabel(),n=this.getLabel();this.write(`label ${t}`),this.compileExpression(e.condition),this.write("not",`if-goto ${n}`),this.compileStatements(e.body),this.write(`goto ${t}`,`label ${n}`)}}function j(e,t){let n;return{initialState:{files:{},compiled:{},selected:"",isCompiled:!1,isValid:!0},reducers:{setFs(e,t){e.fs=t},reset(e){e.files={},e.title=void 0},setFile(e,{name:t,content:n}){e.files[t]=n,e.isCompiled=!1,this.compile(e)},setFiles(e,t){e.files=t,e.isCompiled=!1,this.compile(e)},compile(e){const t=function(e){const t={};for(const[a,o]of Object.entries(e)){const e=_.parse(o);if((0,r.ys)(e))t[a]=(0,r._)(e);else{const n=(0,r.Ok)(e),i=L(n);t[a]=n.name.value==a?(0,r.ys)(i)?(0,r._)(i):n:(0,f.$5)(`Class name ${n.name.value} doesn't match file name ${a}`,n.name.span)}}const n=Object.fromEntries(Object.entries(t).filter(([e,t])=>!R(t))),i={};for(const[a,o]of Object.entries(t))if(R(o))i[a]=o;else try{const e=(new F).compile(o,n);(0,r.ys)(e)?i[a]=(0,r._)(e):i[a]=(0,r.Ok)(e)}catch(s){i[a]=s}return i}(e.files);e.compiled={};for(const[n,r]of Object.entries(t))e.compiled[n]="string"===typeof r?{valid:!0,vm:r}:{valid:!1,error:r};e.isValid=Object.keys(e.files).every(t=>e.compiled[t].valid)},writeCompiled(e){if(Object.values(e.compiled).every(e=>e.valid))for(const[t,r]of Object.entries(e.compiled))r.vm&&n?.writeFile(`${t}.vm`,r.vm);e.isCompiled=!0},setSelected(e,t){e.selected=t},setTitle(e,t){e.title=t}},actions:{async loadProject(e,r){this.reset(),n=e,t.current({action:"setFs",payload:n}),t.current({action:"setTitle",payload:r});const i={};for(const t of(await n.scandir("/")).filter(e=>e.isFile()&&e.name.endsWith(".jack")))i[t.name.replace(".jack","")]=await n.readFile(t.name);this.loadFiles(i)},async loadFiles(e){t.current({action:"setFiles",payload:e}),Object.entries(e).length>0&&t.current({action:"setSelected",payload:Object.keys(e)[0]})},async writeFile(e,r){r??=function(e){return`class ${e} {\n\n}\n`}(e),t.current({action:"setFile",payload:{name:e,content:r}}),n&&await n.writeFile(`${e}.jack`,r)},async reset(){n=void 0,t.current({action:"reset"})},async compile(){t.current({action:"writeCompiled"})}}}}var M=n(6554),D=n(9547),z=n(6418),$=n(7365),B=n(1296),U=n(4256);function V(e,t){const n=new U.X(e.cpu.RAM,t),r=new U.X(e.cpu.ROM,t),i=new U.X(e.cpu.Screen,t),a=new s.PC(new U.X(e.cpu.RAM,t));return{A:e.cpu.A,D:e.cpu.D,PC:e.cpu.PC,RAM:n,ROM:r,Screen:i,Keyboard:a}}function W(){const{fs:e,setStatus:t,storage:n}=(0,l.useContext)(c.L),i=(0,l.useRef)(()=>{}),{initialState:a,reducers:o,actions:d}=(0,l.useMemo)(()=>function(e,t,n,i){let a,o=new z.bJ,l=!0,u=!0,c="",d=[],h="";const p={update(e){e.sim=V(o,i),e.test.highlight=o.currentStep?.span,e.test.valid=u,e.path=c,e.tests=Array.from(d),e.test.name=h},setTest(e,{tst:t,cmp:n}){e.test.tst=t??e.test.tst,e.test.cmp=n??e.test.cmp,e.test.out=""},testStep(e){e.test.out=o.log(),this.update(e)},testFinished(e){if(""===e.test.cmp.trim())return;const n=(0,$.U)(e.test.cmp.trim(),o.log().trim());t(n?{message:"Simulation successful: The output file is identical to the compare file",severity:"SUCCESS"}:{message:"Simulation error: The output file differs from the compare file",severity:"ERROR"})},setTitle(e,t){a=t,e.title=t,t&&(o.fileLoaded=!0)},updateConfig(e,t){e.config={...e.config,...t}}},f={tick(){o.cpu.tick()},setAnimate(e){l=e},async setPath(t){c=t;const n=c.split("/").slice(0,-1).join("/"),r=await e.scandir(n);d=r.filter(e=>e.name.endsWith(".tst")).map(e=>e.name),d.length>0?this.loadTest(d[0]):(h="Default",this.compileTest("repeat {\n  ticktock;\n}","")),i.current({action:"update"})},async testStep(){try{const e=await o.step();return(l||e)&&i.current({action:"testStep"}),e&&i.current({action:"testFinished"}),e}catch(e){return t({message:e.message,severity:"ERROR"}),!0}},resetRAM(){o.cpu.RAM.loadBytes([]),i.current({action:"update"}),t("Reset RAM")},toggleUseTest(){i.current({action:"update"})},reset(){o.reset(),i.current({action:"update"})},clear(){this.replaceROM(new s.n9),this.resetRAM(),this.clearTest(),this.reset(),i.current({action:"setTitle",payload:void 0})},clearTest(){h="",this.compileTest("repeat {\n  ticktock;\n}",""),i.current({action:"update"})},replaceROM(e){o=new z.bJ({dir:c,rom:e}),this.clearTest()},compileTest(n,s,l){const d=l??c;i.current({action:"setTest",payload:{tst:n,cmp:s}});const h=M.uG.parse(n);if((0,r.ys)(h))return t({message:`Failed to parse test - ${(0,r._)(h).message}`,severity:"ERROR"}),u=!1,i.current({action:"update"}),!1;u=!0;const p=z.bJ.from((0,r.Ok)(h),{dir:d,rom:o.cpu.ROM,doEcho:t,doLoad:async t=>{let n;try{n=await e.readFile(t)}catch(s){throw new Error(`Cannot find ${t}`)}const r=t.endsWith("hack")?D.aU:t.endsWith("asm")?D.aY:D.yt,i=await r(n);console.log(i),o.cpu.ROM.loadBytes(i)},compareTo:async t=>{const n=d.split("/").slice(0,-1).join("/"),r=await e.readFile(`${n}/${t}`);i.current({action:"setTest",payload:{cmp:r}})},requireLoad:!1});return(0,r.ys)(p)?(t({message:(0,r._)(p).message,severity:"ERROR"}),!1):(o=(0,r.Ok)(p),o.fileLoaded=void 0!=a,i.current({action:"update"}),!0)},async loadTest(n){const i=c.split("/").slice(0,-1).join("/"),s=await(0,B.g9)(e,`${i}/${n}`);if((0,r.ys)(s))return void t({message:"Failed to load test",severity:"ERROR"});h=n;const{tst:a}=(0,r.oA)(s);this.compileTest(a,"")}};return{initialState:{sim:V(o,i),test:{highlight:o.currentStep?.span,name:"",tst:"repeat {\n  ticktock;\n}",cmp:"",out:"",valid:!0},path:"",tests:[],config:{romFormat:"asm",ramFormat:"dec",screenScale:1,speed:2,testSpeed:2}},reducers:p,actions:f}}(e,t,0,i),[e,t,n,i]),[h,p]=(0,u.A)(o,a);return i.current=p,{state:h,dispatch:i,actions:d}}var H=n(8849),G=n(782);function q(){const{fs:e}=(0,l.useContext)(c.L),[t,n]=(0,l.useState)(),[r,i]=(0,l.useState)(),s=(0,p.C1)(),a=W(),o=function(){const{setStatus:e,fs:t,localFsRoot:n}=(0,l.useContext)(c.L),r=(0,l.useRef)(()=>{}),{initialState:i,reducers:s,actions:a}=(0,l.useMemo)(()=>h(t,e,r,void 0!=n),[e,r,t]),[o,d]=(0,u.A)(s,i);return r.current=d,{state:o,dispatch:r,actions:a}}(),d=(0,H.vw)(),f=function(){const{setStatus:e}=(0,l.useContext)(c.L),t=(0,l.useRef)(()=>{}),{initialState:n,reducers:r,actions:i}=(0,l.useMemo)(()=>j(0,t),[e,t]),[s,a]=(0,u.A)(r,n);return t.current=a,{state:s,dispatch:t,actions:i}}();return(0,l.useEffect)(()=>{s.actions.initialize()},[s.actions,e]),(0,l.useEffect)(()=>{d.actions.initialize()},[d.actions]),(0,l.useEffect)(()=>{switch(r){case"chip":n(s.state.title);break;case"cpu":n(a.state.title);break;case"asm":n(o.state.title);break;case"vm":n(d.state.title);break;case"compiler":n(f.state.title);break;default:n(void 0)}},[r,s.state.title,a.state.title,o.state.title,d.state.title,f.state.title]),{setTool:i,title:t,stores:{chip:s,cpu:a,asm:o,vm:d,compiler:f}}}const K=(0,l.createContext)({});function Z(e){const t=q();return(0,G.jsx)(K.Provider,{value:t,children:e.children})}},3499:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,It:()=>f,p3:()=>p});var r=n(8878),i=n(782);const s=(0,r.lazy)(()=>Promise.all([n.e(537),n.e(787)]).then(n.bind(n,7737))),a=(0,r.lazy)(()=>Promise.all([n.e(537),n.e(744)]).then(n.bind(n,5178))),o=(0,r.lazy)(()=>n.e(519).then(n.bind(n,5519))),l=(0,r.lazy)(()=>n.e(775).then(n.bind(n,2775))),u=(0,r.lazy)(()=>Promise.all([n.e(537),n.e(34)]).then(n.bind(n,1496))),c=(0,r.lazy)(()=>n.e(598).then(n.bind(n,6598))),d=(0,r.lazy)(()=>n.e(408).then(n.bind(n,2408))),h=(0,r.lazy)(()=>Promise.all([n.e(62),n.e(614)]).then(n.bind(n,3614))),p="lastRoute",f={chip:"Hardware Simulator",cpu:"CPU Emulator",asm:"Assembler",vm:"VM Emulator",bitmap:"Bitmap Editor",compiler:"Jack Compiler"},m={chip:{href:"/chip",tool:"chip",target:(0,i.jsx)(s,{})},cpu:{href:"/cpu",tool:"cpu",target:(0,i.jsx)(a,{})},asm:{href:"/asm",tool:"asm",target:(0,i.jsx)(o,{})},vm:{href:"/vm",tool:"vm",target:(0,i.jsx)(u,{})},compiler:{href:"/compiler",tool:"compiler",target:(0,i.jsx)(c,{})},bitmap:{href:"/bitmap",tool:"bitmap",target:(0,i.jsx)(l,{})},util:{href:"/util",target:(0,i.jsx)(d,{})},about:{href:"/about",target:(0,i.jsx)(h,{})}}},3569:(e,t,n)=>{"use strict";async function r(e){const t=await i();for(const r of e)t.file(r.name,await r.content);const n=await t.generateAsync({type:"blob"});return URL.createObjectURL(n)}async function i(){const{default:e}=await Promise.resolve().then(n.t.bind(n,5608,23));return new e}n.d(t,{e:()=>i,y:()=>r})},3977:(e,t,n)=>{"use strict";n.d(t,{JE:()=>o,$5:()=>u,lN:()=>a,Q5:()=>c,Ln:()=>d});var r=n(5874),i=n(9563),s=n(7844);const a={Base:(0,i.qN)('\nBase {\n  Root = Value*\n\n  At = at\n  Bang = bang\n  Bar = bar\n  CloseAngle = closeAngle\n  CloseBrace = closeBrace\n  CloseParen = closeParen\n  CloseSquare = closeSquare\n  Comma = comma\n  Dollar = dollar\n  Dot = dot\n  DoubleQuote = doubleQuote\n  Equal = equal\n  OpenAngle = openAngle\n  OpenBrace = openBrace\n  OpenParen = openParen\n  OpenSquare = openSquare\n  Percent = percent\n  Semi = semi\n  Underscore = underscore\n\n  at = "@"\n  bang = "!"\n  bar = "|"\n  closeAngle = ">"\n  closeBrace = "}"\n  closeParen = ")"\n  closeSquare = "]"\n  comma = ","\n  dollar = "$"\n  dot = "."\n  doubleQuote = "\\""\n  equal = "="\n  minus = "-"\n  newline = "\\r"? "\\n"\n  openAngle = "<"\n  openBrace = "{"\n  openParen = "("\n  openSquare = "["\n  percent = "%"\n  semi = ";"\n  underscore = "_"\n  colon = ":"\n\n  Value = identifier | number | boolean\n\n  boolean = true | false\n  True = true\n  False = false\n  true = "true"\n  false = "false"\n\n  Name = identifier\n  identifier = (letter|underscore|dot|dollar) (alnum|underscore|dot|dollar)*\n\n  Number = number\n  number = hexNumber | decNumber | binNumber\n  binNumber = ("%B") ("0"|"1")+\n  hexNumber = ("%X") hexDigit+\n  decNumber = ("%D")? (wholeDec | realDec)\n  wholeDec = minus? digit+\n  realDec = minus? digit* "." digit+\n\n  String = DoubleQuote (~doubleQuote any)* doubleQuote\n  \n  spaces := (lineComment | comment | space)*\n  commentStart = "/*"\n  commentEnd = "*/"\n  comment = commentStart (~commentEnd any)* commentEnd\n  lineCommentStart = "//"\n  lineComment = lineCommentStart (~"\\n" any)*\n\n  List<elem, sep> = NonemptyListOf<elem, sep> sep?\n  EmptyList<elem, sep> = EmptyList<elem, sep> sep?\n}')},o=a.Base.createSemantics();o.extendOperation("asIteration",{List:(e,t)=>e.asIteration()}),o.addAttribute("value",{decNumber:(e,t)=>(0,s.ZR)(t.sourceString),wholeDec:(e,t)=>(0,s.ZR)(t.sourceString),binNumber:(e,t)=>(0,s.Yp)(t.sourceString),hexNumber:(e,t)=>(0,s.l8)(t.sourceString),Number:e=>e.value,Name:e=>e.name,identifier(e,t){return this.sourceString}}),o.addAttribute("name",{identifier(e,t){return this.sourceString},Name(e){return this.child(0)?.name}}),o.addAttribute("String",{String:(e,t,n)=>t.sourceString});const l="HDL statement has a syntax error";function u(e,t){const n=e.match(/Line \d+, col \d+: (?<message>.*)/),r=n?.groups?.message?n.groups.message:e;return{message:`${void 0!=t?.line?`Line ${t.line}: `:""}${r}`,span:t}}function c(e,t,n=({root:e})=>e){return function(i){try{const s=e.match(i);if(s.succeeded()){const e=t(s),i=n(e);return(0,r.Ok)(i)}return(0,r._)(u(s.shortMessage??l,d(s.getInterval())))}catch(s){return(0,r._)(s)}}}function d(e){return{start:e.startIdx,end:e.endIdx,line:e.getLineAndColumn().lineNum}}},4256:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(7076);class i extends r.qN{dispatch;constructor(e,t){super(e,e.size,0),this.dispatch=t}async load(e,t){await super.load(e,t),this.dispatch.current({action:"update"})}}},4544:(e,t,n)=>{"use strict";n.d(t,{JU:()=>p,P8:()=>u,Q2:()=>d,cL:()=>f,d$:()=>a});const r={SEP:"\\",WD:"C:\\\\",isAbsolute:e=>Boolean(e.match(new RegExp("^[a-zA-Z]:\\\\")))},i={SEP:"/",WD:"/",isAbsolute:e=>"/"==e[0]},s="undefined"!==typeof process&&"win32"==process.platform?r:i,a=s.SEP,o=s.WD,l=s.isAbsolute;function u(e){e.endsWith(a)&&(e=e.substring(0,e.length-1));return e.split(a).at(-1)??""}function c(...e){const t=[];for(const n of e)for(const e of n.split(a))switch(e){case"":case".":break;case"..":t.pop();break;default:t.push(e)}return(s==i?a:"")+t.join(a)}class d{adapter;wd=o;stack=[];constructor(e=new h){this.adapter=e}cwd(){return this.wd}cd(e){this.wd=this.p(e)}pushd(e){this.stack.push(this.wd),this.cd(e)}popd(){this.stack.length>0&&(this.wd=this.stack.pop())}stat(e){return this.adapter.stat(this.p(e))}scandir(e){return this.adapter.scandir(this.p(e))}readdir(e){return this.adapter.readdir(this.p(e))}mkdir(e){return this.adapter.mkdir(this.p(e))}copyFile(e,t){return this.adapter.copyFile(this.p(e),this.p(t))}readFile(e){return this.adapter.readFile(this.p(e))}writeFile(e,t){return this.adapter.writeFile(this.p(e),t)}rm(e){return this.adapter.rm(this.p(e))}p(e){return l(e)?e:c(this.cwd(),e)}}class h{fs;constructor(e={}){this.fs=e}stat(e){return new Promise((t,n)=>{if(this.fs[e])return t({name:u(e),isDirectory:()=>!1,isFile:()=>!0});e.endsWith(a)||(e+=a);for(let r of Object.keys(this.fs))if(r.startsWith(e))return t({name:u(e),isDirectory:()=>!0,isFile:()=>!1});n()})}async scandir(e){return(await this.readdir(e)).map(t=>{let n=void 0!==this.fs[c(e,t)];return{name:t,isDirectory:()=>!n,isFile:()=>n}})}readdir(e){return e.endsWith(a)||(e+=a),new Promise(t=>{let n=new Set;for(const r of Object.keys(this.fs))if(r.startsWith(e)){const t=r.indexOf(a,e.length+1),i=r.substring(e.length,-1===t?void 0:t);n.add(i)}return t([...n].sort())})}mkdir(e){return Promise.resolve()}copyFile(e,t){return new Promise(n=>{this.fs[t]=this.fs[e],n()})}readFile(e){return new Promise((t,n)=>{let r=this.fs[e];if(void 0===r){n(new Error(`File Not Found ${e}`))}else t(r)})}writeFile(e,t){return new Promise(n=>{this.fs[e]=t,n()})}rm(e){return new Promise(t=>{delete this.fs[e],t()})}}class p extends h{constructor(){super(window.localStorage)}}async function f(e,t){for(const[n,r]of Object.entries(t))"string"===typeof r?await e.writeFile(n,r):(e.cd(n),await f(e,r),e.cd(".."))}},4641:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>{if((e=>"function"===typeof e?.toString||"string"===typeof e)(e)){const t=e.toString();return"[object Object]"===t?JSON.stringify(e):t}return JSON.stringify(e)}},4664:(e,t,n)=>{"use strict";var r=n(8815);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4666:(e,t,n)=>{"use strict";n.d(t,{y0:()=>w,EU:()=>m,J$:()=>p,ld:()=>g});var r=n(2469),i=n(5874),s=n(9563),a=n(8739),o=n(7076),l=n(7496),u=n(3977);const c='ASM <: Base {\n  Root := ASM\n  ASM = intermediateInstruction* instruction?\n  \n  instruction = label|aInstruction|cInstruction\n  intermediateInstruction = instruction space+\n\n  identifier := (letter|underscore|dot|dollar|colon) (alnum|underscore|dot|dollar|colon)*\n\n  label = openParen identifier closeParen\n  aInstruction = at (identifier | decNumber)\n  cInstruction = assign? op jmp?\n\n  assignChar = "A" | "M" | "D"\n  opChar = assignChar | "0" | "1" | "!" | "-" | "+" | "|" | "&"\n  \n  assign = assignChar+ equal\n  op = opChar+\n\n  jmp = semi ("JGT" | "JEQ" | "JGE" | "JLT" | "JNE" | "JLE" | "JMP")\n}',d=(0,s.qN)(c,u.lN),h=d.extendSemantics(u.JE);function p(e){return"A"==e.type&&void 0!==e.value}function f(e){return"A"==e.type&&void 0!==e.label}function m(e,t){let n=16;const s=new Map([["R0",0],["R1",1],["R2",2],["R3",3],["R4",4],["R5",5],["R6",6],["R7",7],["R8",8],["R9",9],["R10",10],["R11",11],["R12",12],["R13",13],["R14",14],["R15",15],["SP",0],["LCL",1],["ARG",2],["THIS",3],["THAT",4],["SCREEN",o.L7],["KBD",o.ky]]);const a=[];let l=0;for(const r of e.instructions)if("L"!==r.type)l+=1,"A"===r.type&&f(r)&&a.push(r);else{if(s.has(r.label))return(0,i._)((0,u.$5)(`Duplicate label ${r.label}`,r.span));s.set(r.label,l),t?.(r.label,l,!1)}return a.forEach(function(e){const i=(a=e.label,s.has(a)||(s.set(a,n),t?.(a,n,!0),n+=1),(0,r.Z1)(s.get(a),`Label not in symbols: ${a}`));var a;e.value=i,delete e.label}),(0,i.Ok)()}h.addAttribute("root",{Root(e){return this.asm}}),h.addAttribute("asm",{ASM(e,t){const n=e.children.map(e=>e.intermediateInstruction)??[];return{instructions:t.child(0)?[...n,t.child(0).instruction]:n}}}),h.addAttribute("intermediateInstruction",{intermediateInstruction:(e,t)=>e.instruction}),h.addAttribute("instruction",{aInstruction(e,t){return y(t.value,(0,u.Ln)(this.source))},cInstruction(e,t,n){const r=function(e){let t=e.child(0)?.child(0)?.sourceString??"";if("DM"==t&&(t="MD"),"ADM"==t&&(t="AMD"),""!=t&&!(0,a.Nt)(t)){const n=t.split("").reverse().join(""),r=(0,a.Nt)(n)?`. Did you mean ${n}?`:"";throw(0,u.$5)(`Invalid ASM target: ${t}${r}`,(0,u.Ln)(e.source))}return t}(e),i=function(e){const t=e.sourceString;if(!(0,a.nf)(t)){const n=t.split("").reverse().join(""),r=(0,a.nf)(n)?`. Did you mean ${n}?`:"";throw(0,u.$5)(`Invalid ASM value: ${e.sourceString}${r}`,(0,u.Ln)(e.source))}return t}(t),s=n.child(0)?.child(1)?.sourceString??"";return v(r,i,s,(0,u.Ln)(this.source))},label(e,{name:t},n){return b(t,(0,u.Ln)(this.source))}});function g(e){if("A"===e.type){if(f(e))throw new Error("ASM Emitting unfilled A instruction");return e.value}if("C"===e.type)return(0,l.m)(e.isM,e.op,e.store??0,e.jump??0)}const y=(e,t)=>"string"===typeof e?{type:"A",label:e,span:t}:{type:"A",value:e,span:t},v=(e,t,n,r)=>{const i={type:"C",op:a.Lo.getOp(t),isM:t.includes("M"),span:r};return n&&(i.jump=a.ft.asm[n]),e&&(i.store=a.uW.asm[e]),i},b=(e,t)=>({type:"L",label:e,span:t}),w={grammar:c,semantics:h,parser:d,parse:(0,u.Q5)(d,h),passes:{fillLabel:m,emit:function(e){return e.instructions.map(g).filter(e=>void 0!==e)}},A:y,C:v,AC:(e,t,n,r)=>[y(e),v(t,n,r)],L:b}},4867:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>l,Ge:()=>s,Rh:()=>y,S0:()=>p,Tn:()=>f,UM:()=>c,eB:()=>h,fK:()=>m,fe:()=>i,gM:()=>v,hh:()=>g,ik:()=>o,jl:()=>a,kW:()=>d});class r{span;constructor(e){this.span=e}async do(){}*steps(){yield this}}class i extends r{}class s extends r{}class a{variable;value;index;constructor(e,t,n){this.variable=e,this.value=t,this.index=n}async do(e){e.setVar(this.variable,this.value,this.index)}*steps(){yield this}}class o{async do(e){e.output()}*steps(){yield this}}class l{outputs=[];constructor(e=[]){for(const t of e)this.addOutput(t)}addOutput(e){this.outputs.push({id:e.id,style:e.format?.style??"B",len:e.format?.width??-1,lpad:e.format?.lpad??1,rpad:e.format?.rpad??1,builtin:e.builtin,address:e.address})}async do(e){e.outputList(this.outputs),e.header()}*steps(){yield this}}class u{instructions=[];span;addInstruction(e){this.instructions.push(e)}async do(e){for(const t of this.instructions)t.do(e)}*steps(e){yield this}}class c extends u{repeat;constructor(e){super(),this.repeat=e}async do(){}*innerSteps(e){for(const t of this.instructions)yield*t.steps(e)}*steps(e){if(-1===this.repeat)for(yield this;;)yield*this.innerSteps(e);else for(let t=0;t<this.repeat;t++)yield this,yield*this.innerSteps(e)}}class d{x;y;op;constructor(e,t,n){this.x=e,this.y=t,this.op=n}check(e){const t=e.hasVar(this.x)?e.getVar(this.x):this.x,n=e.hasVar(this.y)?e.getVar(this.y):this.y;if("string"===typeof t||"string"===typeof n)switch(this.op){case"=":return`${t}`===`${n}`;case"<>":return`${t}`!==`${n}`}else switch(this.op){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"=":return t===n;case"<>":return t!==n}return!1}}class h extends u{condition;constructor(e){super(),this.condition=e}*steps(e){for(;this.condition.check(e);){yield this;for(const t of this.instructions)yield*t.steps(e)}}}class p{content;constructor(e){this.content=e}async do(e){e.echo(this.content)}*steps(){yield this}}class f{async do(e){e.clearEcho()}*steps(){yield this}}class m{file;constructor(e){this.file=e}async do(e){await e.loadROM(this.file)}*steps(){yield this}}class g{file;constructor(e){this.file=e}async do(e){await e.load(this.file)}*steps(){yield this}}class y{file;constructor(e){this.file=e}async do(e){this.file&&await e.compareTo(this.file)}*steps(){yield this}}class v{file;constructor(e){this.file=e}async do(e){this.file&&e.outputFile(this.file)}*steps(){yield this}}},5005:(e,t,n)=>{"use strict";n.d(t,{xP:()=>l});var r=n(9563),i=n(3977);const s='\nHdl <: Base{\n  Root := Chip\n  identifier := (letter) (alnum)*\n  Name := identifier\n  Chip = "CHIP" Name OpenBrace ChipBody CloseBrace\n  ChipBody = InList? OutList? PartList ClockedList?\n  InList = "IN" PinList Semi\n  OutList = "OUT" PinList Semi\n  PartList = BuiltinPart | Parts\n  PinList = List<PinDecl, Comma>\n  PinDecl = Name PinWidth?\n  PinWidth = OpenSquare decNumber CloseSquare\n  BuiltinPart = "BUILTIN" Semi\n  Parts = "PARTS:" Part*\n  Part = Name "(" Wires ")" Semi\n  Wires = List<Wire, Comma>\n  Wire = WireSide Equal (WireSide | True | False) \n  WireSide = Name SubBus? \n  SubBus = OpenSquare decNumber subBusRest? CloseSquare\n  subBusRest = ".." decNumber\n  ClockedList = "CLOCKED" SimplePinList Semi\n  SimplePinList = List<Name, Comma>\n}',a=(0,r.qN)(s,i.lN),o=a.extendSemantics(i.JE);o.addAttribute("SubBus",{SubBus(e,t,n,r){const i=t.value;return{start:i,end:n.child(0)?.child(1)?.value??i}}}),o.addAttribute("WireSide",{WireSide({name:e},t){const{start:n,end:r}=t.child(0)?.SubBus??{start:void 0,end:void 0};return{pin:e,start:n,end:r,span:(0,i.Ln)(this.source)}}}),o.addAttribute("Wire",{Wire(e,t,n){const r=n.isTerminal()?{pin:n.sourceString}:n.WireSide;return{lhs:e.WireSide,rhs:r}}}),o.addAttribute("Wires",{Wires:e=>e.asIteration().children.map(e=>e.Wire)}),o.addAttribute("Part",{Part({name:e},t,{Wires:n},r,s){return{name:e,wires:n,span:(0,i.Ln)(this.source)}}}),o.addAttribute("Parts",{Parts:(e,t)=>t.children.map(e=>e.Part),BuiltinPart:(e,t)=>"BUILTIN"}),o.addAttribute("PartList",{PartList:e=>e.Parts}),o.addAttribute("Clocked",{ClockedList:(e,t,n)=>t.asIteration().children.map(({sourceString:e})=>e)??[]}),o.addAttribute("PinDecl",{PinDecl:({name:e},t)=>({pin:e,width:t.child(0)?.child(1)?.value??1})}),o.addAttribute("PinList",{PinList:e=>e.asIteration().children.map(e=>e.PinDecl)}),o.addAttribute("Chip",{Chip:(e,t,n,r,s)=>({name:{value:t.sourceString,span:(0,i.Ln)(t.source)},ins:r.child(0).child(0)?.child(1)?.PinList??[],outs:r.child(1).child(0)?.child(1)?.PinList??[],parts:r.child(2).PartList??[],clocked:r.child(3).child(0)?.Clocked})}),o.addAttribute("Root",{Root:e=>e.child(0)?.Chip});const l={parser:a,grammar:s,semantics:o,parse:(0,i.Q5)(a,o,e=>e.Chip)}},5068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var r=l(n(5189)),i=l(n(5817)),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],o=["page","hitType"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var w=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"reset",function(){t.isInitialized=!1,t._testMode=!1,t._currentMeasurementId,t._hasLoadedGA=!1,t._isQueuing=!1,t._queueGtag=[]}),v(this,"_gtag",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._testMode||t._isQueuing?t._queueGtag.push(n):r.default.apply(void 0,n)}),v(this,"_loadGA",function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!==typeof window&&"undefined"!==typeof document&&!t._hasLoadedGA){var i=document.createElement("script");i.async=!0,i.src="".concat(r,"?id=").concat(e),n&&i.setAttribute("nonce",n),document.body.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},t._hasLoadedGA=!0}}),v(this,"_toGtagOptions",function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce(function(e,n){var r=f(n,2),i=r[0],s=r[1];return t[i]?e[t[i]]=s:e[i]=s,e},{})}}),v(this,"initialize",function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var r="string"===typeof e?[{trackingId:e}]:e;t._currentMeasurementId=r[0].trackingId;var i=n.gaOptions,s=n.gtagOptions,a=n.nonce,o=n.testMode,l=void 0!==o&&o,u=n.gtagUrl;if(t._testMode=l,l||t._loadGA(t._currentMeasurementId,a,u),t.isInitialized||(t._gtag("js",new Date),r.forEach(function(e){var n=p(p(p({},t._toGtagOptions(p(p({},i),e.gaOptions))),s),e.gtagOptions);Object.keys(n).length?t._gtag("config",e.trackingId,n):t._gtag("config",e.trackingId)})),t.isInitialized=!0,!l){var c=d(t._queueGtag);for(t._queueGtag=[],t._isQueuing=!1;c.length;){var h=c.shift();t._gtag.apply(t,d(h)),"get"===h[0]&&(t._isQueuing=!0)}}}),v(this,"set",function(e){e?"object"===c(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),t._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")}),v(this,"_gaCommandSendEvent",function(e,n,r,i,s){t._gtag("event",n,p(p({event_category:e,event_label:r,value:i},s&&{non_interaction:s.nonInteraction}),t._toGtagOptions(s)))}),v(this,"_gaCommandSendEventParameters",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"===typeof n[0])t._gaCommandSendEvent.apply(t,d(n.slice(1)));else{var i=n[0],a=i.eventCategory,o=i.eventAction,l=i.eventLabel,c=i.eventValue,h=(i.hitType,u(i,s));t._gaCommandSendEvent(a,o,l,c,h)}}),v(this,"_gaCommandSendTiming",function(e,n,r,i){t._gtag("event","timing_complete",{name:n,value:r,event_category:e,event_label:i})}),v(this,"_gaCommandSendPageview",function(e,n){if(n&&Object.keys(n).length){var r=t._toGtagOptions(n),i=r.title,s=r.location,o=u(r,a);t._gtag("event","page_view",p(p(p(p({},e&&{page_path:e}),i&&{page_title:i}),s&&{page_location:s}),o))}else e?t._gtag("event","page_view",{page_path:e}):t._gtag("event","page_view")}),v(this,"_gaCommandSendPageviewParameters",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"===typeof n[0])t._gaCommandSendPageview.apply(t,d(n.slice(1)));else{var i=n[0],s=i.page,a=(i.hitType,u(i,o));t._gaCommandSendPageview(s,a)}}),v(this,"_gaCommandSend",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="string"===typeof n[0]?n[0]:n[0].hitType;switch(i){case"event":t._gaCommandSendEventParameters.apply(t,n);break;case"pageview":t._gaCommandSendPageviewParameters.apply(t,n);break;case"timing":t._gaCommandSendTiming.apply(t,d(n.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}}),v(this,"_gaCommandSet",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]=v({},n[0],n[1])),t._gtag("set",t._toGtagOptions(n[0]))}),v(this,"_gaCommand",function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(e){case"send":t._gaCommandSend.apply(t,r);break;case"set":t._gaCommandSet.apply(t,r);break;default:console.warn("Command doesn't exist: ".concat(e))}}),v(this,"ga",function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"===typeof n[0])t._gaCommand.apply(t,n);else{var i=n[0];t._gtag("get",t._currentMeasurementId,"client_id",function(e){t._isQueuing=!1;var n=t._queueGtag;for(i({get:function(n){return"clientId"===n?e:"trackingId"===n?t._currentMeasurementId:"apiVersion"===n?"1":void 0}});n.length;){var r=n.shift();t._gtag.apply(t,d(r))}}),t._isQueuing=!0}return t.ga}),v(this,"event",function(e,n){if("string"===typeof e)t._gtag("event",e,t._toGtagOptions(n));else{var r=e.action,s=e.category,a=e.label,o=e.value,l=e.nonInteraction,u=e.transport;if(!s||!r)return void console.warn("args.category AND args.action are required in event()");var c={hitType:"event",eventCategory:(0,i.default)(s),eventAction:(0,i.default)(r)};a&&(c.eventLabel=(0,i.default)(a)),"undefined"!==typeof o&&("number"!==typeof o?console.warn("Expected `args.value` arg to be a Number."):c.eventValue=o),"undefined"!==typeof l&&("boolean"!==typeof l?console.warn("`args.nonInteraction` must be a boolean."):c.nonInteraction=l),"undefined"!==typeof u&&("string"!==typeof u?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(u)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=u)),t._gaCommand("send",c)}}),v(this,"send",function(e){t._gaCommand("send",e)}),this.reset()}var t,n,l;return t=e,n=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],n&&y(t.prototype,n),l&&y(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GA4=w;var _=new w;t.default=_},5087:(e,t,n)=>{"use strict";n.d(t,{IG:()=>_,h0:()=>S,Vm:()=>x});var r=n(5874),i=n(3977),s=n(2548),a=n(7076);class o extends a.XK{strict=!0;get SP(){return this.get(0)}set SP(e){this.set(0,e)}get LCL(){return this.get(1)}set LCL(e){this.set(1,e)}get ARG(){return this.get(2)}set ARG(e){this.set(2,e)}get THIS(){return this.get(3)}set THIS(e){this.set(3,e)}get THAT(){return this.get(4)}set THAT(e){this.set(4,e)}get statics(){const e=[];for(let t=16;t<256;t++)e.push(this.get(t));return e}constructor(){super(),this.set(0,256)}baseSegment(e,t){if(this.strict&&(t<0||t>32767))return(0,r._)(new Error(`Illegal offset value ${t} (must be between 0 and 32767)`));switch(e){case"argument":return(0,r.Ok)(this.ARG+t);case"constant":return(0,r.Ok)(t);case"local":return(0,r.Ok)(this.LCL+t);case"pointer":if(this.strict&&t>1)throw new Error(`pointer out of bounds access (pointer can be 0 for this, 1 for that, but got ${t}`);return(0,r.Ok)(0===t?3:4);case"static":return this.strict&&t>239?(0,r._)(new Error(`Cannot access statics beyond 239: ${t}`)):(0,r.Ok)(16+t);case"temp":return this.strict&&t>7?(0,r._)(new Error(`Temp out of bounds access (temp can be 0 to 7, but got ${t}`)):(0,r.Ok)(5+t);case"that":return(0,r.Ok)(this.THAT+t);case"this":return(0,r.Ok)(this.THIS+t)}}getSegment(e,t){if("constant"===e){if(this.strict&&(t<0||t>32767))throw new Error(`Illegal offset value ${t} (must be between 0 and 32767)`);return t}const n=this.baseSegment(e,t);if((0,r.ys)(n))throw(0,r._)(n);return this.get((0,r.Ok)(n))}setSegment(e,t,n){const i=this.baseSegment(e,t);if((0,r.ys)(i))throw(0,r._)(i);this.set((0,r.Ok)(i),n)}argument(e){return this.getSegment("argument",e)}local(e){return this.getSegment("local",e)}static(e){return this.getSegment("static",e)}constant(e){return this.getSegment("constant",e)}this(e){return this.getSegment("this",e)}that(e){return this.getSegment("that",e)}pointer(e){return this.getSegment("pointer",e)}temp(e){return this.getSegment("temp",e)}push(e){const t=this.SP;this.set(t,e),this.set(0,t+1)}pop(){if(this.strict&&256===this.SP)throw new Error("Cannot pop the stack below 256 in strict mode");this.set(0,this.SP-1);return this.get(this.SP)}pushFrame(e,t,n){const r=this.SP,i=r-t;this.set(r,e),this.set(r+1,this.LCL),this.set(r+2,this.ARG),this.set(r+3,this.THIS),this.set(r+4,this.THAT),this.set(2,i),this.set(1,r+5);const s=r+5;for(let a=0;a<n;a++)this.set(s+a,0);return this.set(0,s+n),r}popFrame(){const e=this.LCL,t=this.get(e-5),n=this.pop();return this.set(this.ARG,n),this.set(0,this.ARG+1),this.set(4,this.get(e-1)),this.set(3,this.get(e-2)),this.set(2,this.get(e-3)),this.set(1,this.get(e-4)),t}getFrame(e,t,n,r,i,s){const a=e-t,o=e+5,l=o+n,u=s-l;return{args:{base:a,count:t,values:[...this.map((e,t)=>t,a,a+t)]},locals:{base:o,count:n,values:[...this.map((e,t)=>t,o,o+n)]},stack:{base:l,count:u,values:[...this.map((e,t)=>t,l,l+u)]},this:{base:l,count:r,values:[...this.map((e,t)=>t,this.THIS,this.THIS+r)]},that:{base:l,count:i,values:[...this.map((e,t)=>t,this.THAT,this.THAT+i)]},frame:{RET:this.get(e),LCL:this.LCL,ARG:this.ARG,THIS:this.THIS,THAT:this.THAT}}}getVmState(e=240){const t=[...this.map((e,t)=>t,5,13)],n=[...this.map((e,t)=>t,13,16)],r=[...this.map((e,t)=>t,16,16+e)];return{"0: SP":this.SP,"1: LCL":this.LCL,"2: ARG":this.ARG,"3: THIS":this.THIS,"4: THAT":this.THAT,temps:t,internal:n,static:r}}binOp(e){const t=65535&e(this.get(this.SP-2),this.get(this.SP-1));this.set(this.SP-2,t),this.set(0,this.SP-1)}unOp(e){const t=65535&e(this.get(this.SP-1));this.set(this.SP-1,t)}comp(e){this.binOp((t,n)=>e(t,n)?-1:0)}}var l=n(8032);class u{memory;os;animationFrameId=void 0;cancel=!1;constructor(e,t){this.memory=e,this.os=t}keyPressed(){return this.memory.get(a.ky)}readCharLoop(e){let t=!1,n=0;const r=()=>{if(this.cancel)return;let i=!1;this.os.paused||(t||0===this.keyPressed()||(t=!0,n=this.keyPressed()),t&&0===this.keyPressed()&&(i=!0,e(n))),i||(this.animationFrameId=requestAnimationFrame(r))};r()}readChar(){this.os.sys.block(),this.os.output.drawCursor(),new Promise(e=>{this.readCharLoop(e)}).then(e=>{this.os.output.printChar(e),this.os.sys.release(e)})}readLineLoop(e){const t=this.os.string.new(100);this.os.sys.halted&&e(0);let n=!1,r=0;const i=()=>{if(this.cancel)return;let s=!1;this.os.paused||(n||0==this.keyPressed()||(n=!0,r=this.keyPressed()),n&&0==this.keyPressed()&&(n=!1,r==l.G_?(this.os.string.length(t)>0&&this.os.output.backspace(),this.os.string.eraseLastChar(t)):r==l.qK?(e(t),s=!0):(this.os.string.appendChar(t,r),this.os.sys.halted&&e(0),this.os.output.printChar(r),this.os.output.drawCursor()))),s||(this.animationFrameId=requestAnimationFrame(i))};i()}readLine(e){this.os.sys.block(),this.os.output.printString(e),this.os.output.drawCursor(),new Promise(e=>{this.readLineLoop(e)}).then(e=>{this.os.sys.halted||(this.os.output.clearChar(),this.os.output.println()),this.os.sys.release(e)})}readInt(e){this.os.sys.block(),this.os.output.printString(e),this.os.output.drawCursor(),new Promise(e=>{this.readLineLoop(e)}).then(e=>{this.os.sys.halted||(this.os.output.clearChar(),this.os.output.println()),this.os.sys.release(this.os.string.intValue(e))})}dispose(){this.cancel=!0,this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}}var c=n(270);const d=2048;class h{memory;os;freeListPtr;constructor(e,t){this.memory=e,this.os=t,this.freeListPtr=d,this.memory.set(d,0),this.memory.set(2049,14334)}alloc(e){if(e<=0)return this.os.sys.error(c.X.ARRAY_SIZE_NOT_POSITIVE),0;let t=this.freeListPtr;do{const n=this.memory.get(t),r=this.memory.get(t+1);if(r>=e+2){this.memory.set(t+1,e);const i=t+2+e,s=r-e-2;return this.memory.set(i,n),this.memory.set(i+1,s),this.freeListPtr===t&&(this.freeListPtr=i),t+2}t=n}while(0!==t);return this.os.sys.error(c.X.HEAP_OVERFLOW),0}deAlloc(e){const t=e-2;this.memory.set(t,0);let n=this.freeListPtr;do{const e=this.memory.get(n);if(0===e)return void this.memory.set(n,t);n=e}while(0!==n)}}const p=function(){const e=new Array(126);return e[32]=f(["        ","        ","        ","        ","        ","        ","        ","        ","        ","        ","        "]),e[33]=f(["  \u2588\u2588    "," \u2588\u2588\u2588\u2588   "," \u2588\u2588\u2588\u2588   "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","        ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        "]),e[34]=f([" \u2588\u2588 \u2588\u2588  "," \u2588\u2588 \u2588\u2588  ","  \u2588 \u2588   ","        ","        ","        ","        ","        ","        ","        ","        "]),e[35]=f(["        "," \u2588  \u2588   "," \u2588  \u2588   ","\u2588\u2588\u2588\u2588\u2588\u2588  "," \u2588  \u2588   "," \u2588  \u2588   ","\u2588\u2588\u2588\u2588\u2588\u2588  "," \u2588  \u2588   "," \u2588  \u2588   ","        ","        "]),e[36]=f(["  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588      "," \u2588\u2588\u2588\u2588   ","    \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","        "]),e[37]=f(["        ","        ","\u2588\u2588   \u2588  ","\u2588\u2588  \u2588\u2588  ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588  \u2588\u2588  ","\u2588   \u2588\u2588  ","        ","        "]),e[38]=f(["  \u2588\u2588    "," \u2588\u2588\u2588\u2588   "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588 \u2588\u2588  ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   "," \u2588\u2588 \u2588\u2588  ","        ","        "]),e[39]=f(["  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588     ","        ","        ","        ","        ","        ","        ","        ","        "]),e[40]=f(["   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     ","  \u2588\u2588    ","   \u2588\u2588   ","        ","        "]),e[41]=f([" \u2588\u2588     ","  \u2588\u2588    ","   \u2588\u2588   ","   \u2588\u2588   ","   \u2588\u2588   ","   \u2588\u2588   ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","        ","        "]),e[42]=f(["        ","        ","        ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","\u2588\u2588\u2588\u2588\u2588\u2588  "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","        ","        ","        "]),e[43]=f(["        ","        ","        ","  \u2588\u2588    ","  \u2588\u2588    ","\u2588\u2588\u2588\u2588\u2588\u2588  ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        ","        "]),e[44]=f(["        ","        ","        ","        ","        ","        ","        ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588     ","        "]),e[45]=f(["        ","        ","        ","        ","        ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        ","        ","        ","        "]),e[46]=f(["        ","        ","        ","        ","        ","        ","        ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        "]),e[47]=f(["        ","        ","     \u2588  ","    \u2588\u2588  ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588      ","\u2588       ","        ","        "]),e[48]=f(["  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","        ","        "]),e[49]=f(["  \u2588\u2588    "," \u2588\u2588\u2588    ","\u2588\u2588\u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        "]),e[50]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","    \u2588\u2588  ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588      ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        "]),e[51]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","  \u2588\u2588\u2588   ","    \u2588\u2588  ","    \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[52]=f(["    \u2588   ","   \u2588\u2588   ","  \u2588\u2588\u2588   "," \u2588 \u2588\u2588   ","\u2588  \u2588\u2588   ","\u2588\u2588\u2588\u2588\u2588\u2588  ","   \u2588\u2588   ","   \u2588\u2588   ","  \u2588\u2588\u2588\u2588  ","        ","        "]),e[53]=f(["\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588\u2588\u2588\u2588   ","    \u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[54]=f(["  \u2588\u2588\u2588   "," \u2588\u2588     ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[55]=f(["\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588   \u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","   \u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        "]),e[56]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[57]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","   \u2588\u2588   "," \u2588\u2588\u2588    ","        ","        "]),e[58]=f(["        ","        ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        ","        "]),e[59]=f(["        ","        ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588     ","        ","        "]),e[60]=f(["        ","        ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588      "," \u2588\u2588     ","  \u2588\u2588    ","   \u2588\u2588   ","        ","        "]),e[61]=f(["        ","        ","        ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        ","        ","        "]),e[62]=f(["        ","        ","\u2588\u2588      "," \u2588\u2588     ","  \u2588\u2588    ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588      ","        ","        "]),e[64]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588 \u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588      "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[63]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","   \u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","        ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        "]),e[65]=f(["  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[66]=f(["\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588   ","        ","        "]),e[67]=f(["  \u2588\u2588\u2588   "," \u2588\u2588 \u2588\u2588  ","\u2588\u2588   \u2588  ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588   \u2588  "," \u2588\u2588 \u2588\u2588  ","  \u2588\u2588\u2588   ","        ","        "]),e[68]=f(["\u2588\u2588\u2588\u2588    ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588\u2588\u2588    ","        ","        "]),e[69]=f(["\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588   \u2588  ","\u2588\u2588 \u2588    ","\u2588\u2588\u2588\u2588    ","\u2588\u2588 \u2588    ","\u2588\u2588   \u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        "]),e[70]=f(["\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588   \u2588  ","\u2588\u2588 \u2588    ","\u2588\u2588\u2588\u2588    ","\u2588\u2588 \u2588    ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","        ","        "]),e[71]=f(["  \u2588\u2588\u2588   "," \u2588\u2588 \u2588\u2588  ","\u2588\u2588   \u2588  ","\u2588\u2588      ","\u2588\u2588 \u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588 \u2588\u2588  ","  \u2588\u2588 \u2588  ","        ","        "]),e[72]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[73]=f([" \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[74]=f(["  \u2588\u2588\u2588\u2588  ","   \u2588\u2588   ","   \u2588\u2588   ","   \u2588\u2588   ","   \u2588\u2588   ","   \u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   "," \u2588\u2588\u2588    ","        ","        "]),e[75]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588\u2588\u2588    ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[76]=f(["\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588   \u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        "]),e[77]=f(["\u2588    \u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[78]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588 \u2588\u2588  ","\u2588\u2588\u2588 \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[79]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[80]=f(["\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","        ","        "]),e[81]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588\u2588  "," \u2588\u2588\u2588\u2588   ","    \u2588\u2588  ","        "]),e[82]=f(["\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[83]=f([" \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588     ","  \u2588\u2588\u2588   ","    \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[84]=f(["\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588 \u2588\u2588 \u2588  ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[85]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[86]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        "]),e[87]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  "," \u2588  \u2588   ","        ","        "]),e[88]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[89]=f(["\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[90]=f(["\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588   \u2588\u2588  ","   \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588   \u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        "]),e[91]=f([" \u2588\u2588\u2588\u2588   "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[92]=f(["        ","        ","\u2588       ","\u2588\u2588      "," \u2588\u2588     ","  \u2588\u2588    ","   \u2588\u2588   ","    \u2588\u2588  ","     \u2588  ","        ","        "]),e[93]=f(["   \u2588\u2588\u2588\u2588 ","     \u2588\u2588 ","     \u2588\u2588 ","     \u2588\u2588 ","     \u2588\u2588 ","     \u2588\u2588 ","     \u2588\u2588 ","     \u2588\u2588 ","   \u2588\u2588\u2588\u2588 ","        ","        "]),e[94]=f(["   \u2588    ","  \u2588\u2588\u2588   "," \u2588\u2588 \u2588\u2588  ","        ","        ","        ","        ","        ","        ","        ","        "]),e[95]=f(["        ","        ","        ","        ","        ","        ","        ","        ","        ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        "]),e[96]=f([" \u2588\u2588     ","  \u2588\u2588    ","   \u2588\u2588   ","        ","        ","        ","        ","        ","        ","        ","        "]),e[97]=f(["        ","        ","        "," \u2588\u2588\u2588    ","   \u2588\u2588   "," \u2588\u2588\u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   "," \u2588\u2588 \u2588\u2588  ","        ","        "]),e[98]=f(["\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588\u2588\u2588    ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[99]=f(["        ","        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[100]=f(["    \u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","  \u2588\u2588\u2588\u2588  "," \u2588\u2588 \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[101]=f(["        ","        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588      ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[102]=f(["  \u2588\u2588\u2588   "," \u2588\u2588 \u2588\u2588  "," \u2588\u2588  \u2588  "," \u2588\u2588     ","\u2588\u2588\u2588\u2588    "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     ","\u2588\u2588\u2588\u2588    ","        ","        "]),e[103]=f(["        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588\u2588  ","    \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        "]),e[104]=f(["\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588\u2588 \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[105]=f(["  \u2588\u2588    ","  \u2588\u2588    ","        "," \u2588\u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[106]=f(["    \u2588\u2588  ","    \u2588\u2588  ","        ","   \u2588\u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        "]),e[107]=f(["\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588\u2588\u2588    ","\u2588\u2588\u2588\u2588    ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[108]=f([" \u2588\u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[109]=f(["        ","        ","        ","\u2588 \u2588\u2588\u2588   ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588 \u2588 \u2588  ","\u2588\u2588 \u2588 \u2588  ","\u2588\u2588 \u2588 \u2588  ","\u2588\u2588 \u2588 \u2588  ","        ","        "]),e[110]=f(["        ","        ","        ","\u2588 \u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[111]=f(["        ","        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[112]=f(["        ","        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588   ","\u2588\u2588      ","\u2588\u2588      ","        "]),e[113]=f(["        ","        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588\u2588  ","    \u2588\u2588  ","    \u2588\u2588  ","        "]),e[114]=f(["        ","        ","        ","\u2588 \u2588\u2588\u2588   ","\u2588\u2588\u2588 \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588      ","\u2588\u2588      ","\u2588\u2588\u2588     ","        ","        "]),e[115]=f(["        ","        ","        "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588     ","   \u2588\u2588   ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","        ","        "]),e[116]=f(["  \u2588     "," \u2588\u2588     "," \u2588\u2588     ","\u2588\u2588\u2588\u2588    "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588     "," \u2588\u2588 \u2588\u2588  ","  \u2588\u2588\u2588   ","        ","        "]),e[117]=f(["        ","        ","        ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   ","\u2588\u2588 \u2588\u2588   "," \u2588\u2588 \u2588\u2588  ","        ","        "]),e[118]=f(["        ","        ","        ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","        ","        "]),e[119]=f(["        ","        ","        ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  "," \u2588  \u2588   ","        ","        "]),e[120]=f(["        ","        ","        ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588   ","  \u2588\u2588    ","  \u2588\u2588    "," \u2588\u2588\u2588\u2588   ","\u2588\u2588  \u2588\u2588  ","        ","        "]),e[121]=f(["        ","        ","        ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588  \u2588\u2588  "," \u2588\u2588\u2588\u2588\u2588  ","    \u2588\u2588  ","   \u2588\u2588   ","\u2588\u2588\u2588\u2588    ","        "]),e[122]=f(["        ","        ","        ","\u2588\u2588\u2588\u2588\u2588\u2588  ","\u2588\u2588 \u2588\u2588   ","  \u2588\u2588    "," \u2588\u2588     ","\u2588\u2588  \u2588\u2588  ","\u2588\u2588\u2588\u2588\u2588\u2588  ","        ","        "]),e[123]=f(["   \u2588\u2588\u2588  ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","\u2588\u2588\u2588     ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","   \u2588\u2588\u2588  ","        ","        "]),e[124]=f(["  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","        ","        "]),e[125]=f(["\u2588\u2588\u2588     ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","   \u2588\u2588\u2588  ","  \u2588\u2588    ","  \u2588\u2588    ","  \u2588\u2588    ","\u2588\u2588\u2588     ","        ","        "]),e[126]=f([" \u2588\u2588  \u2588  ","\u2588 \u2588\u2588 \u2588  ","\u2588  \u2588\u2588   ","        ","        ","        ","        ","        ","        ","        ","        "]),e}();function f(e){return e.map(e=>e.split("").map(e=>"\u2588"==e))}const m=new Array(a.RL).fill(0),g=!0;class y{memory;os;color=g;constructor(e,t){this.memory=e,this.os=t}clear(){this.memory.screen.loadBytes(m)}outOfBounds(e,t){return e<0||e>16*a.pc||t<0||t>a.dh}drawPixel(e,t){if(this.outOfBounds(e,t))return void this.os.sys.error(c.X.ILLEGAL_PIXEL_COORD);const n=32*t+Math.floor(e/16);let r=this.memory.screen.get(n);const i=e%16;this.color?r|=1<<i:r&=~(1<<i),this.memory.screen.set(n,r)}drawLine(e,t,n,r){this.outOfBounds(e,t)||this.outOfBounds(n,r)?this.os.sys.error(c.X.ILLEGAL_LINE_COORD):e==n?this.drawVerticalLine(e,t,r):t==r?this.drawHorizontalLine(t,e,n):this.drawGeneralLine(e,t,n,r)}drawHorizontalLine(e,t,n){for(let r=Math.min(t,n);r<=Math.max(t,n);r++)this.drawPixel(r,e)}drawVerticalLine(e,t,n){for(let r=Math.min(t,n);r<=Math.max(t,n);r++)this.drawPixel(e,r)}drawGeneralLine(e,t,n,r){const i=Math.abs(n-e),s=Math.abs(r-t);let a=0,o=0,l=0;const u=e<n?1:-1,c=t<r?1:-1;for(;a<=i&&o<=s;)this.drawPixel(e+u*a,t+c*o),l<0?(a+=1,l+=s):(o+=1,l-=i)}drawRect(e,t,n,r){if(this.outOfBounds(e,t)||this.outOfBounds(n,r))this.os.sys.error(c.X.ILLEGAL_RECT_COORD);else for(let i=e;i<=n;i++)for(let e=t;e<=r;e++)this.drawPixel(i,e)}drawCircle(e,t,n){if(this.outOfBounds(e,t))this.os.sys.error(c.X.ILLEGAL_CENTER_COORD);else if(n>181)this.os.sys.error(c.X.ILLEGAL_RADIUS);else for(let r=-n;r<=n;r++)this.drawLine(e-Math.floor(Math.sqrt(n*n-r*r)),t+r,e+Math.floor(Math.sqrt(n*n-r*r)),t+r)}}class v{os;col=0;row=0;lastColor=!1;constructor(e){this.os=e}setColor(e){this.lastColor=this.os.screen.color,this.os.screen.color=e}restoreColor(){this.os.screen.color=this.lastColor}clearChar(){this.setColor(false),this.os.screen.drawRect(8*this.col,11*this.row,8*(this.col+1),11*(this.row+1)),this.restoreColor()}moveCursor(e,t){e<0||e>22||t<0||t>64?this.os.sys.error(c.X.ILLEGAL_CURSOR_LOCATION):(this.row=e,this.col=t,this.drawCursor())}println(){this.row=22==this.row?0:this.row+1,this.col=0}drawCursor(){this.clearChar(),this.setColor(g),this.os.screen.drawRect(8*this.col+2,11*this.row+2,8*(this.col+1)-2,11*(this.row+1)-2),this.restoreColor()}printChar(e){const t=p[e];if(t){this.clearChar(),this.setColor(g);for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)t[e][n]&&this.os.screen.drawPixel(8*this.col+n,11*this.row+e);this.restoreColor()}this.col+=1,64==this.col&&this.println()}printString(e){for(let t=0;t<this.os.string.length(e);t++)this.printChar(this.os.string.charAt(e,t))}printJsString(e){for(const t of e)this.printChar(t.charCodeAt(0))}printInt(e){for(const t of(0,l.eY)(e))this.printChar(t)}backspace(){this.clearChar(),this.col-=1,this.col<0&&(this.col=0,this.row-=1,this.row<0&&(this.row=0)),this.drawCursor()}}class b{os;_blocked=!1;_released=!1;_returnValue=0;_halted=!1;_exitCode=0;cancelWait=!1;animationFrameId;constructor(e){this.os=e}get blocked(){return this._blocked}get released(){return this._released}get halted(){return this._halted}get exitCode(){return this._exitCode}block(){this._blocked=!0}release(e){this._blocked=!1,this._returnValue=e??0,this._released=!0}readReturnValue(){return this._released=!1,this._returnValue}wait(e){e<=0?this.error(c.X.SYS_WAIT_DURATION_NOT_POSITIVE):(this.block(),(async()=>{await new Promise(t=>setTimeout(t,e)),this.release()})())}halt(){this._halted=!0,this._exitCode=0}error(e){this.os.output.printJsString(`ERR${e}`),this._halted=!0,this._exitCode=e}dispose(){this.cancelWait=!0,this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}}class w{vmMemory;screen;memory;string;output;keyboard;sys;paused=!1;constructor(e){this.vmMemory=e,this.screen=new y(this.vmMemory,this),this.memory=new h(this.vmMemory,this),this.string=new l.Fz(this.vmMemory,this),this.output=new v(this),this.keyboard=new u(this.vmMemory,this),this.sys=new b(this)}dispose(){this.keyboard.dispose(),this.sys.dispose()}}const _="__implicit",S={name:"Sys.init",labels:{},nVars:0,opBase:0,operations:[{op:"function",name:"Sys.init",nVars:0},{op:"call",name:"Math.init",nArgs:0},{op:"call",name:"String.init",nArgs:0},{op:"call",name:"Array.init",nArgs:0},{op:"call",name:"Output.init",nArgs:0},{op:"call",name:"Screen.init",nArgs:0},{op:"call",name:"Keyboard.init",nArgs:0},{op:"call",name:"Memory.init",nArgs:0},{op:"call",name:"Main.main",nArgs:0}]};class x{memory=new o;os=new w(this.memory);functionMap={};executionStack=[];entry="";segmentInitializations={local:{initialized:!1,n:0},argument:{initialized:!1,n:0}};functions=[];program=[];addedSysInit=!1;staticCount=0;statics={};getStaticCount(){return this.staticCount}returnLine=void 0;registerStatic(e,t){const n=e.split(".")[0],r=this.statics[n]??[];this.statics[n]=r;const i=r[t]??this.staticCount++;return r[t]=i,i}registerStatics(){for(const e of Object.values(this.functionMap))for(const t of e.operations)"push"!==t.op&&"pop"!==t.op||"static"!==t?.segment||(t.offset=this.registerStatic(e.name,t.offset))}static fileBasenameNoExtension(e){return e.includes("/")&&(e=e.split("/").pop()??""),e.includes(".")&&(e=e.split(".")[0]),e}static validateFile(e){for(const t of e.instructions)if("function"==t.op){const n=t.name.split(".");if(2!=n.length)return(0,r._)((0,i.$5)(`Illegal subroutine name ${t.name} (Expected <className>.<SubroutineName>)`,t.span));if(n[0]!=this.fileBasenameNoExtension(e.name))return(0,r._)((0,i.$5)(`File name ${e.name} doesn't match class name ${n[0]} (at ${t.name})`,t.span))}return(0,r.Ok)()}static validateFiles(e){const t=new Set;for(const n of e){if(t.has(n.name))return(0,r._)((0,i.$5)(`File ${n.name} already exists`));const e=this.validateFile(n);if((0,r.ys)(e))return e;t.add(n.name)}return(0,r.Ok)()}validateStackInstructions(){for(const e of Object.values(this.functionMap))for(const t of e.operations)if("pop"==t.op||"push"==t.op){const e=this.memory.baseSegment(t.segment,t.offset);if((0,r.ys)(e))return(0,r._)((0,i.$5)((0,r._)(e).message,t.span))}return(0,r.Ok)()}static validateFunctions(e){const t=new Set,n=[];for(const s of e){if("function"==s.op){if(s.nVars<0||s.nVars>32767)return(0,r._)((0,i.$5)(`Illegal number of local variables ${s.nVars} (Expected 0-32767)`,s.span));t.add(s.name)}if("call"==s.op){if(s.nArgs<0||s.nArgs>32767)return(0,r._)((0,i.$5)(`Illegal number of arguments ${s.nArgs} (Expected 0-32767)`,s.span));n.push(s)}}for(const a of n)if(!t.has(a.name)){const e=s.P9[a.name];if(!e)return(0,r._)((0,i.$5)(`Undefined function ${a.name}`,a.span));{const t="method"==e.type?e.args.length+1:e.args.length;if(t!=a.nArgs)return(0,r._)((0,i.$5)(`OS function ${a.name} expects ${t} arguments, not ${a.nArgs}`,a.span))}}return(0,r.Ok)()}static buildFromFiles(e){let t=this.validateFiles(e);if((0,r.ys)(t))return t;const n=e.map(e=>e.instructions).reduce((e,t)=>e.concat(t));if(t=this.validateFunctions(n),(0,r.ys)(t))return t;const i=new x,s=i.load(n);return(0,r.ys)(s)?s:i.bootstrap()}static build(e){const t=this.validateFunctions(e);if((0,r.ys)(t))return t;const n=new x,i=n.load(e);return(0,r.ys)(i)?i:n.bootstrap()}static buildFunction(e,t){if("function"!==e[t].op)throw new Error("Only call buildFunction at the initial Function instruction");const{name:n,nVars:s}=e[t],a={name:n,nVars:s,labels:{},operations:[{op:"function",name:n,nVars:s,span:e[t].span}],opBase:0},o=new Set,l={};t+=1;e:for(;t<e.length;){switch(e[t].op){case"function":break e;case"add":case"sub":case"neg":case"and":case"or":case"not":case"gt":case"lt":case"eq":a.operations.push({op:e[t].op,span:e[t].span});break;case"push":case"pop":a.operations.push({op:e[t].op,segment:e[t].segment,offset:e[t].offset,span:e[t].span});break;case"call":a.operations.push({op:"call",name:e[t].name,nArgs:e[t].nArgs,span:e[t].span});break;case"goto":case"if-goto":{const{label:n}=e[t];l[n]=e[t].span,a.operations.push({op:e[t].op,label:n,span:e[t].span});break}case"label":{const{label:n}=e[t];if(o.add(n),a.labels[n])return(0,r._)((0,i.$5)(`Cannot redeclare label ${n} in function ${a.name} (previously at line ${a.labels[n]+1})`,e[t].span));a.labels[n]=a.operations.length,a.operations.push({op:"label",label:n,span:e[t].span});break}case"return":a.operations.push({op:"return",span:e[t].span})}t+=1}for(const u of Object.keys(l))if(!o.has(u))return(0,r._)((0,i.$5)(`Undeclared label ${u}`,l[u]));return(0,r.Ok)([a,t])}get RAM(){return this.memory}get Keyboard(){return this.memory.keyboard}get Screen(){return this.memory.screen}get invocation(){const e=this.executionStack.at(-1);return void 0===e?{frameBase:256,function:_,nArgs:0,opPtr:0,thisInitialized:!1,thatInitialized:!1}:e}get currentFunction(){return this.functionMap[this.invocation.function]}get operation(){if(this.currentFunction){if(this.invocation.opPtr>this.currentFunction.operations.length)throw new Error(`Current operation step beyond end of function operations (${this.invocation.opPtr} > ${this.currentFunction.operations.length})`);return this.currentFunction.operations[this.invocation.opPtr]}}load(e,t=!1){t&&(this.functionMap={},this.statics={},this.staticCount=0),"function"!==e[0]?.op&&e.unshift({op:"function",name:_,nVars:0});let n=0;for(;n<e.length;){const t=x.buildFunction(e,n);if((0,r.ys)(t))return t;const[s,a]=(0,r.oA)(t);if(this.functionMap[s.name]&&this.memory.strict&&s.name!==_&&s.name!==S.name)return(0,r._)((0,i.$5)(`VM Already has a function named ${s.name}`,e[0].span));this.functionMap[s.name]=s,n=a}const s=this.validateStackInstructions();return(0,r.ys)(s)?s:(this.registerStatics(),t&&this.bootstrap(),(0,r.Ok)(this))}bootstrap(){if(!this.functionMap[S.name]&&this.functionMap["Main.main"]&&(this.functionMap[S.name]=S,this.addedSysInit=!0),this.functionMap[S.name])this.entry=S.name;else if(this.functionMap[_])this.entry=_;else{const e=Object.keys(this.functionMap);1===e.length&&(this.entry=e[0])}if(this.functionMap[_]&&this.functionMap[S.name])return(0,r._)((0,i.$5)("Cannot use both bootstrap and an implicit function"));if(""===this.entry)return(0,r._)((0,i.$5)("Could not determine an entry point for VM"));this.functions=Object.values(this.functionMap),this.functions.sort((e,t)=>e.name===this.entry?-1:t.name===this.entry?1:0);let e=0;return this.program=this.functions.reduce((t,n)=>(n.name!=S.name&&(n.opBase=e),e+=n.operations.length,t.concat(n.operations)),[]),this.reset(),(0,r.Ok)(this)}reset(){this.executionStack=[{function:this.entry,opPtr:1,frameBase:256,nArgs:0,thisInitialized:!1,thatInitialized:!1}],this.memory.reset(),this.memory.SP=256,this.segmentInitializations={local:{initialized:!1,n:0},argument:{initialized:!1,n:0}},this.os.dispose(),this.os=new w(this.memory)}validateStackOp(e){if(this.currentFunction?.name==this.entry){for(const t of["local","argument"])if(e.segment==t){if(this.segmentInitializations[t].initialized)return void(this.segmentInitializations[t].n=Math.max(e.offset+1,this.segmentInitializations[t].n));throw new Error(`The ${t} segment cannot be accessed since it was not initialized`)}if("this"==e.segment&&this.invocation.thisInitialized)return void(this.invocation.thisN=Math.max(e.offset+1,this.invocation.thisN??0))}if("argument"==e.segment&&e.offset>=this.invocation.nArgs)throw new Error("Argument offset out of bounds");if("local"==e.segment&&e.offset>=this.functionMap[this.invocation.function]?.nVars)throw new Error("Local offset out of bounds");if("this"==e.segment&&!this.invocation.thisInitialized)throw new Error("The this segment cannot be accessed since it was not initialized");if("that"==e.segment&&!this.invocation.thatInitialized)throw new Error("The that segment cannot be accessed since it was not initialized")}setPaused(e=!0){this.os.paused=e}step(){if(this.os.sys.halted)return this.os.sys.exitCode;if(this.os.sys.blocked)return;if(this.os.sys.released&&"call"==this.operation?.op){const e=this.os.sys.readReturnValue(),t=this.memory.SP-this.operation.nArgs;return this.memory.set(t,e),this.memory.SP=t+1,void(this.invocation.opPtr+=1)}if(void 0==this.operation)return this.os.sys.halt(),this.step();const e=this.operation;if("label"===e.op)return this.invocation.opPtr+=1,this.step();switch(e.op){case"push":{this.validateStackOp(e);const t=this.memory.getSegment(e.segment,e.offset);this.memory.push(t);break}case"pop":{this.validateStackOp(e);const t=this.memory.pop();this.memory.setSegment(e.segment,e.offset,t),"pointer"==e.segment&&(0==e.offset?(this.invocation.thisInitialized=!0,this.invocation.thisN=this.memory.get(this.memory.THIS-1)):1==e.offset&&(this.invocation.thatInitialized=!0));break}case"add":this.memory.binOp((e,t)=>e+t);break;case"sub":this.memory.binOp((e,t)=>e-t);break;case"neg":this.memory.unOp(e=>-e);break;case"and":this.memory.binOp((e,t)=>e&t);break;case"or":this.memory.binOp((e,t)=>e|t);break;case"not":this.memory.unOp(e=>~e);break;case"eq":this.memory.comp((e,t)=>e===t);break;case"lt":this.memory.comp((e,t)=>e<t);break;case"gt":this.memory.comp((e,t)=>e>t);break;case"goto":this.goto(e.label);break;case"if-goto":0!=this.memory.pop()&&this.goto(e.label);break;case"call":{const t=e.name;if(this.functionMap[t]){const n=this.memory.pushFrame(this.invocation.opPtr,e.nArgs,this.functionMap[t].nVars);this.executionStack.push({function:t,opPtr:0,nArgs:e.nArgs,frameBase:n,thisInitialized:!1,thatInitialized:!1})}else if(s.P9[t]){const n=s.P9[t].func(this.memory,this.os);if(this.os.sys.blocked)return;const r=this.memory.SP-e.nArgs;this.memory.set(r,n),this.memory.SP=r+1}break}case"return":{const e=this.derivedLine();this.executionStack.pop();const t=this.memory.popFrame();if(this.invocation.opPtr=t,0===this.executionStack.length)return this.returnLine=e,0;break}}this.invocation.opPtr+=1}goto(e){if(this.currentFunction){if(void 0===this.currentFunction.labels[e])throw new Error(`Attempting GOTO to unknown label ${e} in ${this.currentFunction.name}`);this.invocation.opPtr=this.currentFunction.labels[e]}}write(e){e.map(([e,t])=>{this.memory.set(e,t)})}read(e){return e.map(e=>this.memory.get(e))}vmStack(){return this.executionStack.map((e,t)=>{const n=this.executionStack[t+1],r=n?n.frameBase-n.nArgs:this.memory.get(0);return this.makeFrame(e,r)})}getUsedSegments(e){const t=new Set;for(const n of this.functionMap[e.function].operations)"push"!==n.op&&"pop"!=n.op||t.add(n.segment);return t}makeFrame(e=this.invocation,t){const n=this.functionMap[e.function];if(n.name===this.entry){const t=256+n.nVars,r=this.executionStack[1],i=r?r.frameBase-r.nArgs:this.memory.get(0),{ARG:s,LCL:a,THAT:o,THIS:l}=this.memory,u=this.segmentInitializations.argument.n,c=this.segmentInitializations.local.n,d=this.invocation.thisN??0;return{fn:n,args:{base:s,count:u,values:[...this.memory.map((e,t)=>t,s,s+u)]},locals:{base:a,count:c,values:[...this.memory.map((e,t)=>t,a,a+c)]},stack:{base:256,count:i-t,values:[...this.memory.map((e,t)=>t,t,i)]},this:{base:l,count:d,values:[...this.memory.map((e,t)=>t,l,l+d)]},that:{base:o,count:1,values:[this.memory.THAT]},frame:{ARG:s,LCL:a,RET:65535,THAT:o,THIS:l},usedSegments:this.getUsedSegments(e)}}const r=this.memory.getFrame(e.frameBase,e.nArgs,n.nVars,this.invocation.thisN??0,1,t);return r.fn=n,r.usedSegments=this.getUsedSegments(e),r}derivedLine(){return this.operation?.span?.line??this.returnLine??0}writeDebug(){const e=this.derivedLine(),t=Math.max(e-5,0),n=Math.min(e+3,this.program.length),r=this.program.slice(t,n).map((n,r)=>`${r===e-t?"->":"  "} ${function(e){switch(e.op){case"add":case"and":case"sub":case"eq":case"gt":case"lt":case"neg":case"not":case"or":case"return":return`  ${e.op}`;case"goto":return`  ${e.op}    ${e.label}`;case"if-goto":return`  ${e.op} ${e.label}`;case"label":return`${e.op}     ${e.label}`;case"call":return`  ${e.op}    ${e.name} ${e.nArgs}`;case"function":return`${e.op}  ${e.name} ${e.nVars}`;case"pop":return`  ${e.op}     ${e.segment} ${e.offset}`;case"push":return`  ${e.op}    ${e.segment} ${e.offset}`}}(n)}`).join("\n"),i=this.vmStack().at(-1);return i?r+"\n\n"+function(e){return[`Frame: ${e.fn?.name??"Unknown Fn"} ARG:${e.frame.ARG} LCL:${e.frame.LCL}`,`Args: ${k(e.args)}`,`Lcls: ${k(e.locals)}`,`Stck: ${k(e.stack)}`].join("\n")}(i):r}}function k(e){return`[${e.base};${e.count}][${e.values.join(", ")}]`}},5189:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;"undefined"!==typeof window&&("undefined"===typeof window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(r=window).gtag.apply(r,t))};t.default=n},5270:(e,t,n)=>{"use strict";n.d(t,{w:()=>v,z1:()=>y});var r,i=n(1092),s=n(2469),a=n(8878),o=n(782);const l="/tracking/canTrack",u="yes",c="no",d="",h=[u,c];let p=!1;const f=null!==(r={NODE_ENV:"production",PUBLIC_URL:"/web-ide",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GA4_ID)&&void 0!==r?r:"G-0VTR5BJFQP";function m(e){i.Ay.send({hitType:"pageview",page:e})}function g(e,t,n,r){var a,o;if(p)return;const l="string"===typeof e?{category:e,action:(0,s.Z1)(t),label:n&&r?{label:n,value:r}:void 0}:e;i.Ay.event({category:l.category,action:l.action,nonInteraction:!l.interaction,label:null===(a=l.label)||void 0===a?void 0:a.label,value:null===(o=l.label)||void 0===o?void 0:o.value})}function y(){var e;const t=null!==(e=localStorage[l])&&void 0!==e?e:d,[n,r]=(0,a.useState)(t===u),[s,o]=(0,a.useState)(h.includes(t)||"1"===navigator.doNotTrack);return{canTrack:n,haveAsked:s,accept:(0,a.useCallback)(()=>{localStorage[l]=u,r(!0),o(!0),i.Ay.initialize(f),i.Ay.send("pageview")},[r,o]),reject:(0,a.useCallback)(()=>{localStorage[l]=c,r(!1),o(!0),p=!0},[r,o]),trackEvent:g,trackPage:m}}function v(){const{accept:e,reject:t,haveAsked:n}=y(),[r,i]=(0,a.useState)(!n),s=(0,a.useCallback)(()=>{i(!1)},[i]),l=(0,a.useCallback)(()=>{e(),s()},[e,s]),u=(0,a.useCallback)(()=>{t(),s()},[t,s]);return(0,o.jsx)(o.Fragment,{children:r&&(0,o.jsxs)("div",{id:"trackingBanner",className:"flex row",children:[(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)(b,{})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("a",{href:"#reject",role:"button",className:"reject",onClick:u,children:"Reject"}),(0,o.jsx)("a",{href:"#accept",role:"button",className:"accept",onClick:l,children:"Accept"}),(0,o.jsx)("a",{href:"#close",role:"button",className:"close secondary",onClick:s,children:"\ud835\uddb7"})]})]})})}function b(){return(0,o.jsxs)("p",{style:{margin:0},children:["This site uses Google Analytics to gather information that will improve the user experience. This only includes anonymous interaction data, and never shares your code."," ",(0,o.jsx)("a",{href:"www.google.com/policies/privacy/partners/",children:"How Google uses data."})]})}},5384:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0,function(e){e.MalformedUnicode="MALFORMED_UNICODE",e.MalformedHexadecimal="MALFORMED_HEXADECIMAL",e.CodePointLimit="CODE_POINT_LIMIT",e.OctalDeprecation="OCTAL_DEPRECATION",e.EndOfString="END_OF_STRING"}(n=t.ErrorType||(t.ErrorType={})),t.errorMessages=new Map([[n.MalformedUnicode,"malformed Unicode character escape sequence"],[n.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[n.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[n.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[n.EndOfString,"malformed escape sequence at end of string"]])},5608:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var s=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,o,l,u,c=[],d=0,h=e.length,p=h,f="string"!==r.getTypeOf(e);d<e.length;)p=h-d,i=f?(t=e[d++],n=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),a=t>>2,o=(3&t)<<4|n>>4,l=1<p?(15&n)<<2|i>>6:64,u=2<p?63&i:64,c.push(s.charAt(a)+s.charAt(o)+s.charAt(l)+s.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,a,o,l,u=0,c=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&p--,e.charAt(e.length-2)===s.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|p):new Array(0|p);u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(a=s.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(o=s.indexOf(e.charAt(u++)))>>2,r=(3&o)<<6|(l=s.indexOf(e.charAt(u++))),h[c++]=t,64!==o&&(h[c++]=n),64!==l&&(h[c++]=r);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function o(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var s=i,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var s=i,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),s=e("./utils"),a=e("./stream/GenericWorker"),o=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",s.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,c){var d,h,p=e.file,f=e.compression,m=c!==o.utf8encode,g=s.transformTo("string",c(p.name)),y=s.transformTo("string",o.utf8encode(p.name)),v=p.comment,b=s.transformTo("string",c(v)),w=s.transformTo("string",o.utf8encode(v)),_=y.length!==p.name.length,S=w.length!==v.length,x="",k="",I="",C=p.dir,A=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var O=0;t&&(O|=8),m||!_&&!S||(O|=2048);var R=0,P=0;C&&(R|=16),"UNIX"===a?(P=798,R|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,C)):(P=20,R|=function(e){return 63&(e||0)}(p.dosPermissions)),d=A.getUTCHours(),d<<=6,d|=A.getUTCMinutes(),d<<=5,d|=A.getUTCSeconds()/2,h=A.getUTCFullYear()-1980,h<<=4,h|=A.getUTCMonth()+1,h<<=5,h|=A.getUTCDate(),_&&(k=r(1,1)+r(l(g),4)+y,x+="up"+r(k.length,2)+k),S&&(I=r(1,1)+r(l(b),4)+w,x+="uc"+r(I.length,2)+I);var L="";return L+="\n\0",L+=r(O,2),L+=f.magic,L+=r(d,2),L+=r(h,2),L+=r(E.crc32,4),L+=r(E.compressedSize,4),L+=r(E.uncompressedSize,4),L+=r(g.length,2),L+=r(x.length,2),{fileRecord:u.LOCAL_FILE_HEADER+L+g+x,dirRecord:u.CENTRAL_FILE_HEADER+r(P,2)+L+r(b.length,2)+"\0\0\0\0"+r(R,4)+r(i,4)+g+x+b}}var s=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(c,a),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var o=s.transformTo("string",a(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var s=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),o=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,o).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)}),s.entriesCount=a}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),s=e("./utf8"),a=e("./zipEntries"),o=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new o);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new a(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)n.push(u(r[s]));return i.Promise.all(n)}).then(function(e){for(var i=e.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a],l=o.fileNameStr,u=r.resolve(o.fileNameStr);n.file(u,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(n.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function s(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=s.getTypeOf(t),o=s.extend(n||{},l);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=m(e)),o.createFolders&&(r=f(e))&&g.call(this,r,!0);var d="string"===i&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!d),(t instanceof u&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",i="string");var y=null;y=t instanceof u||t instanceof a?t:h.isNode&&h.isStream(t)?new p(e,t):s.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var v=new c(e,y,o);this.files[e]=v}var i=e("./utf8"),s=e("./utils"),a=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(y(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(y(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&r===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),s=e("./ArrayReader"),a=e("./StringReader"),o=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new o(e):i.uint8array?new l(r.transformTo("uint8array",e)):new s(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function s(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),s=e("./GenericWorker"),a=e("../base64"),o=e("../support"),l=e("../external"),u=null;if(o.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t){return new l.Promise(function(n,i){var s=[],o=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",function(e,n){s.push(e),t&&t(n)}).on("error",function(e){s=[],i(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,s=0;for(n=0;n<t.length;n++)s+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(s),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,s),u);n(e)}catch(e){i(e)}s=[]}).resume()})}function d(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return c(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),s=e("./nodejsUtils"),a=e("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}o[254]=o[254]=1,n.utf8encode=function(e){return i.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,n,r,s,a,o=e.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),s=a=0;a<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,s,a=e.length,l=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)l[n++]=i;else if(4<(s=o[i]))l[n++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&t<a;)i=i<<6|63&e[t++],s--;1<s?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,a),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),s=e("./nodejsUtils"),a=e("./external");function o(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;i<s;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,s)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,s)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var h={};h.string={string:o,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s.allocBuffer(e.length))}},h.array={string:c,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},h.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return s.newBufferFrom(e)}},h.nodebuffer={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,s,o,u){return a.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var c=n.getTypeOf(t);return c?("arraybuffer"===c?t=n.transformTo("uint8array",t):"string"===c&&(u?t=i.decode(t):s&&!0!==o&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./signature"),a=e("./zipEntry"),o=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./compressedObject"),a=e("./crc32"),o=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(c),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var s={},a=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function i(t){n||(n=!0,s.resolve(e,t))}var a=f(function(){t(i,r)});"error"===a.status&&r(a.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===o?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){s.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return s.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=o,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:s.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return s.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),o=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then(function(e){a[i]=e,++o!==n||r||(r=!0,s.resolve(u,a))},function(e){r||(r=!0,s.reject(u,e))})}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,o=-1,l=new this(i);++o<n;)a=e[o],t.resolve(a).then(function(e){r||(r=!0,s.resolve(l,e))},function(e){r||(r=!0,s.reject(l,e))});return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/messages"),o=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=i.assign({level:c,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,f))!==u)throw new Error(a[n]);this._dict_set=!0}}function f(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}p.prototype.push=function(e,t){var n,a,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(c),o.next_out=0,o.avail_out=c),1!==(n=r.deflate(o,a))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),!(o.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/constants"),o=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(e,t){var n,o,l,u,d,h,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=s.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(f),p.next_out=0,p.avail_out=f),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(h="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(p.output,p.next_out),u=p.next_out-l,d=s.buf2string(p.output,l),p.next_out=u,p.avail_out=f-u,u&&i.arraySet(p.output,p.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,s,a,o=e.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=a=0;a<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,s,o=t||e.length,u=new Array(2*o);for(n=r=0;n<o;)if((i=e[n++])<128)u[r++]=i;else if(4<(s=a[i]))u[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&n<o;)i=i<<6|63&e[n++],s--;1<s?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e,s=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;s=s+(i=i+t[r++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var s=r,a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),s=e("./trees"),a=e("./adler32"),o=e("./crc32"),l=e("./messages"),u=0,c=4,d=0,h=-2,p=-1,f=4,m=2,g=8,y=9,v=286,b=30,w=19,_=2*v+1,S=15,x=3,k=258,I=k+x+1,C=42,A=113,E=1,O=2,R=3,P=4;function L(e,t){return e.msg=l[t],t}function T(e){return(e<<1)-(4<e?9:0)}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function j(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function D(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-I?e.strstart-(e.w_size-I):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+k,p=u[s+a-1],f=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(n=t)+a]===f&&u[n+a-1]===p&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<h);if(r=k-(h-s),s=h-k,a<r){if(e.match_start=t,o<=(a=r))break;p=u[s+a-1],f=u[s+a]}}}while((t=d[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function $(e){var t,n,r,s,l,u,c,d,h,p,f=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-I)){for(i.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;r=e.head[--t],e.head[t]=f<=r?r-f:0,--n;);for(t=n=f;r=e.prev[--t],e.prev[t]=f<=r?r-f:0,--n;);s+=f}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,p=void 0,(h=s)<(p=u.avail_in)&&(p=h),n=0===p?0:(u.avail_in-=p,i.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=a(u.adler,c,p,d):2===u.state.wrap&&(u.adler=o(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=x)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+x-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<I&&0!==e.strm.avail_in)}function B(e,t){for(var n,r;;){if(e.lookahead<I){if($(e),e.lookahead<I&&t===u)return E;if(0===e.lookahead)break}if(n=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-I&&(e.match_length=z(e,n)),e.match_length>=x)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(j(e,!1),0===e.strm.avail_out))return E}return e.insert=e.strstart<x-1?e.strstart:x-1,t===c?(j(e,!0),0===e.strm.avail_out?R:P):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?E:O}function U(e,t){for(var n,r,i;;){if(e.lookahead<I){if($(e),e.lookahead<I&&t===u)return E;if(0===e.lookahead)break}if(n=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-I&&(e.match_length=z(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,r&&(j(e,!1),0===e.strm.avail_out))return E}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&j(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return E}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===c?(j(e,!0),0===e.strm.avail_out?R:P):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?E:O}function V(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*_),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*w+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*v+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:A,e.adler=2===t.wrap?0:1,t.last_flush=u,s._tr_init(t),d):L(e,h)}function G(e){var t=H(e);return t===d&&function(e){e.window_size=2*e.w_size,N(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function q(e,t,n,r,s,a){if(!e)return h;var o=1;if(t===p&&(t=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),s<1||y<s||n!==g||r<8||15<r||t<0||9<t||a<0||f<a)return L(e,h);8===r&&(r=9);var l=new W;return(e.state=l).strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+x-1)/x),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,G(e)}r=[new V(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if($(e),0===e.lookahead&&t===u)return E;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,j(e,!1),0===e.strm.avail_out))return E;if(e.strstart-e.block_start>=e.w_size-I&&(j(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===c?(j(e,!0),0===e.strm.avail_out?R:P):(e.strstart>e.block_start&&(j(e,!1),e.strm.avail_out),E)}),new V(4,4,8,4,B),new V(4,5,16,8,B),new V(4,6,32,32,B),new V(4,4,16,16,U),new V(8,16,32,32,U),new V(8,16,128,128,U),new V(8,32,128,256,U),new V(32,128,258,1024,U),new V(32,258,258,4096,U)],n.deflateInit=function(e,t){return q(e,t,g,15,8,0)},n.deflateInit2=q,n.deflateReset=G,n.deflateResetKeep=H,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?L(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return L(e,0===e.avail_out?-5:h);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,255&i.gzhead.time),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,255&i.gzhead.extra.length),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,3),i.status=A);else{var p=g+(i.w_bits-8<<4)<<8;p|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(p|=32),p+=31-p%31,i.status=A,D(i,p),0!==i.strstart&&(D(i,e.adler>>>16),D(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),F(e),a=i.pending,i.pending!==i.pending_buf_size));)M(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),F(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,M(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),F(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,M(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(e),i.pending+2<=i.pending_buf_size&&(M(i,255&e.adler),M(i,e.adler>>8&255),e.adler=0,i.status=A)):i.status=A),0!==i.pending){if(F(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&T(t)<=T(n)&&t!==c)return L(e,-5);if(666===i.status&&0!==e.avail_in)return L(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var f=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&($(e),0===e.lookahead)){if(t===u)return E;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(j(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===c?(j(e,!0),0===e.strm.avail_out?R:P):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?E:O}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=k){if($(e),e.lookahead<=k&&t===u)return E;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(r=o[i=e.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=e.strstart+k;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=k-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(n=s._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(j(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===c?(j(e,!0),0===e.strm.avail_out?R:P):e.last_lit&&(j(e,!1),0===e.strm.avail_out)?E:O}(i,t):r[i.level].func(i,t);if(f!==R&&f!==P||(i.status=666),f===E||f===R)return 0===e.avail_out&&(i.last_flush=-1),d;if(f===O&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(N(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(e),0===e.avail_out))return i.last_flush=-1,d}return t!==c?d:i.wrap<=0?1:(2===i.wrap?(M(i,255&e.adler),M(i,e.adler>>8&255),M(i,e.adler>>16&255),M(i,e.adler>>24&255),M(i,255&e.total_in),M(i,e.total_in>>8&255),M(i,e.total_in>>16&255),M(i,e.total_in>>24&255)):(D(i,e.adler>>>16),D(i,65535&e.adler)),F(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?L(e,h):(e.state=null,t===A?L(e,-3):d):h},n.deflateSetDictionary=function(e,t){var n,r,s,o,l,u,c,p,f=t.length;if(!e||!e.state)return h;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==C||n.lookahead)return h;for(1===o&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===o&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,$(n);n.lookahead>=x;){for(r=n.strstart,s=n.lookahead-(x-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+x-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=x-1,$(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=x-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=o,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,s,a,o,l,u,c,d,h,p,f,m,g,y,v,b,w,_,S,x,k,I,C;n=e.state,r=e.next_in,I=e.input,i=r+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,h=n.window,p=n.hold,f=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(p+=I[r++]<<f,f+=8,p+=I[r++]<<f,f+=8),b=m[p&y];t:for(;;){if(p>>>=w=b>>>24,f-=w,0===(w=b>>>16&255))C[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(w&=15)&&(f<w&&(p+=I[r++]<<f,f+=8),_+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=I[r++]<<f,f+=8,p+=I[r++]<<f,f+=8),b=g[p&v];n:for(;;){if(p>>>=w=b>>>24,f-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,f<(w&=15)&&(p+=I[r++]<<f,(f+=8)<w&&(p+=I[r++]<<f,f+=8)),l<(S+=p&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,f-=w,(w=s-a)<S){if(c<(w=S-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=h,(x=0)===d){if(x+=u-w,w<_){for(_-=w;C[s++]=h[x++],--w;);x=s-S,k=C}}else if(d<w){if(x+=u+d-w,(w-=d)<_){for(_-=w;C[s++]=h[x++],--w;);if(x=0,d<_){for(_-=w=d;C[s++]=h[x++],--w;);x=s-S,k=C}}}else if(x+=d-w,w<_){for(_-=w;C[s++]=h[x++],--w;);x=s-S,k=C}for(;2<_;)C[s++]=k[x++],C[s++]=k[x++],C[s++]=k[x++],_-=3;_&&(C[s++]=k[x++],1<_&&(C[s++]=k[x++]))}else{for(x=s-S;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(_-=3););_&&(C[s++]=C[x++],1<_&&(C[s++]=C[x++]))}break}}break}}while(r<i&&s<o);r-=_=f>>3,p&=(1<<(f-=_<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<o?o-s+257:257-(s-o),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),a=e("./inffast"),o=e("./inftrees"),l=1,u=2,c=0,d=-2,h=1,p=852,f=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(p),t.distcode=t.distdyn=new r.Buf32(f),t.sane=1,t.back=-1,c):d}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,y(e)):d}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):d}function w(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=b(e,t))!==c&&(e.state=null),n):d}var _,S,x=!0;function k(e){if(x){var t;for(_=new r.Buf32(512),S=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(l,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(u,e.lens,0,32,S,0,e.work,{bits:5}),x=!1}e.lencode=_,e.lenbits=9,e.distcode=S,e.distbits=5}function I(e,t,n,i){var s,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(s=a.wsize-a.wnext)&&(s=i),r.arraySet(a.window,t,n-i,s,a.wnext),(i-=s)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}n.inflateReset=v,n.inflateReset2=b,n.inflateResetKeep=y,n.inflateInit=function(e){return w(e,15)},n.inflateInit2=w,n.inflate=function(e,t){var n,p,f,g,y,v,b,w,_,S,x,C,A,E,O,R,P,L,T,N,F,j,M,D,z=0,$=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),y=e.next_out,f=e.output,b=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,w=n.hold,_=n.bits,S=v,x=b,j=c;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(2&n.wrap&&35615===w){$[n.check=0]=255&w,$[1]=w>>>8&255,n.check=s(n.check,$,2,0),_=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",n.mode=30;break}if(_-=4,F=8+(15&(w>>>=4)),0===n.wbits)n.wbits=F;else if(F>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<F,e.adler=n.check=1,n.mode=512&w?10:12,_=w=0;break;case 2:for(;_<16;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(n.flags=w,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&($[0]=255&w,$[1]=w>>>8&255,n.check=s(n.check,$,2,0)),_=w=0,n.mode=3;case 3:for(;_<32;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}n.head&&(n.head.time=w),512&n.flags&&($[0]=255&w,$[1]=w>>>8&255,$[2]=w>>>16&255,$[3]=w>>>24&255,n.check=s(n.check,$,4,0)),_=w=0,n.mode=4;case 4:for(;_<16;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&($[0]=255&w,$[1]=w>>>8&255,n.check=s(n.check,$,2,0)),_=w=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&($[0]=255&w,$[1]=w>>>8&255,n.check=s(n.check,$,2,0)),_=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(C=n.length)&&(C=v),C&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,p,g,C,F)),512&n.flags&&(n.check=s(n.check,p,C,g)),v-=C,g+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;for(C=0;F=p[g+C++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F)),F&&C<v;);if(512&n.flags&&(n.check=s(n.check,p,C,g)),v-=C,g+=C,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;for(C=0;F=p[g+C++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F)),F&&C<v;);if(512&n.flags&&(n.check=s(n.check,p,C,g)),v-=C,g+=C,F)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}_=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}e.adler=n.check=m(w),_=w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=y,e.avail_out=b,e.next_in=g,e.avail_in=v,n.hold=w,n.bits=_,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){w>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}switch(n.last=1&w,_-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6!==t)break;w>>>=2,_-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}w>>>=2,_-=2;break;case 14:for(w>>>=7&_,_-=7&_;_<32;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,_=w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(v<C&&(C=v),b<C&&(C=b),0===C)break e;r.arraySet(f,p,g,C,y),v-=C,g+=C,b-=C,y+=C,n.length-=C;break}n.mode=12;break;case 17:for(;_<14;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(n.nlen=257+(31&w),w>>>=5,_-=5,n.ndist=1+(31&w),w>>>=5,_-=5,n.ncode=4+(15&w),w>>>=4,_-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}n.lens[B[n.have++]]=7&w,w>>>=3,_-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},j=o(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,j){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;R=(z=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,P=65535&z,!((O=z>>>24)<=_);){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(P<16)w>>>=O,_-=O,n.lens[n.have++]=P;else{if(16===P){for(D=O+2;_<D;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(w>>>=O,_-=O,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}F=n.lens[n.have-1],C=3+(3&w),w>>>=2,_-=2}else if(17===P){for(D=O+3;_<D;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}_-=O,F=0,C=3+(7&(w>>>=O)),w>>>=3,_-=3}else{for(D=O+7;_<D;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}_-=O,F=0,C=11+(127&(w>>>=O)),w>>>=7,_-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=F}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},j=o(l,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,j){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},j=o(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,j){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=b){e.next_out=y,e.avail_out=b,e.next_in=g,e.avail_in=v,n.hold=w,n.bits=_,a(e,x),y=e.next_out,f=e.output,b=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,w=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;R=(z=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,P=65535&z,!((O=z>>>24)<=_);){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(R&&0==(240&R)){for(L=O,T=R,N=P;R=(z=n.lencode[N+((w&(1<<L+T)-1)>>L)])>>>16&255,P=65535&z,!(L+(O=z>>>24)<=_);){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}w>>>=L,_-=L,n.back+=L}if(w>>>=O,_-=O,n.back+=O,n.length=P,0===R){n.mode=26;break}if(32&R){n.back=-1,n.mode=12;break}if(64&R){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&R,n.mode=22;case 22:if(n.extra){for(D=n.extra;_<D;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;R=(z=n.distcode[w&(1<<n.distbits)-1])>>>16&255,P=65535&z,!((O=z>>>24)<=_);){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(0==(240&R)){for(L=O,T=R,N=P;R=(z=n.distcode[N+((w&(1<<L+T)-1)>>L)])>>>16&255,P=65535&z,!(L+(O=z>>>24)<=_);){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}w>>>=L,_-=L,n.back+=L}if(w>>>=O,_-=O,n.back+=O,64&R){e.msg="invalid distance code",n.mode=30;break}n.offset=P,n.extra=15&R,n.mode=24;case 24:if(n.extra){for(D=n.extra;_<D;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(C=x-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),E=n.window}else E=f,A=y-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;f[y++]=E[A++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;f[y++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===v)break e;v--,w|=p[g++]<<_,_+=8}if(x-=b,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?s(n.check,f,x,y-x):i(n.check,f,x,y-x)),x=b,(n.flags?w:m(w))!==n.check){e.msg="incorrect data check",n.mode=30;break}_=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===v)break e;v--,w+=p[g++]<<_,_+=8}if(w!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}_=w=0}n.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;default:return d}return e.next_out=y,e.avail_out=b,e.next_in=g,e.avail_in=v,n.hold=w,n.bits=_,(n.wsize||x!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&I(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,x-=e.avail_out,e.total_in+=S,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?s(n.check,f,x,e.next_out-x):i(n.check,f,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==S&&0===x||4===t)&&j===c&&(j=-5),j)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,c},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,c):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&i(1,t,r,0)!==n.check?-3:I(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,c):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,d,h){var p,f,m,g,y,v,b,w,_,S=h.bits,x=0,k=0,I=0,C=0,A=0,E=0,O=0,R=0,P=0,L=0,T=null,N=0,F=new r.Buf16(16),j=new r.Buf16(16),M=null,D=0;for(x=0;x<=15;x++)F[x]=0;for(k=0;k<l;k++)F[t[n+k]]++;for(A=S,C=15;1<=C&&0===F[C];C--);if(C<A&&(A=C),0===C)return u[c++]=20971520,u[c++]=20971520,h.bits=1,0;for(I=1;I<C&&0===F[I];I++);for(A<I&&(A=I),x=R=1;x<=15;x++)if(R<<=1,(R-=F[x])<0)return-1;if(0<R&&(0===e||1!==C))return-1;for(j[1]=0,x=1;x<15;x++)j[x+1]=j[x]+F[x];for(k=0;k<l;k++)0!==t[n+k]&&(d[j[t[n+k]]++]=k);if(v=0===e?(T=M=d,19):1===e?(T=i,N-=257,M=s,D-=257,256):(T=a,M=o,-1),x=I,y=c,O=k=L=0,m=-1,g=(P=1<<(E=A))-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){for(b=x-O,_=d[k]<v?(w=0,d[k]):d[k]>v?(w=M[D+d[k]],T[N+d[k]]):(w=96,0),p=1<<x-O,I=f=1<<E;u[y+(L>>O)+(f-=p)]=b<<24|w<<16|_,0!==f;);for(p=1<<x-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,k++,0==--F[x]){if(x===C)break;x=t[n+d[k]]}if(A<x&&(L&g)!==m){for(0===O&&(O=A),y+=I,R=1<<(E=x-O);E+O<C&&!((R-=F[E+O])<=0);)E++,R<<=1;if(P+=1<<E,1===e&&852<P||2===e&&592<P)return 1;u[m=L&g]=A<<24|E<<16|y-c}}return 0!==L&&(u[y+L]=x-O<<24|64<<16),h.bits=A,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,s=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,l=29,u=256,c=u+1+l,d=30,h=19,p=2*c+1,f=15,m=16,g=7,y=256,v=16,b=17,w=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(c+2));a(I);var C=new Array(2*d);a(C);var A=new Array(512);a(A);var E=new Array(256);a(E);var O=new Array(l);a(O);var R,P,L,T=new Array(d);function N(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e){return e<256?A[e]:A[256+(e>>>7)]}function M(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function D(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,M(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function z(e,t,n){D(e,n[2*t],n[2*t+1])}function $(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function B(e,t,n){var r,i,s=new Array(f+1),a=0;for(r=1;r<=f;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=$(s[o]++,o))}}function U(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?M(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function H(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&W(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!W(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function G(e,t,n){var r,i,s,a,o=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?z(e,i,t):(z(e,(s=E[i])+u+1,t),0!==(a=_[s])&&D(e,i-=O[s],a),z(e,s=j(--r),n),0!==(a=S[s])&&D(e,r-=T[s],a)),o<e.last_lit;);z(e,y,t)}function q(e,t){var n,r,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)H(e,s,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,H(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,a,o,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,y=0;for(s=0;s<=f;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)g<(s=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(s=g,y++),l[2*r+1]=s,u<r||(e.bl_count[s]++,a=0,m<=r&&(a=h[r-m]),o=l[2*r],e.opt_len+=o*(s+a),d&&(e.static_len+=o*(c[2*r+1]+a)));if(0!==y){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,y-=2}while(0<y);for(s=g;0!==s;s--)for(r=e.bl_count[s];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),r--)}}(e,t),B(s,u,e.bl_count)}function K(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<l&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*v]++):o<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,s=i,u=(o=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function Z(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<l&&i===a)){if(o<u)for(;z(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(z(e,i,e.bl_tree),o--),z(e,v,e.bl_tree),D(e,o-3,2)):o<=10?(z(e,b,e.bl_tree),D(e,o-3,3)):(z(e,w,e.bl_tree),D(e,o-11,7));s=i,u=(o=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}a(T);var Y=!1;function Q(e,t,n,i){D(e,(o<<1)+(i?1:0),3),function(e,t,n,i){V(e),i&&(M(e,n),M(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){Y||(function(){var e,t,n,r,i,s=new Array(f+1);for(r=n=0;r<l-1;r++)for(O[r]=n,e=0;e<1<<_[r];e++)E[n++]=r;for(E[n-1]=r,r=i=0;r<16;r++)for(T[r]=i,e=0;e<1<<S[r];e++)A[i++]=r;for(i>>=7;r<d;r++)for(T[r]=i<<7,e=0;e<1<<S[r]-7;e++)A[256+i++]=r;for(t=0;t<=f;t++)s[t]=0;for(e=0;e<=143;)I[2*e+1]=8,e++,s[8]++;for(;e<=255;)I[2*e+1]=9,e++,s[9]++;for(;e<=279;)I[2*e+1]=7,e++,s[7]++;for(;e<=287;)I[2*e+1]=8,e++,s[8]++;for(B(I,c+1,s),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=$(e,5);R=new N(I,_,u+1,c,f),P=new N(C,S,0,d,f),L=new N(new Array(0),x,0,h,g)}(),Y=!0),e.l_desc=new F(e.dyn_ltree,R),e.d_desc=new F(e.dyn_dtree,P),e.bl_desc=new F(e.bl_tree,L),e.bi_buf=0,e.bi_valid=0,U(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var a,o,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return s;return i}(e)),q(e,e.l_desc),q(e,e.d_desc),l=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=a&&(a=o)):a=o=n+5,n+4<=a&&-1!==t?Q(e,t,n,r):4===e.strategy||o===a?(D(e,2+(r?1:0),3),G(e,I,C)):(D(e,4+(r?1:0),3),function(e,t,n,r){var i;for(D(e,t-257,5),D(e,n-1,5),D(e,r-4,4),i=0;i<r;i++)D(e,e.bl_tree[2*k[i]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),G(e,e.dyn_ltree,e.dyn_dtree)),U(e),r&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+u+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){D(e,2,3),z(e,y,I),function(e){16===e.bi_valid?(M(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,s,a=1,o={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){h(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return o[a]=i,n(a),a++},c.clearImmediate=d}function d(e){delete o[e]}function h(e){if(l)setTimeout(h,0,e);else{var n=o[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),l=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&h(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},5817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e||"";t&&(s=e.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,t,r){return t>0&&t+e.length!==r.length&&e.search(n)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}));i&&(s=function(e){if(function(e){return"string"===typeof e&&-1!==e.indexOf("@")}(e))return console.warn("This arg looks like an email address, redacting."),r;return e}(s));return s};var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var r="REDACTED (Potential Email Address)"},5874:(e,t,n)=>{"use strict";n.d(t,{HQ:()=>i,Ok:()=>a,_:()=>o,oA:()=>l,ys:()=>s});const r=e=>null===e;const i=e=>Object.prototype.hasOwnProperty.call(e??{},"ok"),s=e=>Object.prototype.hasOwnProperty.call(e,"err");function a(e){return i(e)?e.ok:{ok:e,map(e){return e(a(this))}}}function o(e){return e.err??{err:e,map(e){return this}}}function l(e){if(r(e))throw new Error("Attempted to unwrap None");if(s(e))throw o(e);return i(e)?a(e):e}},6073:(e,t,n)=>{"use strict";n.d(t,{Nk:()=>b,uf:()=>f,g3:()=>m});var r=n(1391),i=n(8256),s=n(172),a=n(1296),o=n(910),l=n(8878),u=n(8029),c=n(3015),d=n(3569),h=n(782);const p="file selected";function f(e){return void 0!=e.path&&void 0!=e.isDir}function m(){const e=(0,s.s)(),[t,n]=(0,l.useState)(),[r,i]=(0,l.useState)(!1),a=(0,l.useRef)(!1),o=(0,l.useRef)(),u=(0,l.useCallback)(async t=>{var r;return"string"===typeof t.suffix&&(t.suffix=[t.suffix]),n(t.suffix),i(null!==(r=t.allowFolders)&&void 0!==r&&r),e.open(),new Promise(e=>{o.current=e})},[e,o]);return{...e,select:async e=>(a.current=!1,await u(e)),selectAllowLocal:async e=>(a.current=!0,u(e)),[p]:o,suffix:t,allowFolders:r,allowLocal:a.current}}const g=({onClick:e,onDoubleClick:t,stats:n,highlighted:r=!1,disabled:i=!1})=>(0,h.jsx)("div",{children:(0,h.jsxs)("button",{className:"flex row justify-start outline "+(r?"":"secondary"),style:{textAlign:"left",color:i?"var(--disabled)":void 0},onClick:n=>{1==n.detail?null===e||void 0===e||e():2==n.detail&&(null===t||void 0===t||t())},children:[(0,h.jsx)(c.I,{name:n.isDirectory()?"folder":"draft"}),n.name]})});async function y(e,t,n){for(const r of await t.scandir(n))if(r.isDirectory()){const i=e.folder(r.name);i&&await y(i,t,`${n}/${r.name}`)}else e.file(r.name,await t.readFile(`${n}/${r.name}`))}function v(e,t){return t.map(t=>e.endsWith(t)).reduce((e,t)=>e||t,!1)}const b=()=>{const{fs:e,setStatus:t,localFsRoot:n}=(0,l.useContext)(o.L),{filePicker:s}=(0,l.useContext)(u.BR),[c,f]=(0,l.useState)([]),[m,b]=(0,l.useState)({path:e.cwd(),isDir:!0}),w=e.cwd(),_=t=>"/"!=e.cwd()?[{isFile:()=>!1,isDirectory:()=>!0,name:".."},...(0,a.w9)(t)]:(0,a.w9)(t);(0,l.useEffect)(()=>{n||"/"!=e.cwd()||S("projects"),b({path:e.cwd(),isDir:!0})},[e]),(0,l.useEffect)(()=>{e.scandir(e.cwd()).then(e=>{f(_(e))})},[e,w,f]);const S=(0,l.useCallback)(t=>{e.cd(t),e.scandir(e.cwd()).then(e=>{f(_(e))})},[e,b,f]),x=(0,l.useCallback)((t,n)=>{b({path:`${"/"==e.cwd()?"":e.cwd()}/${t}`,isDir:n})},[b,e]),k=(0,l.useCallback)(()=>{var e,t;s.close(),null===(e=(t=s[p]).current)||void 0===e||e.call(t,m)},[m,s,t]),I=(0,l.useRef)(null),C=(0,l.useRef)(null),A=(0,l.useMemo)(()=>m.path.split("/").pop(),[m]);return(0,h.jsxs)("dialog",{open:s.isOpen,children:[(0,h.jsx)("input",{type:"file",ref:I,onChange:async()=>{var e,t;if(!I.current||!I.current.files||0==I.current.files.length)return;const n=[];for(const r of I.current.files)n.push({name:r.name,content:await r.text()});null===(e=(t=s[p]).current)||void 0===e||e.call(t,1==n.length?n[0]:n),s.close()},style:{display:"none"},webkitdirectory:s.allowFolders?"true":void 0}),(0,h.jsxs)("article",{className:"file-select flex",children:[(0,h.jsxs)("header",{children:[(0,h.jsx)("p",{children:(0,h.jsx)(r.x6,{id:"J/hVSQ",values:{0:i.Ru._({id:"+yPBXI"})}})}),(0,h.jsx)("a",{style:{color:"rgba(0, 0, 0, 0)"},className:"close",href:"#root",onClick:e=>{e.preventDefault(),s.close()},children:i.Ru._({id:"RG3szS"})})]}),(0,h.jsxs)("main",{children:[(0,h.jsx)("a",{ref:C,style:{display:"none"}}),(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:e.cwd()})}),(0,h.jsx)("div",{className:"flex wrap files-container",children:c.map(e=>(0,h.jsx)(g,{stats:e,highlighted:e.name===A,onClick:()=>x(e.name,e.isDirectory()),onDoubleClick:()=>{e.isDirectory()&&S(e.name)},disabled:!(".."==e.name)&&e.name.includes(".")&&void 0!=s.suffix&&!v(e.name,s.suffix)},e.name))})]}),(0,h.jsxs)("footer",{children:[(0,h.jsx)("button",{disabled:!m||".."==m.path||void 0!=s.suffix&&m.path.includes(".")&&!v(m.path,s.suffix)||!s.allowFolders&&!m.path.includes("."),onClick:k,children:i.Ru._({id:"rG3WVm"})}),!n&&s.allowLocal&&(0,h.jsx)("button",{onClick:()=>{var e;null===(e=I.current)||void 0===e||e.click()},children:"Select local file"}),!n&&(0,h.jsx)("button",{onClick:async()=>{var t;if(!C.current)return;const n=await(0,d.e)();await y(n,e,m.path);const r=await n.generateAsync({type:"blob"}),i=URL.createObjectURL(r);C.current.href=i,C.current.download=null!==(t=m.path.split("/").pop())&&void 0!==t?t:m.path,C.current.click(),URL.revokeObjectURL(i)},"data-tooltip":i.Ru._({id:"qqcblq"}),disabled:""==m.path||m.path.includes("."),children:i.Ru._({id:"mzI/c+"})})]})]})]})}},6418:(e,t,n)=>{"use strict";n.d(t,{aC:()=>c,bJ:()=>l,zB:()=>u});var r=n(2469),i=n(7721),s=n(7076),a=n(9976),o=n(9937);class l extends o.V{cpu;ticks=0;doLoad;fileLoaded=!1;hasLoad=!1;static from(e,t={}){const n=new l(t);return n.hasLoad=e.lines.some(e=>(0,a.d)(e)&&"load"==e.op.op),(0,a.G)(n,e,t.requireLoad)}constructor({dir:e,rom:t=new s.n9,doEcho:n,doLoad:r,compareTo:a}={}){super(e,n,a),this.doLoad=r,this.cpu=new i.Z8({ROM:t}),this.reset()}async step(){if(!this.hasLoad&&this.cpu.ROM.isEmpty())throw new Error("Cannot execute the test without first loading an .asm or .hack file");return super.step()}async load(e){if(!e&&!this.dir)return;const t=(0,r.Z1)(this.dir?.split("/").slice(0,-1).join("/")),n=await(this.doLoad?.(e?`${t}/${e}`:t));n&&(this.cpu=new i.Z8({ROM:n}))}reset(){return super.reset(),this.cpu.reset(),this.ticks=0,this}hasVar(e){return"number"!==typeof e&&!("A"!==e&&"D"!==e&&"PC"!==e&&"time"!==e&&!e.startsWith("RAM"))}getVar(e,t){switch(e){case"A":return this.cpu.A;case"D":return this.cpu.D;case"PC":return this.cpu.PC;case"time":return this.ticks;case"RAM":return void 0===t?0:this.cpu.RAM.get(t)}if("number"===typeof e)return 0;if(e.startsWith("RAM")){const t=Number(e.substring(4,e.length-1));return this.cpu.RAM.get(t)}return 0}getWidth(e,t){return 16}setVar(e,t,n){switch(e){case"A":this.cpu.setA(t);break;case"D":this.cpu.setD(t);break;case"PC":this.cpu.setPC(t);break;case"RAM":this.cpu.RAM.set(n??0,t)}}ticktock(){this.ticks+=1,this.cpu.tick()}async loadROM(e){await this.cpu.ROM.load(this.fs,e)}}class u{_cpuTestInstruction_=!0;async do(e){e.ticktock()}*steps(){yield this}}class c{_cpuTestInstruction_=!0;async do(e){e.cpu.RAM.reset()}*steps(){yield this}}},6554:(e,t,n)=>{"use strict";n.d(t,{uG:()=>l});var r=n(9563),i=n(3977);const s='\nTst <: Base {\n  Root := Tst\n  Tst = (TstStatement | TstRepeat | TstWhile)+\n\n  TstRepeat = Repeat Number? OpenBrace TstCommand+ CloseBrace\n  TstWhile = While Condition OpenBrace TstCommand+ CloseBrace\n  TstStatement = TstCommand\n\n  TstCommand = TstOperation Separator\n  Separator = (Semi | Bang | Comma)\n\n  TstOperation =\n    | TstFileOperation\n    | TstOutputListOperation\n    | TstEvalOperation\n    | TstSetOperation\n    | TstOutputOperation\n    | TstEchoOperation\n    | TstClearEchoOperation\n    | TstLoadROMOperation\n    | TstResetRAMOperation\n\n  TstLoadROMOperation = ROM32K Load FileName\n  TstFileOperation = FileOperation FileName?\n  TstOutputListOperation = "output-list" OutputFormat+\n  OutputFormat = Name Index? FormatSpec?\n  FormatSpec = percent FormatStyle wholeDec dot wholeDec dot wholeDec\n  TstSetOperation = Set Name Index? Number\n  Index = OpenSquare wholeDec? CloseSquare\n  Condition = Value CompareOp Value\n  TstEvalOperation = Eval | TickTock | Tick | Tock | VmStep\n  TstOutputOperation = Output\n  TstEchoOperation = Echo String\n  TstClearEchoOperation = ClearEcho\n  TstResetRAMOperation = ResetRAM\n\n  filename = (alnum|underscore|dot|dollar|minus)+\n  FileName = filename\n  FileOperation = "load" | "output-file" | "compare-to"\n\n  Set = "set"\n  Eval = "eval"\n  Tick = "tick"\n  Tock = "tock"\n  TickTock = "ticktock"\n  VmStep = "vmstep"\n  Echo = "echo"\n  Repeat = "repeat"\n  ClearEcho = "clear-echo"\n  Output = "output"\n  OutputList = "output-list"\n  FormatStyle = "B"|"D"|"S"|"X"\n  ROM32K = "ROM32K"\n  Load = "load"\n  While = "while"\n  ResetRAM = "resetRam"\n\n  CompareOp = "<>" | "<=" | ">=" | "=" | "<" | ">"\n}',a=(0,r.qN)(s,i.lN),o=a.extendSemantics(i.JE);o.extendAttribute("value",{Index:(e,t,n)=>t?.child(0)?.value??-1}),o.extendAttribute("name",{FileName:({name:e})=>e}),o.addAttribute("index",{Index:(e,t,n)=>t.child(0)?.value??0}),o.addAttribute("formatSpec",{FormatSpec:(e,{sourceString:t},{value:n},r,{value:i},s,{value:a})=>({style:t,width:i,lpad:n,rpad:a})}),o.addAttribute("format",{OutputFormat:({name:e},t,n)=>({id:e,builtin:void 0!==t?.child(0),address:t?.child(0)?.value??-1,format:n?.child(0)?.formatSpec})}),o.addAttribute("operation",{TstEvalOperation:e=>({op:e.sourceString}),TstOutputOperation:e=>({op:"output"}),TstOutputListOperation:(e,t)=>({op:"output-list",spec:t.children.map(e=>e.format)}),TstSetOperation(e,{name:t},n,{value:r}){const i={op:"set",id:t,value:r},s=n.child(0)?.child(1)?.child(0);return s&&(i.index=s.value),i},TstEchoOperation:(e,t)=>({op:"echo",message:t.String}),TstClearEchoOperation:e=>({op:"clear-echo"}),TstLoadROMOperation:(e,t,n)=>({op:"loadRom",file:n.sourceString}),TstFileOperation:(e,t)=>({op:e.sourceString,file:t?.sourceString}),TstResetRAMOperation:e=>({op:"resetRam"})}),o.addAttribute("command",{TstCommand(e,t){return{op:e.operation,separator:t.sourceString,span:(0,i.Ln)(this.source)}}}),o.addAttribute("condition",{Condition:({value:e},{sourceString:t},{value:n})=>({left:e,right:n,op:t})}),o.addAttribute("statement",{TstWhile(e,t,n,r,s){return{statements:r.children.map(e=>e.command),condition:t.condition,span:(0,i.Ln)(this.source)}},TstRepeat(e,t,n,r,s){return{statements:r.children.map(e=>e.command),count:t.sourceString?Number(t.sourceString):-1,span:(0,i.Ln)(this.source)}},TstStatement:e=>e.command}),o.addAttribute("tst",{Tst:e=>({lines:e.children.map(e=>e.statement)})}),o.addAttribute("root",{Root:({tst:e})=>e});const l={grammar:s,semantics:o,parser:a,parse:(0,i.Q5)(a,o)}},6980:(e,t,n)=>{"use strict";n.d(t,{Hs:()=>c,Mo:()=>U,M1:()=>W,KQ:()=>V});var r=n(5874),i=n(7738),s=n(9651);function a(e,t){return[e+t&65535]}class o extends s.vu{constructor(){super(["a[16]","b[16]"],["out[16]"],"Add16")}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,[n]=a(e,t);this.out().busVoltage=n}}var l=n(8739);class u extends s.vu{constructor(){super(["x[16]","y[16]","zx","nx","zy","ny","f","no"],["out[16]"],"ALU")}eval(){const e=this.in("x").busVoltage,t=this.in("y").busVoltage,n=(this.in("zx").busVoltage<<5)+(this.in("nx").busVoltage<<4)+(this.in("zy").busVoltage<<3)+(this.in("ny").busVoltage<<2)+(this.in("f").busVoltage<<1)+(this.in("no").busVoltage|0),[r]=(0,l.v0)(n,e,t);this.out().busVoltage=r}}class c extends s.vu{constructor(){super(["x[16]","y[16]","zx","nx","zy","ny","f","no"],["out[16]","zr","ng"],"ALU")}eval(){const e=this.in("x").busVoltage,t=this.in("y").busVoltage,n=(this.in("zx").busVoltage<<5)+(this.in("nx").busVoltage<<4)+(this.in("zy").busVoltage<<3)+(this.in("ny").busVoltage<<2)+(this.in("f").busVoltage<<1)+(this.in("no").busVoltage|0),[r,i]=(0,l.v0)(n,e,t),a=i===l.iI.Negative?s.RY:s.$L,o=i===l.iI.Zero?s.RY:s.$L;this.out("out").busVoltage=r,this.out("ng").pull(a),this.out("zr").pull(o)}op(){return(this.in("zx").busVoltage<<5)+(this.in("nx").busVoltage<<4)+(this.in("zy").busVoltage<<3)+(this.in("ny").busVoltage<<2)+(this.in("f").busVoltage<<1)+(this.in("no").busVoltage|0)}}s.vu;function d(e,t){return[1===e||1===t?s.RY:s.$L]}class h extends s.vu{constructor(){super(["a","b"],["out"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),[n]=d(e,t);this.out().pull(n)}}class p extends s.vu{constructor(){super(["a[16]","b[16]"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,[n]=function(e,t){return[65535&(e|t)]}(e,t);this.out().busVoltage=n}}class f extends s.vu{constructor(){super(["in[8]"],["out"],"Or8way")}eval(){const e=this.in().busVoltage,[t]=[0===(255&e)?s.$L:s.RY];this.out().pull(t)}}function m(e,t){return[1===e&&0===t||0===e&&1===t?s.RY:s.$L,1===e&&1===t?s.RY:s.$L]}class g extends s.vu{constructor(){super(["a","b"],["sum","carry"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),[n,r]=m(e,t);this.out("sum").pull(n),this.out("carry").pull(r)}}class y extends s.vu{constructor(){super(["a","b","c"],["sum","carry"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),n=this.in("c").voltage(),[r,i]=function(e,t,n){const[r,i]=m(e,t),[s,a]=m(r,n),[o]=d(i,a);return[s,o]}(e,t,n);this.out("sum").pull(r),this.out("carry").pull(i)}}class v extends s.vu{constructor(){super(["in[16]"],["out[16]"],"Inc16")}eval(){const e=this.in().busVoltage,[t]=a(e,1);this.out().busVoltage=t}}const b={CPU:"CHIP CPU {\n\n    IN  inM[16],         // M value input  (M = contents of RAM[A])\n        instruction[16], // Instruction for execution\n        reset;           // Signals whether to re-start the current\n                         // program (reset==1) or continue executing\n                         // the current program (reset==0).\n\n    OUT outM[16],        // M value output\n        writeM,          // Write to M? \n        addressM[15],    // Address in data memory (of M)\n        pc[15];          // address of next instruction\n\n    PARTS:\n    Mux16(a=instruction, b=ALUoutput, sel=instruction[15], out=Ainput);\n    Not(in=instruction[15], out=Ainstruction);\n    Or(a=Ainstruction, b=instruction[5], out=loadA);\n    ARegister(in=Ainput, load=loadA, out=Aoutput, out[0..14]=addressM);\n\n    And(a=instruction[15], b=instruction[4], out=loadD);\n    DRegister(in=ALUoutput, load=loadD, out=Doutput);\n\n    Mux16(a=Aoutput, b=inM, sel=instruction[12], out=ALUsecondInput);\n\n    ALU(x=Doutput, y=ALUsecondInput, \n        zx=instruction[11], nx=instruction[10], \n        zy=instruction[9], ny=instruction[8],\n        f=instruction[7], no=instruction[6], \n        out=ALUoutput, out=outM, ng=negative, zr=zero);\n\n    And(a=instruction[15], b=instruction[3], out=writeM);\n\n    Or(a=negative, b=zero, out=notPositive);\n    Not(in=notPositive, out=positive);\n\n    And(a=positive, b=instruction[0], out=j1);\n    And(a=zero, b=instruction[1], out=j2);\n    And(a=negative, b=instruction[2], out=j3);\n    Or(a=j1, b=j2, out=jTemp);\n    Or(a=jTemp, b=j3, out=jumpIfC);\n    And(a=jumpIfC, b=instruction[15], out=jump);\n\n    PC(reset=reset, inc=true, load=jump, in=Aoutput, out[0..14]=pc);\n}"};var w=n(7761);class _ extends s.vu{constructor(){super(["a","b"],["out"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),[n]=function(e,t){return[1===e&&1===t?s.RY:s.$L]}(e,t);this.out().pull(n)}}class S extends s.vu{constructor(){super(["a[16]","b[16]"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,[n]=function(e,t){return[e&t&65535]}(e,t);this.out().busVoltage=n}}class x extends s.vu{constructor(){super(["in","sel"],["a","b"])}eval(){const e=this.in("in").voltage(),t=this.in("sel").voltage(),[n,r]=function(e,t){return[t===s.$L&&e===s.RY?s.RY:s.$L,t===s.RY&&e===s.RY?s.RY:s.$L]}(e,t);this.out("a").pull(n),this.out("b").pull(r)}}class k extends s.vu{constructor(){super(["in","sel[2]"],["a","b","c","d"])}eval(){const e=this.in("in").voltage(),t=this.in("sel").busVoltage,[n,r,i,a]=function(e,t){return[0===t&&e===s.RY?s.RY:s.$L,1===t&&e===s.RY?s.RY:s.$L,2===t&&e===s.RY?s.RY:s.$L,3===t&&e===s.RY?s.RY:s.$L]}(e,t);this.out("a").pull(n),this.out("b").pull(r),this.out("c").pull(i),this.out("d").pull(a)}}class I extends s.vu{constructor(){super(["in","sel[3]"],["a","b","c","d","e","f","g","h"])}eval(){const e=this.in("in").voltage(),t=this.in("sel").busVoltage,[n,r,i,a,o,l,u,c]=function(e,t){return[0===t&&e===s.RY?s.RY:s.$L,1===t&&e===s.RY?s.RY:s.$L,2===t&&e===s.RY?s.RY:s.$L,3===t&&e===s.RY?s.RY:s.$L,4===t&&e===s.RY?s.RY:s.$L,5===t&&e===s.RY?s.RY:s.$L,6===t&&e===s.RY?s.RY:s.$L,7===t&&e===s.RY?s.RY:s.$L]}(e,t);this.out("a").pull(n),this.out("b").pull(r),this.out("c").pull(i),this.out("d").pull(a),this.out("e").pull(o),this.out("f").pull(l),this.out("g").pull(u),this.out("h").pull(c)}}function C(e,t,n){return[n===s.$L?e:t]}function A(e,t,n,r,i){const s=1&i;return 0===(2&i)?C(e,t,s):C(n,r,s)}class E extends s.vu{constructor(){super(["a","b","sel"],["out"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),n=this.in("sel").voltage(),[r]=function(e,t,n){return[n===s.$L?e:t]}(e,t,n);this.out().pull(r)}}class O extends s.vu{constructor(){super(["a[16]","b[16]","sel"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,n=this.in("sel").voltage(),[r]=C(e,t,n);this.out().busVoltage=r}}class R extends s.vu{constructor(){super(["a[16]","b[16]","c[16]","d[16]","sel[2]"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,n=this.in("c").busVoltage,r=this.in("d").busVoltage,i=this.in("sel").busVoltage,[s]=A(e,t,n,r,i);this.out().busVoltage=s}}class P extends s.vu{constructor(){super(["a[16]","b[16]","c[16]","d[16]","e[16]","f[16]","g[16]","h[16]","sel[3]"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,n=this.in("c").busVoltage,r=this.in("d").busVoltage,i=this.in("e").busVoltage,s=this.in("f").busVoltage,a=this.in("g").busVoltage,o=this.in("h").busVoltage,l=this.in("sel").busVoltage,[u]=function(e,t,n,r,i,s,a,o,l){const u=3&l;return 0===(4&l)?A(e,t,n,r,u):A(i,s,a,o,u)}(e,t,n,r,i,s,a,o,l);this.out().busVoltage=u}}var L=n(7844);class T extends s.vu{constructor(){super(["a","b"],["out"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),[n]=function(e,t){return[1===e&&1===t?s.$L:s.RY]}(e,t);this.out().pull(n)}}class N extends s.vu{constructor(){super(["a[16]","b[16]"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage;this.out().busVoltage=(0,L.xu)(e,t)}}class F extends s.vu{constructor(){super(["in"],["out"])}eval(){const e=this.in("in").voltage(),[t]=[e===s.$L?s.RY:s.$L];this.out().pull(t)}}class j extends s.vu{constructor(){super(["in[16]"],["out[16]"])}eval(){const[e]=[65535&~this.in().busVoltage];this.out().busVoltage=e}}class M extends s.vu{constructor(){super(["a","b"],["out"])}eval(){const e=this.in("a").voltage(),t=this.in("b").voltage(),[n]=function(e,t){return[e===s.RY&&t===s.$L||e===s.$L&&t===s.RY?s.RY:s.$L]}(e,t);this.out().pull(n)}}class D extends s.vu{constructor(){super(["a[16]","b[16]"],["out[16]"])}eval(){const e=this.in("a").busVoltage,t=this.in("b").busVoltage,[n]=function(e,t){return[65535&(e^t)]}(e,t);this.out().busVoltage=n}}var z=n(2331);class $ extends s._b{constructor(e){super(["in"],["out"],e,["t"],["in"])}tick(){const e=this.in().voltage();this.pin("t").pull(e)}tock(){const e=this.pin("t").voltage();this.out().pull(e)}}var B=n(836);const U=new Map([["Nand",T],["Nand16",N],["Not",F],["Not16",j],["And",_],["And16",S],["Or",h],["Or16",p],["Or8Way",f],["XOr",M],["XOr16",D],["Xor",M],["Xor16",D],["Mux",E],["Mux16",O],["Mux4Way16",R],["Mux8Way16",P],["DMux",x],["DMux4Way",k],["DMux8Way",I],["HalfAdder",g],["FullAdder",y],["Add16",o],["Inc16",v],["ALU",c],["ALUNoStat",u],["DFF",$],["Bit",z.G],["Register",z.UZ],["ARegister",z.UZ],["DRegister",z.UZ],["PC",z.PC],["RAM8",B.Z4],["RAM64",B.JG],["RAM512",B.fn],["RAM4K",B.g0],["RAM16K",B.jV],["ROM32K",w.N4],["Screen",w.ff],["Keyboard",w.s3],["CPU",w.Z8],["Computer",w.Sc],["Memory",w.ce],["ARegister",z.s$],["DRegister",z.s$]].map(([e,t])=>[e,()=>{const n=new t;return n.name=e,n}]));function V(e){return U.has(e)}async function W(e){if(b[e]){const t=await(0,i.qg)(b[e],e);return(0,r.ys)(t)?(0,r._)(new Error((0,r._)(t).message)):t}const t=U.get(e);return t?(0,r.Ok)(t()):(0,r._)(new Error(`Chip ${e} not in builtin registry`))}},6983:(e,t,n)=>{"use strict";n.d(t,{Hh:()=>i});var r=n(9547);async function i(e,t){if(t.endsWith(".hack"))return async function(e,t){return r.aU(await e.readFile(t))}(e,t);if(t.endsWith(".asm"))return async function(e,t){return r.aY(await e.readFile(t))}(e,t);throw new Error(`Cannot load file without hack or asm extension ${t}`)}},7076:(e,t,n)=>{"use strict";n.d(t,{L7:()=>l,PC:()=>m,RL:()=>d,XK:()=>y,ce:()=>p,dh:()=>u,hR:()=>o,ky:()=>h,n9:()=>g,pc:()=>c,qN:()=>f});var r=n(2469),i=n(6983),s=n(7496),a=n(7844);const o=["bin","dec","hex","asm"],l=16384,u=256,c=32,d=u*c,h=24576;class p{memory;get size(){return this.memory.length}constructor(e){this.memory=new Int16Array(e)}get(e){return e<0||e>=this.size?65535:this.memory[e]??0}set(e,t){e>=0&&e<this.size&&(this.memory[e]=65535&t)}reset(){this.memory.fill(0)}update(e,t,n){let r;switch(n){case"asm":try{r=(0,s.op)(t)}catch{r=void 0}break;case"bin":r=(0,a.Yp)(t);break;case"hex":r=(0,a.l8)(t);break;default:r=(0,a.ZR)(t)}void 0!==r&&isFinite(r)&&r<=65535&&this.set(e,r)}async load(e,t,n){try{this.loadBytes(await(0,i.Hh)(e,t),n)}catch(r){throw new Error(`Memory Failed to load file ${t}`)}}loadBytes(e,t){this.memory.set(new Int16Array(e),t),this.memory.fill(0,e.length,this.size)}range(e=0,t=this.size){return[...this.memory.slice(e,t)]}*map(e,t=0,n=this.size){(0,r.vA)(t<=n);for(let r=t;r<n;r++)yield e(r,this.get(r))}[Symbol.iterator](){return this.map((e,t)=>t)}isEmpty(){return this.memory.every(e=>0===e)}}class f{parent;size;offset;constructor(e,t,n){this.parent=e,this.size=t,this.offset=n}get(e){return e<0||e>=this.size?65535:this.parent.get(this.offset+e)}set(e,t,n=!0){e>=0&&e<this.size&&this.parent.set(e+this.offset,t)}reset(){for(let e=0;e<this.size;e++)this.set(e,0,!1)}update(e,t,n){e>=0&&e<this.size&&this.parent.update(e+this.offset,t,n)}load(e,t){return this.parent.load(e,t,this.offset)}loadBytes(e){return this.parent.loadBytes(e,this.offset)}range(e,t){return this.parent.range(e,t)}map(e,t=0,n=this.size){return this.parent.map(e,t+this.offset,n+this.offset)}[Symbol.iterator](){return this.map((e,t)=>t)}}class m extends f{constructor(e){super(e,1,24576)}getKey(){return this.get(0)}setKey(e){this.set(0,65535&e)}clearKey(){this.set(0,0)}}class g extends p{static SIZE=32768;constructor(e){if(e){const t=new Int16Array(g.SIZE);t.set(e),super(t.buffer)}else super(g.SIZE)}}class y extends p{keyboard=new f(this,1,h);screen=new f(this,d,l);static SIZE=24577;constructor(){super(y.SIZE)}}},7116:(e,t,n)=>{"use strict";e.exports=n(9169)},7365:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,_:()=>o});var r=n(5874),i=n(7589);function s(e,t){const n=[];for(let r=0;r<Math.min(e.length,t.length);r++){const i=e[r]??[],s=t[r]??[];for(let e=0;e<Math.max(i.length,s.length);e++){const t=i[e]??"",a=s[e]??"";null===t?.trim().match(/^\*+$/)&&a!==t&&n.push({row:r,col:e,expected:t,given:a})}}return n}function a(e,t){const n=i.dl.parse(e),a=i.dl.parse(t);if((0,r.ys)(n)||(0,r.ys)(a))return!1;return 0==s((0,r.Ok)(n),(0,r.Ok)(a)).length}function o(e,t){const n=i.dl.parse(e),a=i.dl.parse(t);if((0,r.ys)(n)||(0,r.ys)(a))return{text:"",failureNum:0,decorations:[],lineNumbers:[]};const o=(0,r.Ok)(n),u=s(o,(0,r.Ok)(a)),c=new Array(o.length);for(const r of u){const e=c[r.row];e?e.push(r):c[r.row]=[r]}const d=t.split("\n"),h=new Array(o.length);for(let r=0;r<c.length;r++)c[r]&&(h[r]=l(d[r],c[r]));const p=[];let f=0;const m=[],g=[];for(let r=0;r<d.length;r++){const e=h[r];g.push((r+1).toString()),e?(g.push(""),p.push(e.givenLine),m.push({span:{start:f,end:f+e.givenLine.length,line:p.length},type:"error-line"}),m.push(...e.incorrectCellSpans.map(e=>({span:{start:e.start+f,end:e.end+f,line:e.line},type:"error-cell"}))),f+=e.expectedLine.length+1,p.push(e.expectedLine),m.push({span:{start:f,end:f+e.expectedLine.length,line:r},type:"correct-line"}),m.push(...e.correctCellSpans.map(e=>({span:{start:e.start+f,end:e.end+f,line:p.length},type:"correct-cell"}))),f+=e.givenLine.length+1):(p.push(d[r]),f+=d[r].length+1)}let y=p.join("\n");return y.endsWith("\n")&&(y=y.substring(0,y.length-1)),{text:y,failureNum:u.length,decorations:m,lineNumbers:g}}function l(e,t){const n=e.split("|").filter(e=>""!=e),r=Array.from(n),i=[];let s=0;for(let l=0;l<n.length;l++)i.push(s+1),s+=n[l].length+1;const a=[],o=[];for(const l of t){n[l.col]=l.expected,r[l.col]=l.given;const e={start:i[l.col],end:i[l.col]+l.expected.length,line:0};a.push(e),o.push(e)}return{expectedLine:`|${n.join("|")}|`,givenLine:`|${r.join("|")}|`,correctCellSpans:a,incorrectCellSpans:o}}},7490:(e,t,n)=>{"use strict";n.d(t,{vl:()=>p,ZB:()=>c,wG:()=>g,FX:()=>h});var r=n(782),i=n(742),s=n(8878),a=n(2469),o=n(6980);class l{signBehaviors=new Map;constructor(e,t){if(o.Mo.has(e)){const n=(0,a.Z1)(o.Mo.get(e)?.()),r=[...n.ins.entries(),...n.outs.entries()];for(const e of r)this.signBehaviors.set(e.name,!t||!t.includes(e.name))}}isSigned(e){return this.signBehaviors.get(e)}}const u=new Map([["Mux4Way16",["sel"]],["Mux8Way16",["sel"]],["DMux4Way",["sel"]],["DMux8Way",["sel"]],["RAM8",["address"]],["RAM64",["address"]],["RAM512",["address"]],["RAM4K",["address"]],["RAM16K",["address"]],["Screen",["address"]],["Memory",["address"]],["CPU",["addressM","pc"]]]),c=(0,s.createContext)({});function d(e){return{pin:e,bits:(0,i.y)(0,e.width).map(t=>[t,e.voltage(t)]).reverse()}}function h(e){return[...e.entries()].map(d)}const p=e=>{const{inPins:t,outPins:n,internalPins:i}=e.sim,s=(a=e.sim.chip[0].name??"",new l(a,u.get(a)));var a;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{children:"\n        table.pinout th {\n          font-weight: bold;\n        }\n\n        table.pinout tbody td:first-child {\n          text-align: right;\n          --font-size: 1rem;\n          width: 0;\n          white-space: nowrap;\n          border-right: var(--border-width) solid var(--table-border-color);\n        }\n\n        table.pinout tbody button {\n          --font-size: 0.875em;\n          font-family: var(--font-family-monospace);\n          max-width: 2em;\n        }\n        "}),(0,r.jsx)("table",{className:"pinout",children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)(f,{pins:t,header:"Input pins",toggle:e.toggle,setInputValid:e.setInputValid,displayInfo:s}),(0,r.jsx)(f,{pins:n,header:"Output pins",disabled:e.sim.pending,enableEdit:!1,displayInfo:s}),!e.hideInternal&&(0,r.jsx)(f,{pins:i,header:"Internal pins",disabled:e.sim.pending,enableEdit:!1,displayInfo:s})]})})]})},f=e=>(0,r.jsxs)(r.Fragment,{children:[e.pins.length>0&&(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:e.header})}),[...e.pins].map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t.pin.name}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{pin:t,toggle:e.toggle,disabled:e.disabled,enableEdit:e.enableEdit,signed:e.displayInfo.isSigned(t.pin.name),setInputValid:e.setInputValid,internal:"Internal pins"===e.header})})]},t.pin.name))]}),m=({pin:e,toggle:t,disabled:n=!1,enableEdit:i=!0,signed:a=!0,setInputValid:o,internal:l=!1})=>{const[u,d]=(0,s.useState)(!0);let h=!0;const[p,f]=(0,s.useState)(""),m=(0,s.useContext)(c);m instanceof g&&m.registerCallback(()=>{d(!0)});const y=e=>{h=e,o?.(e)},v=n=>{for(let r=0;r<e.bits.length;r++)e.bits[e.bits.length-r-1][1]!==(n>>r&1)&&t?.(e.pin,r)};return(0,s.useEffect)(()=>{if(!u&&h){let t=0;if(a&&e.bits[0][1]){for(const[n,r]of e.bits)n<e.bits.length-1&&!r&&(t+=2**n);t=-t-1}else{const n=a?e.bits.length-1:e.bits.length;for(const[r,i]of e.bits)r<n&&i&&(t+=2**r)}f(t.toString())}},[e,u]),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,r.jsx)("fieldset",{role:"group",style:{width:`${e.bits.length}rem`},children:u?e.bits.map(([i,s])=>(0,r.jsx)("button",{disabled:n,style:l?{backgroundColor:"grey"}:{},onClick:()=>t?.(e.pin,i),"data-testid":`pin-${i}`,children:s},i)):(0,r.jsx)("input",{className:"colored",value:p,onChange:t=>{(t=>{const n=t.replace(/[^\d]/g,""),r=a&&"-"===t[0]?`-${n}`:n;if(f(r),isNaN(parseInt(r)))y(!1);else{const t=parseInt(r);!a&&t>=Math.pow(2,e.bits.length)||a&&(t>=Math.pow(2,e.bits.length-1)||t<-Math.pow(2,e.bits.length-1))?y(!1):(v(t),y(!0))}})(t.target.value)},disabled:!i})}),e.bits.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{width:"1em"}}),(0,r.jsx)("button",{className:"pin-control",onClick:()=>{d(!u)},children:u?"dec":"bin"})]})]})};class g{callbacks=[];registerCallback(e){this.callbacks.push(e)}reset(){for(const e of this.callbacks)e()}}},7496:(e,t,n)=>{"use strict";n.d(t,{k:()=>i,m:()=>a,op:()=>s});var r=n(8739);function i(e){return 32768&e?function(e){e&=65535;const t=(4096&e)>>12,n=(4032&e)>>6,i=(56&e)>>3,s=7&e;if(void 0===r.Lo.op[n])return"#ERR";let a=r.Lo.op[n];t&&(a=a.replace(/A/g,"M"));const o=r.uW.op[i],l=r.ft.op[s];let u=a;o&&(u=`${o}=${u}`);l&&(u=`${u};${l}`);return u}(e):function(e){return"@"+(32767&e).toString(10)}(e)}function s(e){return"@"===e[0]?function(e){return parseInt(e.substring(1),10)}(e):function(e){const t=e.match(/(?:(?<assignExists>.+)=)?(.+)(?:;(?<jumpExists>.+))?/),{assignExists:n,jumpExists:i}=t?.groups??{},s=e.match(/(?:(?<assign>[AMD]{1,3})=)?(?<operation>[-+!01ADM&|]{1,3})(?:;(?<jump>JGT|JLT|JGE|JLE|JEQ|JMP))?/);let{assign:o,jump:l}=s?.groups??{};const{operation:u}=s?.groups??{};if(o=o??(n?void 0:""),l=l??(i?void 0:""),s?.[0]!=e||!(0,r.Nt)(o)||!(0,r.Qv)(l)||!(0,r.nf)(u))throw new Error("Invalid c instruction");const c=u.includes("M"),d=r.uW.asm[o],h=r.ft.asm[l],p=r.Lo.getOp(u);return a(c,p,d,h)}(e)}function a(e,t,n,r){return 57344+(e?4096:0)+(t<<6)+(n<<3)+r}},7589:(e,t,n)=>{"use strict";n.d(t,{dl:()=>l});var r=n(9563),i=n(3977);const s="\nCmp <: Base {\n  Root := line*\n  line = bar cell+ newline?\n  cell = cellvalue bar\n  cellvalue = (~(bar|newline) any)*\n}",a=(0,r.qN)(s,i.lN),o=a.extendSemantics(i.JE);o.addAttribute("cell",{cell:(e,t)=>e.sourceString}),o.addAttribute("line",{line:(e,t,n)=>t.children.map(e=>e.cell)}),o.addAttribute("root",{Root:e=>e.children.map(e=>e.line)});const l={grammar:s,semantics:o,parser:a,parse:(0,i.Q5)(a,o)}},7721:(e,t,n)=>{"use strict";n.d(t,{D4:()=>o,I8:()=>u,Z8:()=>c,gV:()=>l,p$:()=>s});var r=n(8739),i=n(7076);function s(){return{A:0,D:0,PC:0,ALU:0,flag:r.iI.Zero}}const a={c:32768,x1:36864,x2:36864,am:36864,op:4032,d1:32800,d2:32784,d3:32776,j1:32769,j2:32770,j3:32772};function o(e){function t(t){return(e&t)===t}return{c:t(a.c),x1:t(a.x1),x2:t(a.x2),am:t(a.am),op:(e&a.op)>>6,d1:t(a.d1),d2:t(a.d2),d3:t(a.d3),j1:t(a.j1),j2:t(a.j2),j3:t(a.j3)}}function l({inM:e,instruction:t},{A:n,D:i,PC:s}){const a=o(t),l=a.am?e:n,[u,c]=(0,r.v0)(a.op,i,l);return a.d2&&(i=u),[{A:n,D:i,PC:s+1,ALU:u,flag:c},a.d3,u]}function u({inM:e,instruction:t,reset:n},{A:i,D:s,PC:a,ALU:l,flag:u}){const c=o(t),d=c.j1&&u===r.iI.Positive,h=c.j2&&u===r.iI.Zero,p=c.j3&&u===r.iI.Negative;a=n?0:d||h||p?i:a,c.c?c.d1&&(i=l):i=32767&t;const f=c.am?e:i,m=(0,r.v0)(c.op,s,f);l=m[0],u=m[1];return[{addressM:i,outM:l,writeM:c.d3},{A:i,D:s,ALU:l,flag:u,PC:a}]}class c{RAM;ROM;Screen;Keyboard;#e=0;#t=0;#n=0;#r={A:0,D:0,PC:0,ALU:0,flag:r.iI.Zero};get state(){return this.#r}get PC(){return this.#e}get A(){return this.#t}get D(){return this.#n}setA(e){this.#t=e}setD(e){this.#n=e}setPC(e){this.#e=e}constructor({RAM:e=new i.XK,ROM:t}){this.RAM=e,this.ROM=t,this.Screen=new i.qN(this.RAM,i.RL,i.L7),this.Keyboard=new i.PC(this.RAM)}reset(){this.#e=0,this.#t=0,this.#n=0}tick(){const e=this.#t,t={inM:this.RAM.get(this.#t),instruction:this.ROM.get(this.#e),reset:!1},[n,i,s]=l(t,{A:this.#t,D:this.#n,PC:this.#e,ALU:this.#n,flag:r.iI.Zero});i&&this.RAM.set(e,s);const[a,{A:o,D:c,PC:d}]=u(t,n);this.#t=o,this.#n=c,this.#e=d}}},7738:(e,t,n)=>{"use strict";n.d(t,{qg:()=>u});var r=n(5874),i=n(3977),s=n(5005),a=n(6980),o=n(9651);function l(e){const t=e.start??0;return void 0===e.end?(0,r.Ok)(void 0):e.end>=t?(0,r.Ok)(e.end-t+1):(0,r._)((0,i.$5)("Bus start index should be less than or equal to bus end index",e.span))}async function u(e,t,n,i){const a=s.xP.parse(e.toString());return(0,r.ys)(a)?a:d({parts:(0,r.Ok)(a),dir:t,name:n,fs:i})}async function c(e,t,n){if((0,a.KQ)(e)||void 0===n)return await(0,a.M1)(e);try{const i=await n.readFile(`${t}/${e}.hdl`),a=s.xP.parse(i);let o;if((0,r.HQ)(a)){const i=await d({parts:(0,r.Ok)(a),dir:t,name:e,fs:n});o=(0,r.ys)(i)?(0,r._)(new Error((0,r._)(i).message)):i}else o=(0,r._)(new Error("HDL Was not parsed"));return o}catch(i){return(0,r._)(new Error(`Could not load chip ${e}.hdl`))}}async function d(...e){return await y.build(...e)}function h(e){if(void 0!=e.start&&void 0!=e.end)return e.end-e.start+1}function p(e){return void 0!=e.start&&void 0!=e.end?`${e.pin}[${e.start}..${e.end}]`:e.pin}function f(e,t){const n=l(e),i=l(t);return(0,r.ys)(n)?n:(0,r.ys)(i)?i:(0,r.Ok)({to:{name:e.pin.toString(),start:e.start??0,width:(0,r.Ok)(n)},from:{name:t.pin.toString(),start:t.start??0,width:(0,r.Ok)(i)}})}function m(e){if(void 0!=e.start&&void 0!=e.end){const t=[];for(let n=e.start;n<=e.end;n++)t.push(n);return t}return[-1]}function g(e,t){let n;const s=t.get(e.pin);if(s)if(s.has(-1))n=e.start??-1;else if(void 0!==e.start&&void 0!==e.end)for(const r of m(e))s.has(r)&&(n=r),s.add(r);else s.add(-1);else t.set(e.pin,new Set(m(e)));return void 0!=n?(0,r._)((0,i.$5)(`Cannot write to pin ${e.pin}${-1!=n?`[${n}]`:""} multiple times`,e.span)):(0,r.Ok)()}class y{parts;fs;dir;expectedName;chip;internalPins=new Map;inPins=new Map;outPins=new Map;wires=[];static build(e){return new y(e).build()}constructor({parts:e,fs:t,dir:n,name:r}){this.parts=e,this.expectedName=r,this.dir=n,this.fs=t,this.chip=new o.vu(e.ins.map(({pin:e,width:t})=>({pin:e.toString(),width:t})),e.outs.map(({pin:e,width:t})=>({pin:e.toString(),width:t})),e.name.value,[],e.clocked)}async build(){if(this.expectedName&&this.parts.name.value!=this.expectedName)return(0,r._)((0,i.$5)("Wrong chip name",this.parts.name.span));if("BUILTIN"===this.parts.parts)return await(0,a.M1)(this.parts.name.value);const e=await this.wireParts();if((0,r.ys)(e))return e;this.chip.clockedPins=new Set([...this.chip.ins.entries(),...this.chip.outs.entries()].map(e=>e.name).filter(e=>this.chip.isClockedPin(e)));for(const t of this.chip.parts)t.subscribeToClock();return(0,r.Ok)(this.chip)}async wireParts(){if("BUILTIN"===this.parts.parts)return(0,r.Ok)();for(const t of this.parts.parts){const e=await c(t.name,this.dir,this.fs);if((0,r.ys)(e))return(0,r._)((0,i.$5)(`Undefined chip name: ${t.name}`,t.span));const n=(0,r.Ok)(e);if(n.name==this.chip.name)return(0,r._)((0,i.$5)(`Cannot use chip ${n.name} to implement itself`,t.span));const s=this.wirePart(t,n);if((0,r.ys)(s))return s}let e=this.validateInternalPins();return(0,r.ys)(e)?e:(e=this.validateWireWidths(),(0,r.ys)(e)?e:(0,r.Ok)())}checkLoops(e,t){const n=new Set,s=new Set;let a;for(const{lhs:r,rhs:i}of e.wires)if(t.isInPin(r.pin)){if(s.has(i.pin)){a=i.pin;break}n.add(i.pin)}else if(t.isOutPin(r.pin)){if(n.has(i.pin)){a=i.pin;break}s.add(i.pin)}return a?(0,r._)((0,i.$5)(`Looping wire ${a}`,e.span)):(0,r.Ok)()}wirePart(e,t){const n=this.checkLoops(e,t);if((0,r.ys)(n))return n;const s=[];this.inPins.clear();for(const{lhs:i,rhs:o}of e.wires){const e=this.validateWire(t,i,o);if((0,r.ys)(e))return e;const n=f(i,o);if((0,r.ys)(n))return n;s.push((0,r.Ok)(n))}try{const n=this.chip.wire(t,s);if((0,r.ys)(n)){const t=(0,r._)(n);return(0,r._)((0,i.$5)(t.message,t.lhs?e.wires[t.wireIndex].lhs.span:e.wires[t.wireIndex].rhs.span))}return this.chip.sortParts(),(0,r.Ok)()}catch(a){return(0,r._)((0,i.$5)(a.message,e.span))}}validateWire(e,t,n){if(e.isInPin(t.pin)){const e=this.validateInputWire(t,n);if((0,r.ys)(e))return e}else{if(!e.isOutPin(t.pin))return(0,r._)((0,i.$5)(`Undefined pin name: ${t.pin}`,t.span));{const i=this.validateOutputWire(e,t,n);if((0,r.ys)(i))return i}}return(0,o.KK)(n.pin)||this.wires.push({partChip:e,lhs:t,rhs:n}),(0,r.Ok)()}validateInputWire(e,t){let n=this.validateInputSource(t);if((0,r.ys)(n))return n;if(n=g(e,this.inPins),(0,r.ys)(n))return n;if(this.chip.isInternalPin(t.pin)){const e=this.internalPins.get(t.pin);void 0==e?this.internalPins.set(t.pin,{isDefined:!1,firstUse:t.span}):e.firstUse=e.firstUse.start<t.span.start?e.firstUse:t.span}return(0,r.Ok)()}validateOutputWire(e,t,n){let s=this.validateWriteTarget(n);if((0,r.ys)(s))return s;if(this.chip.isOutPin(n.pin)){if(s=g(n,this.outPins),(0,r.ys)(s))return s}else{if(void 0!==n.start||void 0!==n.end)return(0,r._)((0,i.$5)(`Internal pins (in this case: ${n.pin}) cannot be subscripted or indexed`,n.span));const s=this.internalPins.get(n.pin),a=h(t)??e.get(t.pin)?.width;if(void 0==s)this.internalPins.set(n.pin,{isDefined:!0,firstUse:n.span,width:a});else{if(s.isDefined)return(0,r._)((0,i.$5)(`Internal pin ${n.pin} already defined`,n.span));s.isDefined=!0,s.width=a}}return(0,r.Ok)()}validateWriteTarget(e){return this.chip.isInPin(e.pin)?(0,r._)((0,i.$5)(`Cannot write to input pin ${e.pin}`,e.span)):(0,o.KK)(e.pin)?(0,r._)((0,i.$5)('Internal pin name cannot be "true" or "false"',e.span)):(0,r.Ok)()}validateInputSource(e){return this.chip.isOutPin(e.pin)?(0,r._)((0,i.$5)("Cannot use output pin as input",e.span)):this.chip.isInPin(e.pin)||void 0==e.start?(0,r.Ok)():(0,r._)((0,i.$5)((0,o.KK)(e.pin)?"Constant bus cannot be subscripted or indexed":`Internal pins (in this case: ${e.pin}) cannot be subscripted or indexed`,e.span))}validateInternalPins(){for(const[e,t]of this.internalPins)if(!t.isDefined)return(0,r._)((0,i.$5)("true"==e.toLowerCase()||"false"==e.toLowerCase()?`The constant bus ${e.toLowerCase()} must be in lower-case`:`Undefined internal pin name: ${e}`,t.firstUse));return(0,r.Ok)()}validateWireWidths(){for(const e of this.wires){const t=h(e.lhs)??e.partChip.get(e.lhs.pin)?.width,n=h(e.rhs)??this.chip.get(e.rhs.pin)?.width??this.internalPins.get(e.rhs.pin)?.width;if(t!=n)return(0,r._)((0,i.$5)(`Different bus widths: ${p(e.lhs)}(${t}) and ${p(e.rhs)}(${n})`,{start:e.lhs.span.start,end:e.rhs.span.end,line:e.lhs.span.line}))}return(0,r.Ok)()}}},7761:(e,t,n)=>{"use strict";n.d(t,{N4:()=>u,Sc:()=>y,Z8:()=>g,ce:()=>h,ff:()=>c,s3:()=>d});var r=n(7721),i=n(7076),s=n(6983),a=n(7844),o=n(9651),l=n(836);class u extends l.XK{constructor(){super(15,"ROM")}async load(e,t){try{(await(0,s.Hh)(e,t)).map((e,t)=>this.at(t).busVoltage=e)}catch(n){throw new Error(`ROM32K Failed to load file ${t}`)}}}class c extends l.XK{static SIZE=i.RL;static OFFSET=i.L7;constructor(){super(13,"Screen")}}class d extends o.vu{static OFFSET=i.ky;constructor(){super([],["out[16]"],"Keyboard")}getKey(){return this.out().busVoltage}setKey(e){this.out().busVoltage=65535&e}clearKey(){this.out().busVoltage=0}get(e){return e===this.name?new o.xo(this.name,this.getKey()):super.get(e)}}class h extends o._b{ram=new l.jV;screen=new c;keyboard=new d;address=0;constructor(){super(["in[16]","load","address[15])"],["out[16]"],"Memory",[],["in","load"]),this.parts.push(this.keyboard),this.parts.push(this.screen),this.parts.push(this.ram)}tick(){const e=this.in("load").voltage();if(this.address=this.in("address").busVoltage,e){const e=this.in().busVoltage;this.address,this.address==d.OFFSET||(this.address>=c.OFFSET?this.screen.at(this.address-c.OFFSET).busVoltage=e:this.ram.at(this.address).busVoltage=e)}}tock(){this.eval()}eval(){if(!this.ram)return;this.address=this.in("address").busVoltage;let e=0;this.address>d.OFFSET||(e=this.address==d.OFFSET?this.keyboard?.out().busVoltage??0:this.address>=c.OFFSET?this.screen?.at(this.address-c.OFFSET).busVoltage??0:this.ram?.at(this.address).busVoltage??0),this.out().busVoltage=e}in(e){if(e?.startsWith("RAM16K")){const t=(0,a.ZR)(e.match(/\[(?<idx>\d+)]/)?.groups?.idx??"0");return this.ram.at(t)}if(e?.startsWith("Screen")){const t=(0,a.ZR)(e.match(/\[(?<idx>\d+)]/)?.groups?.idx??"0");return this.screen.at(t)}return e?.startsWith("Keyboard")?this.keyboard.out():super.in(e)}get(e,t=0){return e.startsWith("RAM16K")?this.at(16383&t):e.startsWith("Screen")?this.at(t&8191+c.OFFSET):e.startsWith("Keyboard")?this.at(d.OFFSET):e.startsWith("Memory")?this.at(t):super.get(e,t)}at(e){return e>d.OFFSET?o.te:e==d.OFFSET?this.keyboard.out():e>=c.OFFSET?this.screen.at(e-c.OFFSET):this.ram.at(e)}reset(){this.address=0,this.ram.reset(),this.screen.reset(),super.reset()}}class p extends o.z7{cpu;constructor(e,t){super(e),this.cpu=t}get busVoltage(){return this.cpu.D}set busVoltage(e){this.cpu.D=e}}class f extends o.z7{cpu;constructor(e,t){super(e),this.cpu=t}get busVoltage(){return this.cpu.A}set busVoltage(e){this.cpu.A=e}}class m extends o.z7{cpu;constructor(e,t){super(e),this.cpu=t}get busVoltage(){return this.cpu.PC}set busVoltage(e){this.cpu.PC=e}}class g extends o._b{_state=(0,r.p$)();get state(){return this._state}constructor(){super(["inM[16]","instruction[16]","reset"],["outM[16]","writeM","addressM[15]","pc[15]"],"CPU",[],["pc","addressM","reset"])}tick(){const[e,t]=(0,r.gV)(this.cpuInput(),this._state);this._state=e,this.out("writeM").pull(t?o.RY:o.$L),this.out("outM").busVoltage=this._state.ALU??0}tock(){if(!this._state)return;const[e,t]=(0,r.I8)(this.cpuInput(),this._state);this._state=t,this.out("addressM").busVoltage=e.addressM??0,this.out("outM").busVoltage=e.outM??0,this.out("writeM").pull(e.writeM?o.RY:o.$L),this.out("pc").busVoltage=this._state?.PC??0}cpuInput(){return{inM:this.in("inM").busVoltage,instruction:this.in("instruction").busVoltage,reset:1===this.in("reset").busVoltage}}get(e,t){return e?.startsWith("ARegister")?new f("ARegister",this._state):e?.startsWith("DRegister")?new p("DRegister",this._state):e?.startsWith("PC")?new m("PC",this._state):super.get(e,t)}reset(){this._state=(0,r.p$)(),this._state.PC=-1,super.reset()}}class y extends o.vu{cpu=new g;ram=new h;rom=new u;constructor(){super(["reset"],[]),this.wire(this.cpu,[{from:{name:"reset",start:0},to:{name:"reset",start:0}},{from:{name:"instruction",start:0},to:{name:"instruction",start:0}},{from:{name:"oldOutM",start:0},to:{name:"inM",start:0}},{from:{name:"writeM",start:0},to:{name:"writeM",start:0}},{from:{name:"addressM",start:0},to:{name:"addressM",start:0}},{from:{name:"newInM",start:0},to:{name:"outM",start:0}},{from:{name:"pc",start:0},to:{name:"pc",start:0}}]),this.wire(this.rom,[{from:{name:"pc",start:0},to:{name:"address",start:0}},{from:{name:"instruction",start:0},to:{name:"out",start:0}}]),this.wire(this.ram,[{from:{name:"newInM",start:0},to:{name:"in",start:0}},{from:{name:"writeM",start:0},to:{name:"load",start:0}},{from:{name:"addressM",start:0},to:{name:"address",start:0}},{from:{name:"oldOutM",start:0},to:{name:"out",start:0}}]);for(const e of[...this.ins.entries(),...this.outs.entries()])this.isClockedPin(e.name)&&this.clockedPins.add(e.name)}eval(){super.eval()}get(e,t){return e.startsWith("PC")||e.startsWith("ARegister")||e.startsWith("DRegister")?this.cpu.get(e):e.startsWith("RAM16K")?this.ram.get(e,t):super.get(e,t)}async load(e,t){return await this.rom.load(e,t)}}},7844:(e,t,n)=>{"use strict";n.d(t,{FN:()=>p,Yp:()=>u,ZR:()=>l,_Q:()=>c,ad:()=>f,e5:()=>h,l8:()=>o,uh:()=>d,xu:()=>m});const r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];function i(e){return r[e]??"X"}function s(e){switch(e){case 0:return"0000";case 1:return"0001";case 2:return"0010";case 3:return"0011";case 4:return"0100";case 5:return"0101";case 6:return"0110";case 7:return"0111";case 8:return"1000";case 9:return"1001";case 10:return"1010";case 11:return"1011";case 12:return"1100";case 13:return"1101";case 14:return"1110";case 15:return"1111";default:return"erro"}}function a(e,t){return 65535&parseInt(e.replace(/[^\d a-f A-F +-.]/g,""),t)}function o(e){return a(e,16)}function l(e){return a(e,10)}function u(e){return a(e.replaceAll(" ",""),2)}function c(e){return e.toUpperCase().includes("X")?o(e):l(e)}function d(e){return`0x${i((61440&e)>>12)}${i((3840&e)>>8)}${i((240&e)>>4)}${i(15&e)}`}function h(e,t=16){return`${s((61440&e)>>12)}${s((3840&e)>>8)}${s((240&e)>>4)}${s(15&e)}`.substring(16-t)}function p(e){return 32768===(e&=65535)?"-32768":32768&e?`-${e=1+~e&32767}`:`${e}`}function f(e){return`${e&=65535}`}function m(e,t){let n=~((e&=65535)&(t&=65535));return n&=65535,n}},8029:(e,t,n)=>{"use strict";n.d(t,{BR:()=>c,Us:()=>u});var r=n(4544),i=n(172),s=n(8878),a=n(6073),o=n(5270);function l(){const e=!0,[t,n]=(0,s.useState)(e),r=(0,s.useCallback)(e=>{n(!!e)},[e]);return{canUse:e,wants:t,toggle:r}}function u(e=new r.Q2){const[t,n]=(0,s.useState)("system");return{monaco:l(),settings:(0,i.s)(),filePicker:(0,a.g3)(),tracking:(0,o.z1)(),theme:t,setTheme:n}}const c=(0,s.createContext)({monaco:{canUse:!0,wants:!0,toggle(){}},filePicker:{close(){},open(){},select:e=>Promise.reject(""),isOpen:!1,suffix:void 0},settings:{close(){},open(){},isOpen:!1},tracking:{canTrack:!1,haveAsked:!1,accept(){},reject(){},trackEvent(){},trackPage(){}},theme:"system",setTheme(){}})},8032:(e,t,n)=>{"use strict";n.d(t,{Fz:()=>c,G_:()=>s,MD:()=>a,eY:()=>u,qK:()=>i});var r=n(270);const i=128,s=129,a=34;function o(e){return e>=48&&e<=57}function l(e){return e-48}function u(e){return e.toString().split("").map(e=>e.charCodeAt(0))}class c{memory;os;constructor(e,t){this.memory=e,this.os=t}new(e){e<0&&this.os.sys.error(r.X.STRING_LENGTH_NEG);const t=this.os.memory.alloc(e+3);return this.os.sys.halted?0:(this.memory.set(t,e),this.memory.set(t+1,0),this.memory.set(t+2,this.os.memory.alloc(e)),t)}dispose(e){this.os.memory.deAlloc(e)}maxLength(e){return this.memory.get(e)}length(e){return this.memory.get(e+1)}setLength(e,t){this.memory.set(e+1,t)}charArrayPointer(e){return this.memory.get(e+2)}charAt(e,t){return t<0||t>=this.length(e)?(this.os.sys.error(r.X.GET_CHAR_INDEX_OUT_OF_BOUNDS),0):this.memory.get(this.charArrayPointer(e)+t)}setCharAt(e,t,n){t<0||t>=this.length(e)?this.os.sys.error(r.X.SET_CHAR_INDEX_OUT_OF_BOUNDS):this.memory.set(this.charArrayPointer(e)+t,n)}appendChar(e,t){const n=this.length(e);return n==this.maxLength(e)?(this.os.sys.error(r.X.STRING_FULL),0):(this.setLength(e,n+1),this.setCharAt(e,n,t),e)}eraseLastChar(e){const t=this.length(e);0!=t?this.setLength(e,t-1):this.os.sys.error(r.X.STRING_EMPTY)}intValue(e){const t=[],n=45==this.charAt(e,0);for(let i=n?1:0;i<this.length(e)&&o(this.charAt(e,i));i++)t.push(l(this.charAt(e,i)));const r=t.reduce((e,t)=>10*e+t,0);return n?-r:r}setInt(e,t){const n=u(t);if(n.length>this.maxLength(e))this.os.sys.error(r.X.STRING_INSUFFICIENT_CAPACITY);else{this.setLength(e,0);for(const t of n)this.appendChar(e,t)}}}},8256:(e,t,n)=>{"use strict";n.d(t,{Ru:()=>x});var r=n(2527);const i=e=>"string"===typeof e,s=new Map,a="en";function o(e){return[...Array.isArray(e)?e:[e],a]}function l(e,t,n){const r=o(e);return d(()=>h("date",r,n),()=>new Intl.DateTimeFormat(r,n)).format(i(t)?new Date(t):t)}function u(e,t,n){const r=o(e);return d(()=>h("number",r,n),()=>new Intl.NumberFormat(r,n)).format(t)}function c(e,t,n,{offset:r=0,...i}){const s=o(e),a=t?d(()=>h("plural-ordinal",s),()=>new Intl.PluralRules(s,{type:"ordinal"})):d(()=>h("plural-cardinal",s),()=>new Intl.PluralRules(s,{type:"cardinal"}));return i[n]??i[a.select(n-r)]??i.other}function d(e,t){const n=e();let r=s.get(n);return r||(r=t(),s.set(n,r)),r}function h(e,t,n){return`${e}-${t.join("-")}-${JSON.stringify(n)}`}const p=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,f="%__lingui_octothorpe__%",m=(e,t)=>t[e]??t.other;function g(e,t,n){return(s={},a)=>{const o=((e,t,n={})=>{const r=t||e,i=e=>"object"===typeof e?e:n[e]||{style:e},s=(e,t)=>{const s=Object.keys(n).length?i("number"):void 0,a=u(r,e,s);return t.replace(new RegExp(f,"g"),a)};return{plural:(e,t)=>{const{offset:n=0}=t,i=c(r,!1,e,t);return s(e-n,i)},selectordinal:(e,t)=>{const{offset:n=0}=t,i=c(r,!0,e,t);return s(e-n,i)},select:m,number:(e,t)=>u(r,e,i(t)),date:(e,t)=>l(r,e,i(t))}})(t,n,a),d=(e,t=!1)=>Array.isArray(e)?e.reduce((e,n)=>{if("#"===n&&t)return e+f;if(i(n))return e+n;const[r,a,l]=n;let u,c={};if("plural"===a||"selectordinal"===a||"select"===a?Object.entries(l).forEach(([e,t])=>{c[e]=d(t,"plural"===a||"selectordinal"===a)}):c=l,a){u=(0,o[a])(s[r],c)}else u=s[r];return null==u?e:e+u},""):e,h=d(e);return i(h)&&p.test(h)?(0,r.MH)(h.trim()):i(h)?h.trim():h?String(h):""}}var y=Object.defineProperty,v=(e,t,n)=>(((e,t,n)=>{t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class b{constructor(){v(this,"_events",{})}on(e,t){var n;return(n=this._events)[e]??(n[e]=[]),this._events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){const n=this._getListeners(e);if(!n)return;const r=n.indexOf(t);~r&&n.splice(r,1)}emit(e,...t){const n=this._getListeners(e);n&&n.map(e=>e.apply(this,t))}_getListeners(e){const t=this._events[e];return!!Array.isArray(t)&&t}}var w=Object.defineProperty,_=(e,t,n)=>(((e,t,n)=>{t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class S extends b{constructor(e){super(),_(this,"_locale",""),_(this,"_locales"),_(this,"_localeData",{}),_(this,"_messages",{}),_(this,"_missing"),_(this,"t",this._.bind(this)),null!=e.missing&&(this._missing=e.missing),null!=e.messages&&this.load(e.messages),null!=e.localeData&&this.loadLocaleData(e.localeData),("string"===typeof e.locale||e.locales)&&this.activate(e.locale??a,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,t){const n=this._localeData[e];n?Object.assign(n,t):this._localeData[e]=t}loadLocaleData(e,t){null!=t?this._loadLocaleData(e,t):Object.keys(e).forEach(t=>this._loadLocaleData(t,e[t])),this.emit("change")}_load(e,t){const n=this._messages[e];n?Object.assign(n,t):this._messages[e]=t}load(e,t){"string"==typeof e&&"object"===typeof t?this._load(e,t):Object.entries(e).forEach(([e,t])=>this._load(e,t)),this.emit("change")}loadAndActivate({locale:e,locales:t,messages:n}){this._locale=e,this._locales=t||void 0,this._messages[this._locale]=n,this.emit("change")}activate(e,t){this._locale=e,this._locales=t,this.emit("change")}_(e,t,n){let r=n?.message;e||(e=""),i(e)||(t=e.values||t,r=e.message,e=e.id);const s=this.messages[e],a=void 0===s,o=this._missing;if(o&&a)return"function"===typeof o?o(this._locale,e):o;a&&this.emit("missing",{id:e,locale:this._locale});let l=s||r||e;return i(l)&&p.test(l)?JSON.parse(`"${l}"`):i(l)?l:g(l,this._locale,this._locales)(t,n?.formats)}date(e,t){return l(this._locales||this._locale,e,t)}number(e,t){return u(this._locales||this._locale,e,t)}}const x=function(e={}){return new S(e)}()},8330:(e,t,n)=>{"use strict";var r,i;n.d(t,{Kd:()=>p,N_:()=>g});var s=n(8878),a=n(8815),o=n(3229),l=n(1642);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(b){}new Map;const h=(r||(r=n.t(s,2))).startTransition;(i||(i=n.t(a,2))).flushSync,(r||(r=n.t(s,2))).useId;function p(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();null==a.current&&(a.current=(0,l.zR)({window:i,v5Compat:!0}));let u=a.current,[c,d]=s.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},f=s.useCallback(e=>{p&&h?h(()=>d(e)):d(e)},[d,p]);return s.useLayoutEffect(()=>u.listen(f),[u,f]),s.useEffect(()=>(0,o.V8)(r),[r]),s.createElement(o.Ix,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}const f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:h,state:p,target:g,to:y,preventScrollReset:v,viewTransition:w}=e,_=c(e,d),{basename:S}=s.useContext(o.jb),x=!1;if("string"===typeof y&&m.test(y)&&(n=y,f))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=(0,l.pb)(t.pathname,S);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:x=!0}catch(b){}let k=(0,o.$P)(y,{relative:i}),I=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:c}=void 0===t?{}:t,d=(0,o.Zp)(),h=(0,o.zy)(),p=(0,o.x$)(e,{relative:u});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(h)===(0,l.AO)(p);d(e,{replace:n,state:i,preventScrollReset:a,relative:u,viewTransition:c})}},[h,d,p,r,i,n,e,a,u,c])}(y,{replace:h,state:p,target:g,preventScrollReset:v,relative:i,viewTransition:w});return s.createElement("a",u({},_,{href:n||k,onClick:x||a?r:function(e){r&&r(e),e.defaultPrevented||I(e)},ref:t,target:g}))});var y,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y||(y={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},8463:(e,t,n)=>{"use strict";n.d(t,{J5:()=>r,iO:()=>a});const r="function Main.fibonacci 0\n    push argument 0\n    push constant 2\n    lt                     // checks if n<2\n    if-goto IF_TRUE\n    goto IF_FALSE\n    label IF_TRUE          // if n<2, return n\n    push argument 0        \n    return\n    label IF_FALSE         // if n>=2, returns fib(n-2)+fib(n-1)\n    push argument 0\n    push constant 2\n    sub\n    call Main.fibonacci 1  // computes fib(n-2)\n    push argument 0\n    push constant 1\n    sub\n    call Main.fibonacci 1  // computes fib(n-1)\n    add                    // returns fib(n-1) + fib(n-2)\n    return\nfunction Sys.init 0\n    push constant 4\n    call Main.fibonacci 1   // computes the 4'th fibonacci element\nlabel WHILE\n    goto WHILE              // loops infinitely\n",i={"01":["Not","And","Or","Xor","Mux","DMux","Not16","And16","Or16","Mux16","Or8Way","Mux4Way16","Mux8Way16","DMux4Way","DMux8Way"],"02":["HalfAdder","FullAdder","Add16","Inc16","ALU"],"03":["Bit","Register","RAM8","RAM64","RAM512","RAM4K","RAM16K","PC"],"05":["Memory","CPU","Computer"]};function s(e,t){const n=i[e],r=n.filter(e=>t.includes(e)),s=t.filter(e=>!n.includes(e));return s.sort(),[...r,...s]}function a(e,t){switch(e){case"1":case"01":return s("01",t);case"2":case"02":return s("02",t);case"3":case"03":return s("03",t);case"5":case"05":return s("05",t);default:return t.sort(),t}}},8739:(e,t,n)=>{"use strict";n.d(t,{Lo:()=>a,Nt:()=>l,Qv:()=>d,_0:()=>s,ft:()=>h,iI:()=>p,nf:()=>i,qn:()=>m,uW:()=>u,v0:()=>f});const r=new Set(["0","1","-1","D","A","!D","!A","-D","-A","D+1","A+1","D-1","A-1","D+A","D-A","A-D","D&A","D|A"]);function i(e){return r.has(e)||r.has(e.replace("M","A"))}const s={op:{42:"0",63:"1",58:"-1",12:"x",48:"y",13:"!x",49:"!y",15:"-x",51:"-y",31:"x+1",55:"y+1",14:"x-1",50:"y-1",2:"x+y",19:"x-y",7:"y-x",0:"x&y",21:"x|y"}},a={asm:{0:42,1:63,"-1":58,D:12,A:48,"!D":13,"!A":49,"-D":15,"-A":51,"D+1":31,"A+1":55,"D-1":14,"A-1":50,"D+A":2,"D-A":19,"A-D":7,"D&A":0,"D|A":21},op:{42:"0",63:"1",58:"-1",12:"D",48:"A",13:"!D",49:"!A",15:"-D",51:"-A",31:"D+1",55:"A+1",14:"D-1",50:"A-1",2:"D+A",19:"D-A",7:"A-D",0:"D&A",21:"D|A"},getOp:e=>a.asm[e.replace("M","A")]},o=new Set(["","M","D","MD","A","AM","AD","AMD"]);function l(e){return o.has(e)}const u={asm:{"":0,M:1,D:2,MD:3,A:4,AM:5,AD:6,AMD:7},op:{0:"",1:"M",2:"D",3:"MD",4:"A",5:"AM",6:"AD",7:"AMD"}},c=new Set(["","JGT","JEQ","JGE","JLT","JNE","JLE","JMP"]);function d(e){return c.has(e)}const h={asm:{"":0,JGT:1,JEQ:2,JGE:3,JLT:4,JNE:5,JLE:6,JMP:7},op:{0:"",1:"JGT",2:"JEQ",3:"JGE",4:"JLT",5:"JNE",6:"JLE",7:"JMP"}},p={1:"Positive",0:"Zero",15:"Negative",Positive:1,Zero:0,Negative:15};function f(e,t,n){let r=0;switch(e){case 42:r=0;break;case 63:r=1;break;case 58:r=-1;break;case 12:r=t;break;case 48:r=n;break;case 13:r=~t;break;case 49:r=~n;break;case 15:r=-t;break;case 51:r=-n;break;case 31:r=t+1;break;case 55:r=n+1;break;case 14:r=t-1;break;case 50:r=n-1;break;case 2:r=t+n;break;case 19:r=t-n;break;case 7:r=n-t;break;case 0:r=t&n;break;case 21:r=t|n}r&=65535;return[r,0===r?p.Zero:32768&r?p.Negative:p.Positive]}function m(e,t,n){32&e&&(t=0),16&e&&(t=65535&~t),8&e&&(n=0),4&e&&(n=65535&~n);let r=65535&(2&e?t+n:t&n);1&e&&(r=65535&~r);return[r,0===r?p.Zero:32768&r?p.Negative:p.Positive]}},8783:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l,a:()=>u});var r=n(2469),i=n(7076),s=n(5087),a=n(9976),o=n(9937);class l extends o.V{vm=new s.Vm;doLoad;static from(e,t={}){const n=new l(t);return(0,a.G)(n,e)}constructor({dir:e,doEcho:t,doLoad:n,compareTo:r}={}){super(e,t,r),this.doLoad=n}using(e){return this.fs=e,this}with(e){return this.vm=e,this}async load(e){if(!this.dir)return;const t=(0,r.Z1)(this.dir?.split("/").slice(0,-1).join("/")),n=await(this.doLoad?.(e?`${t}/${e}`:t));n&&(this.vm=n)}hasVar(e,t){return"string"!==typeof e&&(t=e,e="RAM"),"RAM"===e&&void 0!==t&&t>0&&t<i.XK.SIZE||["argument","local","static","constant","this","that","pointer","temp"].includes(e.toLowerCase())}getVar(e,t){return"string"!==typeof e&&(t=e,e="RAM"),"RAM"===e&&void 0!==t?this.vm.RAM.get(t):this.vm.memory.getSegment(e,t??0)}getWidth(e,t){return 16}setVar(e,t,n){if("string"!==typeof e&&(n=e,e="RAM"),"RAM"!==e||void 0===n)if(void 0!==n)this.vm.memory.setSegment(e,n,t);else switch(e.toLowerCase()){case"sp":this.vm.memory.SP=t;break;case"arg":case"argument":this.vm.memory.ARG=t,this.vm.segmentInitializations.argument.initialized=!0;break;case"lcl":case"local":this.vm.memory.LCL=t,this.vm.segmentInitializations.local.initialized=!0;break;case"this":this.vm.memory.THIS=t,this.vm.invocation.thisInitialized=!0;break;case"that":this.vm.memory.THAT=t,this.vm.invocation.thatInitialized=!0}else this.vm.RAM.set(n,t)}vmstep(){this.vm.step()}}class u{_vmTestInstruction_=!0;async do(e){e.vmstep()}*steps(){yield this}}},8815:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2777)},8849:(e,t,n)=>{"use strict";n.d(t,{$:()=>_,vw:()=>x});var r=n(2469),i=n(5874),s=n(8463),a=n(7076),o=n(6554),l=n(9563),u=n(3977);const c='Vm <: Base {\n  Root := Vm\n\n  Vm = newline* VmInstructionLine* VmInstruction?\n\n  space := comment | " " | "\t"\n  whitespace = lineComment | comment | space\n\n  VmInstructionLine = VmInstruction newline+\n  VmInstruction =\n    | StackInstruction\n    | OpInstruction\n    | FunctionInstruction\n    | CallInstruction\n    | ReturnInstruction\n    | GotoInstruction\n    | LabelInstruction\n  \n  StackInstruction = (push | pop) MemorySegment Number\n  OpInstruction = Add | Sub | Neg | Lt | Gt | Eq | And | Or | Not\n  FunctionInstruction = function Name Number \n  CallInstruction =  call Name Number\n  ReturnInstruction = return\n  LabelInstruction = label Name\n  GotoInstruction = (goto | ifGoto) Name\n\n  MemorySegment = argument | local | static | constant | this | that | pointer | temp\n\n  push = "push" whitespace+\n  pop = "pop" whitespace+\n  function = "function" whitespace+\n  call = "call" whitespace+\n  return = "return"\n  goto = "goto" whitespace+\n  ifGoto = "if-goto" whitespace+\n  label = "label" whitespace+\n\n  argument = "argument" whitespace+\n  local = "local" whitespace+\n  static = "static" whitespace+\n  constant = "constant" whitespace+\n  this = "this" whitespace+\n  that = "that" whitespace+\n  pointer = "pointer" whitespace+\n  temp = "temp" whitespace+\n\n  Add = "add" \n  Sub = "sub" \n  Neg = "neg" \n  Eq = "eq"\n  Lt = "lt" \n  Gt = "gt" \n  And = "and" \n  Or = "or" \n  Not = "not"\n}',d=(0,l.qN)(c,u.lN),h=d.extendSemantics(u.JE);h.addAttribute("op",{push:(e,t)=>"push",pop:(e,t)=>"pop",function:(e,t)=>"function",call:(e,t)=>"call",return:e=>"return",goto:(e,t)=>"goto",ifGoto:(e,t)=>"if-goto",label:(e,t)=>"label",Add:e=>"add",Sub:e=>"sub",Neg:e=>"neg",Eq:e=>"eq",Lt:e=>"lt",Gt:e=>"gt",And:e=>"and",Or:e=>"or",Not:e=>"not"}),h.addAttribute("segment",{argument:(e,t)=>"argument",local:(e,t)=>"local",static:(e,t)=>"static",constant:(e,t)=>"constant",this:(e,t)=>"this",that:(e,t)=>"that",pointer:(e,t)=>"pointer",temp:(e,t)=>"temp"}),h.addAttribute("instruction",{StackInstruction({op:e},{segment:t},n){return{op:e,segment:t,offset:Number(n.sourceString),span:(0,u.Ln)(this.source)}},OpInstruction({op:e}){return{op:e,span:(0,u.Ln)(this.source)}},FunctionInstruction(e,{name:t},n){return{op:"function",name:t,nVars:Number(n.sourceString),span:(0,u.Ln)(this.source)}},CallInstruction(e,{name:t},n){return{op:"call",name:t,nArgs:Number(n.sourceString),span:(0,u.Ln)(this.source)}},ReturnInstruction(e){return{op:"return",span:(0,u.Ln)(this.source)}},LabelInstruction(e,{name:t}){return{op:"label",label:t,span:(0,u.Ln)(this.source)}},GotoInstruction({op:e},{name:t}){return{op:e,label:t,span:(0,u.Ln)(this.source)}},VmInstructionLine:(e,t)=>e.instruction}),h.addAttribute("vm",{Vm(e,t,n){const r=t.children.map(e=>e.instruction)??[];return{instructions:n.child(0)?[...r,n.child(0).instruction]:r}}}),h.addAttribute("root",{Root:({vm:e})=>e});const p={grammar:c,semantics:h,parser:d,parse:(0,u.Q5)(d,h)};var f=n(8783),m=n(5087),g=n(8878),y=n(7365),v=n(9646),b=n(910),w=n(4256);const _="repeat {\n\tvmstep;\n}";function S(e,t,n,r){const i=new w.X(e.vm.RAM,t),s=new w.X(e.vm.Screen,t),o=new a.PC(new w.X(e.vm.RAM,t)),l=e.vm.derivedLine();let u=[];try{u=e.vm.vmStack().reverse()}catch(c){t.current({action:"setError",payload:new Error("Runtime error: Invalid stack")})}return{Keyboard:o,RAM:i,Screen:s,Stack:u,Prog:e.vm.program,Statics:[...e.vm.memory.map((e,t)=>t,16,16+e.vm.getStaticCount())],Temp:[...e.vm.memory.map((e,t)=>t,5,13)],AddedSysInit:e.vm.addedSysInit,highlight:l,showHighlight:r}}function x(){const{fs:e,setStatus:t,storage:n}=(0,g.useContext)(b.L),a=(0,g.useRef)(()=>{}),{initialState:l,reducers:u,actions:c}=(0,g.useMemo)(()=>function(e,t,n,a){const l=(0,i.oA)(p.parse(s.J5));let u=(0,i.oA)(m.Vm.build(l.instructions)),c=new f.Y({doEcho:t}).with(u),d=!1,h=!0,g="",v=!0;const b={setVm(e,t){e.files.vm=t},setTst(e,{tst:t}){e.files.tst=t},setCmp(e,{cmp:t}){e.files.cmp=t},setExitCode(e,t){e.controls.exitCode=t},setValid(e,t){e.controls.valid=t},setShowHighlight(e,t){e.vm.showHighlight=t},setError(e,n){n?(e.controls.valid=!1,t({message:n?.message,severity:"ERROR"})):e.controls.valid=!0,e.controls.error=n},update(e){e.vm=S(c,a,0,v),e.test.highlight=c.currentStep?.span},setAnimate(e,t){e.controls.animate=t},testStep(e){e.files.out=c.log()},testFinished(e){const n=(0,y.U)(e.files.cmp.trim(),e.files.out);t(n?{message:"Simulation successful: The output file is identical to the compare file",severity:"SUCCESS"}:{message:"Simulation error: The output file differs from the compare file",severity:"ERROR"})},setTitle(e,t){e.title=t},updateConfig(e,t){e.config={...e.config,...t}}},w={vm:S(c,a,0,!0),controls:{exitCode:void 0,runningTest:!1,animate:!0,valid:!0},test:{highlight:void 0},files:{vm:"",tst:_,cmp:"",out:""},config:{ram1Format:"dec",ram2Format:"dec",screenScale:1,speed:2,testSpeed:2}},x={async load(n){const i=[];let s;if((await e.stat(n)).isFile())i.push({name:(0,r.Z1)(n.split("/").pop()).replace(".vm",""),content:await e.readFile(n)}),s=n.split("/").pop()??"";else{for(const t of(await e.scandir(n)).filter(e=>e.isFile()&&e.name.endsWith(".vm")))i.push({name:t.name.replace(".vm",""),content:await e.readFile(`${n}/${t.name}`)});s=`${n.split("/").pop()} / *.vm`}a.current({action:"setTitle",payload:s}),this.loadVm(i),this.reset(),t("")},setVm(e){if(v=!1,a.current({action:"setVm",payload:e}),g==e)return;g=e;const t=p.parse(e);if((0,i.ys)(t))return a.current({action:"setError",payload:(0,i._)(t)}),!1;const n=(0,i.oA)(t).instructions,r=m.Vm.build(n);return this.replaceVm(r)},loadVm(e){v=!1;const t=e.map(e=>e.content).join("\n");if(a.current({action:"setVm",payload:t}),g==t)return;g=t;const n=[];let r=0;for(const o of e){const e=p.parse(o.content);if((0,i.ys)(e))return a.current({action:"setError",payload:(0,i._)(e)}),!1;const t=(0,i.oA)(e).instructions;for(const n of t)void 0!=n.span?.line&&(n.span.line+=r);r+=o.content.split("\n").length,n.push({name:o.name,instructions:t})}const s=m.Vm.buildFromFiles(n);return this.replaceVm(s)},replaceVm:e=>(0,i.ys)(e)?(a.current({action:"setError",payload:(0,i._)(e)}),!1):(a.current({action:"setError"}),u=(0,i.oA)(e),c.vm=u,a.current({action:"update"}),!0),loadTest(n,r){a.current({action:"setTst",payload:{tst:r}});const s=o.uG.parse(r);if((0,i.ys)(s))return a.current({action:"setValid",payload:!1}),t({message:"Failed to parse test",severity:"ERROR"}),!1;a.current({action:"setValid",payload:!0}),t("Parsed tst"),u.reset();const l=f.Y.from((0,i.oA)(s),{dir:n,doLoad:async e=>{await this.load(e)},doEcho:t,compareTo:async t=>{const r=n.split("/").slice(0,-1).join("/"),i=await e.readFile(`${r}/${t}`);a.current({action:"setCmp",payload:{cmp:i}})}});return(0,i.ys)(l)?(t({message:(0,i._)(l).message,severity:"ERROR"}),!1):(c=(0,i.Ok)(l).using(e),c.vm=u,a.current({action:"update"}),!0)},setAnimate(e){h=e,a.current({action:"setAnimate",payload:e})},async testStep(){v=!0;let e=!1;try{return e=await c.step(),a.current({action:"testStep"}),e&&a.current({action:"testFinished"}),h&&a.current({action:"update"}),e}catch(n){return t({message:`Runtime error: ${n.message}`,severity:"ERROR"}),a.current({action:"setError",payload:n}),!0}},setPaused(e=!0){u.setPaused(e)},step(){v=!0;try{let e=!1;const t=u.step();return void 0!==t&&(e=!0,a.current({action:"setExitCode",payload:t})),h&&a.current({action:"update"}),e}catch(e){return t({message:`Runtime error: ${e.message}`,severity:"ERROR"}),a.current({action:"setError",payload:e}),!0}},reset(){v=!0,c.reset(),u.reset(),a.current({action:"update"}),a.current({action:"setExitCode",payload:void 0}),a.current({action:"setValid",payload:!0})},toggleUseTest(){d=!d,a.current({action:"update"})},initialize(){a.current({action:"setTitle",payload:void 0}),this.setVm(s.J5)}};return{initialState:w,reducers:b,actions:x}}(e,t,0,a),[e,t,n,a]),[d,h]=(0,v.A)(u,l);return a.current=h,{state:d,dispatch:a,actions:c}}},8878:(e,t,n)=>{"use strict";e.exports=n(33)},9169:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,T(S);else{var t=r(c);null!==t&&N(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(C),C=-1),f=!0;var s=p;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!O());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&N(_,d.startTime-n),l=!1}return l}finally{h=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,k=!1,I=null,C=-1,A=5,E=-1;function O(){return!(t.unstable_now()-E<A)}function R(){if(null!==I){var e=t.unstable_now();E=e;var n=!0;try{n=I(!0,e)}finally{n?x():(k=!1,I=null)}}else k=!1}if("function"===typeof b)x=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=R,x=function(){L.postMessage(null)}}else x=function(){y(R,0)};function T(e){I=e,k||(k=!0,x())}function N(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,T(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,N(_,s-a))):(e.sortIndex=o,n(u,e),m||f||(m=!0,T(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9547:(e,t,n)=>{"use strict";n.d(t,{aU:()=>o,aY:()=>a,yt:()=>l});var r=n(5874),i=n(4666),s=n(7844);async function a(e){const t=(0,r.oA)(i.y0.parse(e));return i.y0.passes.fillLabel(t),i.y0.passes.emit(t)}async function o(e){return e.split("\n").filter(e=>""!==e.trim()).map(s.Yp)}async function l(e){return e.split("\n").filter(e=>""!==e.trim()).map(s._Q)}},9563:(e,t,n)=>{"use strict";n.d(t,{qN:()=>rt});var r={};n.r(r),n.d(r,{CV:()=>m,b0:()=>s,vA:()=>a,Nm:()=>b,Ms:()=>d,xA:()=>o,$L:()=>c,pX:()=>p,lO:()=>h,Ho:()=>f,ux:()=>u,xq:()=>l,qj:()=>y,rE:()=>v});const i={};for(let it=0;it<128;it++)i[it]=String.fromCharCode(it);function s(e){const t=e||"";return function(){throw new Error("this method "+t+" is abstract! (it has no implementation in class "+this.constructor.name+")")}}function a(e,t){if(!e)throw new Error(t||"Assertion failed")}function o(e,t,n){let r;Object.defineProperty(e,t,{get(){return r||(r=n.call(this)),r}})}function l(e,t){return new Array(t+1).join(e)}function u(e,t){return function(e,t){const n=[];for(;t-- >0;)n.push(e());return n}(()=>e,t)}function c(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];e.lastIndexOf(r)!==n&&t.indexOf(r)<0&&t.push(r)}return t}function d(e){const t=[];return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t}function h(e){const t=e[0];return t===t.toUpperCase()}function p(e){return!h(e)}function f(e,t,n){const r=n||" ";return e.length<t?l(r,t-e.length)+e:e}function m(){this.strings=[]}i["'".charCodeAt(0)]="\\'",i['"'.charCodeAt(0)]='\\"',i["\\".charCodeAt(0)]="\\\\",i["\b".charCodeAt(0)]="\\b",i["\f".charCodeAt(0)]="\\f",i["\n".charCodeAt(0)]="\\n",i["\r".charCodeAt(0)]="\\r",i["\t".charCodeAt(0)]="\\t",i["\v".charCodeAt(0)]="\\v",m.prototype.append=function(e){this.strings.push(e)},m.prototype.contents=function(){return this.strings.join("")};const g=e=>String.fromCodePoint(parseInt(e,16));function y(e){if("\\"!==e.charAt(0))return e;switch(e.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"x":return g(e.slice(2,4));case"u":return"{"===e.charAt(2)?g(e.slice(3,-1)):g(e.slice(2,6));default:return e.charAt(1)}}function v(e){if(null==e)return String(e);const t=Object.prototype.toString.call(e);try{let n;return n=e.constructor&&e.constructor.name?e.constructor.name:0===t.indexOf("[object ")?t.slice(8,-1):typeof e,n+": "+JSON.stringify(String(e))}catch(n){return t}}function b(e,t="unexpected null value"){if(null==e)throw new Error(t);return e}const w={Lu:/\p{Lu}/u,Ll:/\p{Ll}/u,Lt:/\p{Lt}/u,Lm:/\p{Lm}/u,Lo:/\p{Lo}/u,Nl:/\p{Nl}/u,Nd:/\p{Nd}/u,Mn:/\p{Mn}/u,Mc:/\p{Mc}/u,Pc:/\p{Pc}/u,Zs:/\p{Zs}/u,L:/\p{Letter}/u,Ltmo:/\p{Lt}|\p{Lm}|\p{Lo}/u};class _{constructor(){if(this.constructor===_)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(e){return e&&(this.source=e.trimmed()),this}}const S=Object.create(_.prototype),x=Object.create(_.prototype);class k extends _{constructor(e){super(),this.obj=e}}class I extends _{constructor(e,t){super(),this.from=e,this.to=t,this.matchCodePoint=e.length>1||t.length>1}}class C extends _{constructor(e){super(),this.index=e}}class A extends _{constructor(e){super(),this.terms=e}}class E extends A{constructor(e,t,n){super([n,e.rules[t].body]),this.superGrammar=e,this.name=t,this.body=n}}class O extends A{constructor(e,t,n,r){const i=e.rules[t].body;super([...n,i,...r]),this.superGrammar=e,this.ruleName=t,this.expansionPos=n.length}}class R extends _{constructor(e){super(),this.factors=e}}class P extends _{constructor(e){super(),this.expr=e}}class L extends P{}class T extends P{}class N extends P{}L.prototype.operator="*",T.prototype.operator="+",N.prototype.operator="?",L.prototype.minNumMatches=0,T.prototype.minNumMatches=1,N.prototype.minNumMatches=0,L.prototype.maxNumMatches=Number.POSITIVE_INFINITY,T.prototype.maxNumMatches=Number.POSITIVE_INFINITY,N.prototype.maxNumMatches=1;class F extends _{constructor(e){super(),this.expr=e}}class j extends _{constructor(e){super(),this.expr=e}}class M extends _{constructor(e){super(),this.expr=e}}class D extends _{constructor(e,t=[]){super(),this.ruleName=e,this.args=t}isSyntactic(){return h(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}}class z extends _{constructor(e){super(),this.category=e,this.pattern=w[e]}}function $(e,t){let n;return t?(n=new Error(t.getLineAndColumnMessage()+e),n.shortMessage=e,n.interval=t):n=new Error(e),n}function B(){return $("Interval sources don't match")}function U(e,t,n){return $("Rule "+e+" is not declared in grammar "+t,n)}function V(e,t,n,r){let i="Duplicate declaration for rule '"+e+"' in grammar '"+t+"'";return t!==n&&(i+=" (originally declared in '"+n+"')"),$(i,r)}function W(e,t,n,r){return $("Wrong number of parameters for rule "+e+" (expected "+t+", got "+n+")",r)}function H(e,t,n){return $("Duplicate parameter names in rule "+e+": "+t.join(", "),n)}function G(e,t){return $("Incorrect argument type: expected "+e,t.source)}function q(e,t){const n=t.length>0?t[t.length-1].args:[];let r="Nullable expression "+e.expr.substituteParams(n)+" is not allowed inside '"+e.operator+"' (possible infinite loop)";if(t.length>0){r+="\nApplication stack (most recent application last):\n"+t.map(e=>new D(e.ruleName,e.args)).join("\n")}return $(r,e.expr.source)}function K(e,t,n,r){return $("Rule "+e+" involves an alternation which has inconsistent arity (expected "+t+", got "+n+")",r.source)}function Z(e){if(1===e.length)throw e[0];if(e.length>1)throw function(e){const t=e.map(e=>e.message);return $(["Errors:"].concat(t).join("\n- "),e[0].interval)}(e)}function Y(e,t,n){const r=e.length;return(e.slice(0,n)+t+e.slice(n+t.length)).substr(0,r)}function Q(...e){const t=this,{offset:n}=t,{xq:i}=r,s=new m;s.append("Line "+t.lineNum+", col "+t.colNum+":\n");const o=function(e){let t=0;return e.map(e=>{const n=e.toString();return t=Math.max(t,n.length),n}).map(e=>f(e,t))}([null==t.prevLine?0:t.lineNum-1,t.lineNum,null==t.nextLine?0:t.lineNum+1]),l=(e,t,n)=>{s.append(n+o[e]+" | "+t+"\n")};null!=t.prevLine&&l(0,t.prevLine,"  "),l(1,t.line,"> ");const u=t.line.length;let c=i(" ",u+1);for(let r=0;r<e.length;++r){let s=e[r][0],o=e[r][1];a(s>=0&&s<=o,"range start must be >= 0 and <= end");const l=n-t.colNum+1;s=Math.max(0,s-l),o=Math.min(o-l,u),c=Y(c,i("~",o-s),s)}const d=2+o[1].length+3;return s.append(i(" ",d)),c=Y(c,"^",t.colNum-1),s.append(c.replace(/ +$/,"")+"\n"),null!=t.nextLine&&l(2,t.nextLine,"  "),s.contents()}let X=[];function J(e){X.push(e)}function ee(e,t){let n=1,r=1,i=0,s=0,a=null,o=null,l=-1;for(;i<t;){const t=e.charAt(i++);"\n"===t?(n++,r=1,l=s,s=i):"\r"!==t&&r++}let u=e.indexOf("\n",s);if(-1===u)u=e.length;else{const t=e.indexOf("\n",u+1);a=-1===t?e.slice(u):e.slice(u,t),a=a.replace(/^\r?\n/,"").replace(/\r$/,"")}l>=0&&(o=e.slice(l,s).replace(/\r?\n$/,""));return{offset:t,lineNum:n,colNum:r,line:e.slice(s,u).replace(/\r$/,""),prevLine:o,nextLine:a,toString:Q}}function te(e,t,...n){return ee(e,t).toString(...n)}const ne=(()=>{let e=0;return t=>""+t+e++})();class re{constructor(e,t,n){this.sourceString=e,this.startIdx=t,this.endIdx=n}get contents(){return void 0===this._contents&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents}get length(){return this.endIdx-this.startIdx}coverageWith(...e){return re.coverage(...e,this)}collapsedLeft(){return new re(this.sourceString,this.startIdx,this.startIdx)}collapsedRight(){return new re(this.sourceString,this.endIdx,this.endIdx)}getLineAndColumn(){return ee(this.sourceString,this.startIdx)}getLineAndColumnMessage(){const e=[this.startIdx,this.endIdx];return te(this.sourceString,this.startIdx,e)}minus(e){if(this.sourceString!==e.sourceString)throw B();return this.startIdx===e.startIdx&&this.endIdx===e.endIdx?[]:this.startIdx<e.startIdx&&e.endIdx<this.endIdx?[new re(this.sourceString,this.startIdx,e.startIdx),new re(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.endIdx&&e.endIdx<this.endIdx?[new re(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.startIdx&&e.startIdx<this.endIdx?[new re(this.sourceString,this.startIdx,e.startIdx)]:[this]}relativeTo(e){if(this.sourceString!==e.sourceString)throw B();return a(this.startIdx>=e.startIdx&&this.endIdx<=e.endIdx,"other interval does not cover this one"),new re(this.sourceString,this.startIdx-e.startIdx,this.endIdx-e.startIdx)}trimmed(){const{contents:e}=this,t=this.startIdx+e.match(/^\s*/)[0].length,n=this.endIdx-e.match(/\s*$/)[0].length;return new re(this.sourceString,t,n)}subInterval(e,t){const n=this.startIdx+e;return new re(this.sourceString,n,n+t)}}re.coverage=function(e,...t){let{startIdx:n,endIdx:r}=e;for(const i of t){if(i.sourceString!==e.sourceString)throw B();n=Math.min(n,i.startIdx),r=Math.max(r,i.endIdx)}return new re(e.sourceString,n,r)};class ie{constructor(e){this.source=e,this.pos=0,this.examinedLength=0}atEnd(){const e=this.pos>=this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),e}next(){const e=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),e}nextCharCode(){const e=this.next();return e&&e.charCodeAt(0)}nextCodePoint(){const e=this.source.slice(this.pos++).codePointAt(0);return e>65535&&(this.pos+=1),this.examinedLength=Math.max(this.examinedLength,this.pos),e}matchString(e,t){let n;if(t){for(n=0;n<e.length;n++){const t=this.next(),r=e[n];if(null==t||t.toUpperCase()!==r.toUpperCase())return!1}return!0}for(n=0;n<e.length;n++)if(this.next()!==e[n])return!1;return!0}sourceSlice(e,t){return this.source.slice(e,t)}interval(e,t){return new re(this.source,e,t||this.pos)}}class se{constructor(e,t,n,r,i,s,a){this.matcher=e,this.input=t,this.startExpr=n,this._cst=r,this._cstOffset=i,this._rightmostFailurePosition=s,this._rightmostFailures=a,this.failed()&&(o(this,"message",function(){const e="Expected "+this.getExpectedText();return te(this.input,this.getRightmostFailurePosition())+e}),o(this,"shortMessage",function(){const e="expected "+this.getExpectedText(),t=ee(this.input,this.getRightmostFailurePosition());return"Line "+t.lineNum+", col "+t.colNum+": "+e}))}succeeded(){return!!this._cst}failed(){return!this.succeeded()}getRightmostFailurePosition(){return this._rightmostFailurePosition}getRightmostFailures(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const e=this.matcher._match(this.startExpr,{tracing:!1,positionToRecordFailures:this.getRightmostFailurePosition()});this._rightmostFailures=e.getRightmostFailures()}return this._rightmostFailures}toString(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"}getExpectedText(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const e=new m;let t=this.getRightmostFailures();t=t.filter(e=>!e.isFluffy());for(let n=0;n<t.length;n++)n>0&&(n===t.length-1?e.append(t.length>2?", or ":" or "):e.append(", ")),e.append(t[n].toString());return e.contents()}getInterval(){const e=this.getRightmostFailurePosition();return new re(this.input,e,e)}}class ae{constructor(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}isActive(e){return this.applicationMemoKeyStack.indexOf(e.toMemoKey())>=0}enter(e){this.applicationMemoKeyStack.push(e.toMemoKey())}exit(){this.applicationMemoKeyStack.pop()}startLeftRecursion(e,t){t.isLeftRecursion=!0,t.headApplication=e,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const{applicationMemoKeyStack:n}=this,r=n.indexOf(e.toMemoKey())+1,i=n.slice(r);t.isInvolved=function(e){return i.indexOf(e)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let e=r;e<n.length;e++){const t=n[e];this.isInvolved(t)||i.push(t)}}}endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion}shouldUseMemoizedResult(e){if(!e.isLeftRecursion)return!0;const{applicationMemoKeyStack:t}=this;for(let n=0;n<t.length;n++){const r=t[n];if(e.isInvolved(r))return!1}return!0}memoize(e,t){return this.memo[e]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t}clearObsoleteEntries(e,t){if(e+this.maxExaminedLength<=t)return;const{memo:n}=this;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(n).forEach(r=>{const i=n[r];e+i.examinedLength>t?delete n[r]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,i.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,i.rightmostFailureOffset))})}}const oe={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function le(e){return"string"===typeof e?e.replace(/ /g,"\u22c5").replace(/\t/g,"\u2409").replace(/\n/g,"\u240a").replace(/\r/g,"\u240d"):String(e)}class ue{constructor(e,t,n,r,i,s,a){this.input=e,this.pos=this.pos1=t,this.pos2=n,this.source=new re(e,t,n),this.expr=r,this.bindings=s,this.children=a||[],this.terminatingLREntry=null,this._flags=i?oe.succeeded:0}get displayString(){return this.expr.toDisplayString()}clone(){return this.cloneWithExpr(this.expr)}cloneWithExpr(e){const t=new ue(this.input,this.pos,this.pos2,e,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t}recordLRTermination(e,t){this.terminatingLREntry=new ue(this.input,this.pos,this.pos2,this.expr,!1,[t],[e]),this.terminatingLREntry.terminatesLR=!0}walk(e,t){let n=e;function r(e,i,s){let a=!0;n.enter&&n.enter.call(t,e,i,s)===ue.prototype.SKIP&&(a=!1),a&&(e.children.forEach(t=>{r(t,e,s+1)}),n.exit&&n.exit.call(t,e,i,s))}"function"===typeof n&&(n={enter:n}),this.isRootNode?this.children.forEach(e=>{r(e,null,0)}):r(this,null,0)}toString(){const e=new m;return this.walk((t,n,r)=>{if(!t)return this.SKIP;if("Alt"!==t.expr.constructor.name){if(e.append(function(e,t,n){const r=le(e.slice(t,t+n));return r.length<n?r+u(" ",n-r.length).join(""):r}(t.input,t.pos,10)+u(" ",2*r+1).join("")),e.append((t.succeeded?"\u2713":"\u2717")+" "+t.displayString),t.isHeadOfLeftRecursion&&e.append(" (LR)"),t.succeeded){const n=le(t.source.contents);e.append(" \u21d2  "),e.append("string"===typeof n?'"'+n+'"':n)}e.append("\n")}}),e.contents()}}let ce,de,he;ue.prototype.SKIP={},Object.keys(oe).forEach(e=>{const t=oe[e];Object.defineProperty(ue.prototype,e,{get(){return 0!==(this._flags&t)},set(e){e?this._flags|=t:this._flags&=~t}})}),_.prototype.allowsSkippingPrecedingSpace=s("allowsSkippingPrecedingSpace"),S.allowsSkippingPrecedingSpace=x.allowsSkippingPrecedingSpace=D.prototype.allowsSkippingPrecedingSpace=k.prototype.allowsSkippingPrecedingSpace=I.prototype.allowsSkippingPrecedingSpace=z.prototype.allowsSkippingPrecedingSpace=function(){return!0},A.prototype.allowsSkippingPrecedingSpace=P.prototype.allowsSkippingPrecedingSpace=M.prototype.allowsSkippingPrecedingSpace=j.prototype.allowsSkippingPrecedingSpace=F.prototype.allowsSkippingPrecedingSpace=C.prototype.allowsSkippingPrecedingSpace=R.prototype.allowsSkippingPrecedingSpace=function(){return!1},J(e=>{ce=e}),_.prototype.assertAllApplicationsAreValid=function(e,t){de=0,this._assertAllApplicationsAreValid(e,t)},_.prototype._assertAllApplicationsAreValid=s("_assertAllApplicationsAreValid"),S._assertAllApplicationsAreValid=x._assertAllApplicationsAreValid=k.prototype._assertAllApplicationsAreValid=I.prototype._assertAllApplicationsAreValid=C.prototype._assertAllApplicationsAreValid=z.prototype._assertAllApplicationsAreValid=function(e,t){},M.prototype._assertAllApplicationsAreValid=function(e,t){de++,this.expr._assertAllApplicationsAreValid(e,t),de--},A.prototype._assertAllApplicationsAreValid=function(e,t){for(let n=0;n<this.terms.length;n++)this.terms[n]._assertAllApplicationsAreValid(e,t)},R.prototype._assertAllApplicationsAreValid=function(e,t){for(let n=0;n<this.factors.length;n++)this.factors[n]._assertAllApplicationsAreValid(e,t)},P.prototype._assertAllApplicationsAreValid=F.prototype._assertAllApplicationsAreValid=j.prototype._assertAllApplicationsAreValid=function(e,t){this.expr._assertAllApplicationsAreValid(e,t)},D.prototype._assertAllApplicationsAreValid=function(e,t,n=!1){const r=t.rules[this.ruleName],i=h(e)&&0===de;if(!r)throw U(this.ruleName,t.name,this.source);if(!n&&h(this.ruleName)&&!i)throw function(e,t){return $("Cannot apply syntactic rule "+e+" from here (inside a lexical context)",t.source)}(this.ruleName,this);const s=this.args.length,a=r.formals.length;if(s!==a)throw function(e,t,n,r){return $("Wrong number of arguments for rule "+e+" (expected "+t+", got "+n+")",r)}(this.ruleName,a,s,this.source);const o=ce&&r===ce.rules.applySyntactic;if(ce&&r===ce.rules.caseInsensitive&&!(this.args[0]instanceof k))throw G('a Terminal (e.g. "abc")',this.args[0]);if(o){const e=this.args[0];if(!(e instanceof D))throw G("a syntactic rule application",e);if(!h(e.ruleName))throw function(e){const{ruleName:t}=e;return $(`applySyntactic is for syntactic rules, but '${t}' is a lexical rule. NOTE: A _syntactic rule_ is a rule whose name begins with a capital letter. See https://ohmjs.org/d/svl for more details.`,e.source)}(e);if(i)throw $("applySyntactic is not required here (in a syntactic context)",this.source)}this.args.forEach(n=>{if(n._assertAllApplicationsAreValid(e,t,o),1!==n.getArity())throw function(e,t){return $("Invalid parameter to rule "+e+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)}(this.ruleName,n)})},_.prototype.assertChoicesHaveUniformArity=s("assertChoicesHaveUniformArity"),S.assertChoicesHaveUniformArity=x.assertChoicesHaveUniformArity=k.prototype.assertChoicesHaveUniformArity=I.prototype.assertChoicesHaveUniformArity=C.prototype.assertChoicesHaveUniformArity=M.prototype.assertChoicesHaveUniformArity=z.prototype.assertChoicesHaveUniformArity=function(e){},A.prototype.assertChoicesHaveUniformArity=function(e){if(0===this.terms.length)return;const t=this.terms[0].getArity();for(let n=0;n<this.terms.length;n++){const r=this.terms[n];r.assertChoicesHaveUniformArity();const i=r.getArity();if(t!==i)throw K(e,t,i,r)}},E.prototype.assertChoicesHaveUniformArity=function(e){const t=this.terms[0].getArity(),n=this.terms[1].getArity();if(t!==n)throw K(e,n,t,this.terms[0])},R.prototype.assertChoicesHaveUniformArity=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(e)},P.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},F.prototype.assertChoicesHaveUniformArity=function(e){},j.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},D.prototype.assertChoicesHaveUniformArity=function(e){},_.prototype.assertIteratedExprsAreNotNullable=s("assertIteratedExprsAreNotNullable"),S.assertIteratedExprsAreNotNullable=x.assertIteratedExprsAreNotNullable=k.prototype.assertIteratedExprsAreNotNullable=I.prototype.assertIteratedExprsAreNotNullable=C.prototype.assertIteratedExprsAreNotNullable=z.prototype.assertIteratedExprsAreNotNullable=function(e){},A.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(e)},R.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(e)},P.prototype.assertIteratedExprsAreNotNullable=function(e){if(this.expr.assertIteratedExprsAreNotNullable(e),this.expr.isNullable(e))throw q(this,[])},N.prototype.assertIteratedExprsAreNotNullable=F.prototype.assertIteratedExprsAreNotNullable=j.prototype.assertIteratedExprsAreNotNullable=M.prototype.assertIteratedExprsAreNotNullable=function(e){this.expr.assertIteratedExprsAreNotNullable(e)},D.prototype.assertIteratedExprsAreNotNullable=function(e){this.args.forEach(t=>{t.assertIteratedExprsAreNotNullable(e)})};class pe{constructor(e){this.matchLength=e}get ctorName(){throw new Error("subclass responsibility")}numChildren(){return this.children?this.children.length:0}childAt(e){if(this.children)return this.children[e]}indexOfChild(e){return this.children.indexOf(e)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(1!==this.numChildren())throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(0===t)throw new Error("cannot get child before first child");return this.childAt(t-1)}childAfter(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(t===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(t+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}}class fe extends pe{get ctorName(){return"_terminal"}isTerminal(){return!0}get primitiveValue(){throw new Error("The `primitiveValue` property was removed in Ohm v17.")}}class me extends pe{constructor(e,t,n,r){super(r),this.ruleName=e,this.children=t,this.childOffsets=n}get ctorName(){return this.ruleName}isNonterminal(){return!0}isLexical(){return p(this.ctorName)}isSyntactic(){return h(this.ctorName)}}class ge extends pe{constructor(e,t,n,r){super(n),this.children=e,this.childOffsets=t,this.optional=r}get ctorName(){return"_iter"}isIteration(){return!0}isOptional(){return this.optional}}function ye(e,t){const n={};if(e.source&&t){const r=e.source.relativeTo(t);n.sourceInterval=[r.startIdx,r.endIdx]}return n}function ve(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}function be(e){const t=Object.create(null);e.forEach(e=>{t[e]=(t[e]||0)+1}),Object.keys(t).forEach(n=>{if(t[n]<=1)return;let r=1;e.forEach((t,i)=>{t===n&&(e[i]=t+"_"+r++)})})}_.prototype.eval=s("eval"),S.eval=function(e){const{inputStream:t}=e,n=t.pos,r=t.nextCodePoint();return void 0!==r?(e.pushBinding(new fe(String.fromCodePoint(r).length),n),!0):(e.processFailure(n,this),!1)},x.eval=function(e){const{inputStream:t}=e,n=t.pos;return t.atEnd()?(e.pushBinding(new fe(0),n),!0):(e.processFailure(n,this),!1)},k.prototype.eval=function(e){const{inputStream:t}=e,n=t.pos;return t.matchString(this.obj)?(e.pushBinding(new fe(this.obj.length),n),!0):(e.processFailure(n,this),!1)},I.prototype.eval=function(e){const{inputStream:t}=e,n=t.pos,r=this.matchCodePoint?t.nextCodePoint():t.nextCharCode();return void 0!==r&&this.from.codePointAt(0)<=r&&r<=this.to.codePointAt(0)?(e.pushBinding(new fe(String.fromCodePoint(r).length),n),!0):(e.processFailure(n,this),!1)},C.prototype.eval=function(e){return e.eval(e.currentApplication().args[this.index])},M.prototype.eval=function(e){e.enterLexifiedContext();const t=e.eval(this.expr);return e.exitLexifiedContext(),t},A.prototype.eval=function(e){for(let t=0;t<this.terms.length;t++)if(e.eval(this.terms[t]))return!0;return!1},R.prototype.eval=function(e){for(let t=0;t<this.factors.length;t++){const n=this.factors[t];if(!e.eval(n))return!1}return!0},P.prototype.eval=function(e){const{inputStream:t}=e,n=t.pos,r=this.getArity(),i=[],s=[];for(;i.length<r;)i.push([]),s.push([]);let a,o=0,l=n;for(;o<this.maxNumMatches&&e.eval(this.expr);){if(t.pos===l)throw q(this,e._applicationStack);l=t.pos,o++;const n=e._bindings.splice(e._bindings.length-r,r),u=e._bindingOffsets.splice(e._bindingOffsets.length-r,r);for(a=0;a<n.length;a++)i[a].push(n[a]),s[a].push(u[a])}if(o<this.minNumMatches)return!1;let u=e.posToOffset(n),c=0;if(o>0){const e=i[r-1],t=s[r-1],n=t[t.length-1]+e[e.length-1].matchLength;u=s[0][0],c=n-u}const d=this instanceof N;for(a=0;a<i.length;a++)e._bindings.push(new ge(i[a],s[a],c,d)),e._bindingOffsets.push(u);return!0},F.prototype.eval=function(e){const{inputStream:t}=e,n=t.pos;e.pushFailuresInfo();const r=e.eval(this.expr);return e.popFailuresInfo(),r?(e.processFailure(n,this),!1):(t.pos=n,!0)},j.prototype.eval=function(e){const{inputStream:t}=e,n=t.pos;return!!e.eval(this.expr)&&(t.pos=n,!0)},D.prototype.eval=function(e){const t=e.currentApplication(),n=t?t.args:[],r=this.substituteParams(n),i=e.getCurrentPosInfo();if(i.isActive(r))return r.handleCycle(e);const s=r.toMemoKey(),a=i.memo[s];if(a&&i.shouldUseMemoizedResult(a)){if(e.hasNecessaryInfo(a))return e.useMemoizedResult(e.inputStream.pos,a);delete i.memo[s]}return r.reallyEval(e)},D.prototype.handleCycle=function(e){const t=e.getCurrentPosInfo(),{currentLeftRecursion:n}=t,r=this.toMemoKey();let i=t.memo[r];return n&&n.headApplication.toMemoKey()===r?i.updateInvolvedApplicationMemoKeys():i||(i=t.memoize(r,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,i)),e.useMemoizedResult(e.inputStream.pos,i)},D.prototype.reallyEval=function(e){const{inputStream:t}=e,n=t.pos,r=e.getCurrentPosInfo(),i=e.grammar.rules[this.ruleName],{body:s}=i,{description:o}=i;e.enterApplication(r,this),o&&e.pushFailuresInfo();const l=t.examinedLength;t.examinedLength=0;let u=this.evalOnce(s,e);const c=r.currentLeftRecursion,d=this.toMemoKey(),h=c&&c.headApplication.toMemoKey()===d;let p;e.doNotMemoize?e.doNotMemoize=!1:h?(u=this.growSeedResult(s,e,n,c,u),r.endLeftRecursion(),p=c,p.examinedLength=t.examinedLength-n,p.rightmostFailureOffset=e._getRightmostFailureOffset(),r.memoize(d,p)):c&&c.isInvolved(d)||(p=r.memoize(d,{matchLength:t.pos-n,examinedLength:t.examinedLength-n,value:u,failuresAtRightmostPosition:e.cloneRecordedFailures(),rightmostFailureOffset:e._getRightmostFailureOffset()}));const f=!!u;if(o&&(e.popFailuresInfo(),f||e.processFailure(n,this),p&&(p.failuresAtRightmostPosition=e.cloneRecordedFailures())),e.isTracing()&&p){const t=e.getTraceEntry(n,this,f,f?[u]:[]);h&&(a(null!=t.terminatingLREntry||!f),t.isHeadOfLeftRecursion=!0),p.traceEntry=t}return t.examinedLength=Math.max(t.examinedLength,l),e.exitApplication(r,u),f},D.prototype.evalOnce=function(e,t){const{inputStream:n}=t,r=n.pos;if(t.eval(e)){const i=e.getArity(),s=t._bindings.splice(t._bindings.length-i,i),a=t._bindingOffsets.splice(t._bindingOffsets.length-i,i),o=n.pos-r;return new me(this.ruleName,s,a,o)}return!1},D.prototype.growSeedResult=function(e,t,n,r,i){if(!i)return!1;const{inputStream:s}=t;for(;;){if(r.matchLength=s.pos-n,r.value=i,r.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const e=t.trace[t.trace.length-1];r.traceEntry=new ue(t.input,n,s.pos,this,!0,[i],[e.clone()])}if(s.pos=n,i=this.evalOnce(e,t),s.pos-n<=r.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&r.traceEntry.recordLRTermination(t.trace.pop(),i),s.pos=n+r.matchLength,r.value},z.prototype.eval=function(e){const{inputStream:t}=e,n=t.pos,r=t.next();return r&&this.pattern.test(r)?(e.pushBinding(new fe(r.length),n),!0):(e.processFailure(n,this),!1)},_.prototype.getArity=s("getArity"),S.getArity=x.getArity=k.prototype.getArity=I.prototype.getArity=C.prototype.getArity=D.prototype.getArity=z.prototype.getArity=function(){return 1},A.prototype.getArity=function(){return 0===this.terms.length?0:this.terms[0].getArity()},R.prototype.getArity=function(){let e=0;for(let t=0;t<this.factors.length;t++)e+=this.factors[t].getArity();return e},P.prototype.getArity=function(){return this.expr.getArity()},F.prototype.getArity=function(){return 0},j.prototype.getArity=M.prototype.getArity=function(){return this.expr.getArity()},_.prototype.outputRecipe=s("outputRecipe"),S.outputRecipe=function(e,t){return["any",ye(this,t)]},x.outputRecipe=function(e,t){return["end",ye(this,t)]},k.prototype.outputRecipe=function(e,t){return["terminal",ye(this,t),this.obj]},I.prototype.outputRecipe=function(e,t){return["range",ye(this,t),this.from,this.to]},C.prototype.outputRecipe=function(e,t){return["param",ye(this,t),this.index]},A.prototype.outputRecipe=function(e,t){return["alt",ye(this,t)].concat(this.terms.map(n=>n.outputRecipe(e,t)))},E.prototype.outputRecipe=function(e,t){return this.terms[0].outputRecipe(e,t)},O.prototype.outputRecipe=function(e,t){const n=this.terms.slice(0,this.expansionPos),r=this.terms.slice(this.expansionPos+1);return["splice",ye(this,t),n.map(n=>n.outputRecipe(e,t)),r.map(n=>n.outputRecipe(e,t))]},R.prototype.outputRecipe=function(e,t){return["seq",ye(this,t)].concat(this.factors.map(n=>n.outputRecipe(e,t)))},L.prototype.outputRecipe=T.prototype.outputRecipe=N.prototype.outputRecipe=F.prototype.outputRecipe=j.prototype.outputRecipe=M.prototype.outputRecipe=function(e,t){return[this.constructor.name.toLowerCase(),ye(this,t),this.expr.outputRecipe(e,t)]},D.prototype.outputRecipe=function(e,t){return["app",ye(this,t),this.ruleName,this.args.map(n=>n.outputRecipe(e,t))]},z.prototype.outputRecipe=function(e,t){return["unicodeChar",ye(this,t),this.category]},_.prototype.introduceParams=s("introduceParams"),S.introduceParams=x.introduceParams=k.prototype.introduceParams=I.prototype.introduceParams=C.prototype.introduceParams=z.prototype.introduceParams=function(e){return this},A.prototype.introduceParams=function(e){return this.terms.forEach((t,n,r)=>{r[n]=t.introduceParams(e)}),this},R.prototype.introduceParams=function(e){return this.factors.forEach((t,n,r)=>{r[n]=t.introduceParams(e)}),this},P.prototype.introduceParams=F.prototype.introduceParams=j.prototype.introduceParams=M.prototype.introduceParams=function(e){return this.expr=this.expr.introduceParams(e),this},D.prototype.introduceParams=function(e){const t=e.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new C(t).withSource(this.source)}return this.args.forEach((t,n,r)=>{r[n]=t.introduceParams(e)}),this},_.prototype.isNullable=function(e){return this._isNullable(e,Object.create(null))},_.prototype._isNullable=s("_isNullable"),S._isNullable=I.prototype._isNullable=C.prototype._isNullable=T.prototype._isNullable=z.prototype._isNullable=function(e,t){return!1},x._isNullable=function(e,t){return!0},k.prototype._isNullable=function(e,t){return"string"===typeof this.obj&&""===this.obj},A.prototype._isNullable=function(e,t){return 0===this.terms.length||this.terms.some(n=>n._isNullable(e,t))},R.prototype._isNullable=function(e,t){return this.factors.every(n=>n._isNullable(e,t))},L.prototype._isNullable=N.prototype._isNullable=F.prototype._isNullable=j.prototype._isNullable=function(e,t){return!0},M.prototype._isNullable=function(e,t){return this.expr._isNullable(e,t)},D.prototype._isNullable=function(e,t){const n=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,n)){const{body:r}=e.rules[this.ruleName],i=r.substituteParams(this.args);t[n]=!1,t[n]=i._isNullable(e,t)}return t[n]},_.prototype.substituteParams=s("substituteParams"),S.substituteParams=x.substituteParams=k.prototype.substituteParams=I.prototype.substituteParams=z.prototype.substituteParams=function(e){return this},C.prototype.substituteParams=function(e){return b(e[this.index])},A.prototype.substituteParams=function(e){return new A(this.terms.map(t=>t.substituteParams(e)))},R.prototype.substituteParams=function(e){return new R(this.factors.map(t=>t.substituteParams(e)))},P.prototype.substituteParams=F.prototype.substituteParams=j.prototype.substituteParams=M.prototype.substituteParams=function(e){return new this.constructor(this.expr.substituteParams(e))},D.prototype.substituteParams=function(e){if(0===this.args.length)return this;{const t=this.args.map(t=>t.substituteParams(e));return new D(this.ruleName,t)}},_.prototype.toArgumentNameList=s("toArgumentNameList"),S.toArgumentNameList=function(e,t){return["any"]},x.toArgumentNameList=function(e,t){return["end"]},k.prototype.toArgumentNameList=function(e,t){return"string"===typeof this.obj&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+e]},I.prototype.toArgumentNameList=function(e,t){let n=this.from+"_to_"+this.to;return ve(n)||(n="_"+n),ve(n)||(n="$"+e),[n]},A.prototype.toArgumentNameList=function(e,t){const n=this.terms.map(t=>t.toArgumentNameList(e,!0)),r=[],i=n[0].length;for(let s=0;s<i;s++){const e=[];for(let r=0;r<this.terms.length;r++)e.push(n[r][s]);const t=d(e);r.push(t.join("_or_"))}return t||be(r),r},R.prototype.toArgumentNameList=function(e,t){let n=[];return this.factors.forEach(t=>{const r=t.toArgumentNameList(e,!0);n=n.concat(r),e+=r.length}),t||be(n),n},P.prototype.toArgumentNameList=function(e,t){const n=this.expr.toArgumentNameList(e,t).map(e=>"s"===e[e.length-1]?e+"es":e+"s");return t||be(n),n},N.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t).map(e=>"opt"+e[0].toUpperCase()+e.slice(1))},F.prototype.toArgumentNameList=function(e,t){return[]},j.prototype.toArgumentNameList=M.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t)},D.prototype.toArgumentNameList=function(e,t){return[this.ruleName]},z.prototype.toArgumentNameList=function(e,t){return["$"+e]},C.prototype.toArgumentNameList=function(e,t){return["param"+this.index]},_.prototype.toDisplayString=s("toDisplayString"),A.prototype.toDisplayString=R.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"},S.toDisplayString=x.toDisplayString=P.prototype.toDisplayString=F.prototype.toDisplayString=j.prototype.toDisplayString=M.prototype.toDisplayString=k.prototype.toDisplayString=I.prototype.toDisplayString=C.prototype.toDisplayString=function(){return this.toString()},D.prototype.toDisplayString=function(){if(this.args.length>0){const e=this.args.map(e=>e.toDisplayString());return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},z.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"};class we{constructor(e,t,n){if(!function(e){return"description"===e||"string"===e||"code"===e}(n))throw new Error("invalid Failure type: "+n);this.pexpr=e,this.text=t,this.type=n,this.fluffy=!1}getPExpr(){return this.pexpr}getText(){return this.text}getType(){return this.type}isDescription(){return"description"===this.type}isStringTerminal(){return"string"===this.type}isCode(){return"code"===this.type}isFluffy(){return this.fluffy}makeFluffy(){this.fluffy=!0}clearFluffy(){this.fluffy=!1}subsumes(e){return this.getText()===e.getText()&&this.type===e.type&&(!this.isFluffy()||this.isFluffy()&&e.isFluffy())}toString(){return"string"===this.type?JSON.stringify(this.getText()):this.getText()}clone(){const e=new we(this.pexpr,this.text,this.type);return this.isFluffy()&&e.makeFluffy(),e}toKey(){return this.toString()+"#"+this.type}}_.prototype.toFailure=s("toFailure"),S.toFailure=function(e){return new we(this,"any object","description")},x.toFailure=function(e){return new we(this,"end of input","description")},k.prototype.toFailure=function(e){return new we(this,this.obj,"string")},I.prototype.toFailure=function(e){return new we(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")},F.prototype.toFailure=function(e){const t=this.expr===S?"nothing":"not "+this.expr.toFailure(e);return new we(this,t,"description")},j.prototype.toFailure=function(e){return this.expr.toFailure(e)},D.prototype.toFailure=function(e){let{description:t}=e.rules[this.ruleName];if(!t){t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName}return new we(this,t,"description")},z.prototype.toFailure=function(e){return new we(this,"a Unicode ["+this.category+"] character","description")},A.prototype.toFailure=function(e){const t="("+this.terms.map(t=>t.toFailure(e)).join(" or ")+")";return new we(this,t,"description")},R.prototype.toFailure=function(e){const t="("+this.factors.map(t=>t.toFailure(e)).join(" ")+")";return new we(this,t,"description")},P.prototype.toFailure=function(e){const t="("+this.expr.toFailure(e)+this.operator+")";return new we(this,t,"description")},_.prototype.toString=s("toString"),S.toString=function(){return"any"},x.toString=function(){return"end"},k.prototype.toString=function(){return JSON.stringify(this.obj)},I.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)},C.prototype.toString=function(){return"$"+this.index},M.prototype.toString=function(){return"#("+this.expr.toString()+")"},A.prototype.toString=function(){return 1===this.terms.length?this.terms[0].toString():"("+this.terms.map(e=>e.toString()).join(" | ")+")"},R.prototype.toString=function(){return 1===this.factors.length?this.factors[0].toString():"("+this.factors.map(e=>e.toString()).join(" ")+")"},P.prototype.toString=function(){return this.expr+this.operator},F.prototype.toString=function(){return"~"+this.expr},j.prototype.toString=function(){return"&"+this.expr},D.prototype.toString=function(){if(this.args.length>0){const e=this.args.map(e=>e.toString());return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},z.prototype.toString=function(){return"\\p{"+this.category+"}"};class _e extends _{constructor(e){super(),this.obj=e}_getString(e){const t=e.currentApplication().args[this.obj.index];return a(t instanceof k,"expected a Terminal expression"),t.obj}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,n=t.pos,r=this._getString(e);return t.matchString(r,!0)?(e.pushBinding(new fe(r.length),n),!0):(e.processFailure(n,this),!1)}getArity(){return 1}substituteParams(e){return new _e(this.obj.substituteParams(e))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(e){return new we(this,this.obj.toFailure(e)+" (case-insensitive)","description")}_isNullable(e,t){return this.obj._isNullable(e,t)}}J(e=>{he=e.rules.applySyntactic.body});const Se=new D("spaces");class xe{constructor(e,t,n){this.matcher=e,this.startExpr=t,this.grammar=e.grammar,this.input=e.getInput(),this.inputStream=new ie(this.input),this.memoTable=e._memoTable,this.userData=void 0,this.doNotMemoize=!1,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],void 0!==n&&(this.positionToRecordFailures=n,this.recordedFailures=Object.create(null))}posToOffset(e){return e-this._posStack[this._posStack.length-1]}enterApplication(e,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),e.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1}exitApplication(e,t){const n=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),e.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,n)}enterLexifiedContext(){this.inLexifiedContextStack.push(!0)}exitLexifiedContext(){this.inLexifiedContextStack.pop()}currentApplication(){return this._applicationStack[this._applicationStack.length-1]}inSyntacticContext(){const e=this.currentApplication();return e?e.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()}inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]}skipSpaces(){return this.pushFailuresInfo(),this.eval(Se),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos}skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos}maybeSkipSpacesBefore(e){return e.allowsSkippingPrecedingSpace()&&e!==Se?this.skipSpacesIfInSyntacticContext():this.inputStream.pos}pushBinding(e,t){this._bindings.push(e),this._bindingOffsets.push(this.posToOffset(t))}popBinding(){this._bindings.pop(),this._bindingOffsets.pop()}numBindings(){return this._bindings.length}truncateBindings(e){for(;this._bindings.length>e;)this.popBinding()}getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)}getPosInfo(e){let t=this.memoTable[e];return t||(t=this.memoTable[e]=new ae),t}processFailure(e,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,e),this.recordedFailures&&e===this.positionToRecordFailures){const e=this.currentApplication();e&&(t=t.substituteParams(e.args)),this.recordFailure(t.toFailure(this.grammar),!1)}}recordFailure(e,t){const n=e.toKey();this.recordedFailures[n]?this.recordedFailures[n].isFluffy()&&!e.isFluffy()&&this.recordedFailures[n].clearFluffy():this.recordedFailures[n]=t?e.clone():e}recordFailures(e,t){Object.keys(e).forEach(n=>{this.recordFailure(e[n],t)})}cloneRecordedFailures(){if(!this.recordedFailures)return;const e=Object.create(null);return Object.keys(this.recordedFailures).forEach(t=>{e[t]=this.recordedFailures[t].clone()}),e}getRightmostFailurePosition(){return this.rightmostFailurePosition}_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1}getMemoizedTraceEntry(e,t){const n=this.memoTable[e];if(n&&t instanceof D){const e=n.memo[t.toMemoKey()];if(e&&e.traceEntry){const n=e.traceEntry.cloneWithExpr(t);return n.isMemoized=!0,n}}return null}getTraceEntry(e,t,n,r){if(t instanceof D){const e=this.currentApplication(),n=e?e.args:[];t=t.substituteParams(n)}return this.getMemoizedTraceEntry(e,t)||new ue(this.input,e,this.inputStream.pos,t,n,r,this.trace)}isTracing(){return!!this.trace}hasNecessaryInfo(e){return!(this.trace&&!e.traceEntry)&&(!this.recordedFailures||this.inputStream.pos+e.rightmostFailureOffset!==this.positionToRecordFailures||!!e.failuresAtRightmostPosition)}useMemoizedResult(e,t){this.trace&&this.trace.push(t.traceEntry);const n=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,n),this.recordedFailures&&this.positionToRecordFailures===n&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+e),!!t.value&&(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,e),!0)}eval(e){const{inputStream:t}=this,n=this._bindings.length,r=this.userData;let i;this.recordedFailures&&(i=this.recordedFailures,this.recordedFailures=Object.create(null));const s=t.pos,a=this.maybeSkipSpacesBefore(e);let o;this.trace&&(o=this.trace,this.trace=[]);const l=e.eval(this);if(this.trace){const t=this._bindings.slice(n),r=this.getTraceEntry(a,e,l,t);r.isImplicitSpaces=e===Se,r.isRootNode=e===this.startExpr,o.push(r),this.trace=o}return l?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach(e=>{this.recordedFailures[e].makeFluffy()}):(t.pos=s,this.truncateBindings(n),this.userData=r),this.recordedFailures&&this.recordFailures(i,!1),e===he&&this.skipSpaces(),l}getMatchResult(){let e;this.grammar._setUpMatchState(this),this.eval(this.startExpr),this.recordedFailures&&(e=Object.keys(this.recordedFailures).map(e=>this.recordedFailures[e]));const t=this._bindings[0];return t&&(t.grammar=this.grammar),new se(this.matcher,this.input,this.startExpr,t,this._bindingOffsets[0],this.rightmostFailurePosition,e)}getTrace(){this.trace=[];const e=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=e,t}pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)}popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}}class ke{constructor(e){this.grammar=e,this._memoTable=[],this._input="",this._isMemoTableStale=!1}_resetMemoTable(){this._memoTable=[],this._isMemoTableStale=!1}getInput(){return this._input}setInput(e){return this._input!==e&&this.replaceInputRange(0,this._input.length,e),this}replaceInputRange(e,t,n){const r=this._input,i=this._memoTable;if(e<0||e>r.length||t<0||t>r.length||e>t)throw new Error("Invalid indices: "+e+" and "+t);this._input=r.slice(0,e)+n+r.slice(t),this._input!==r&&i.length>0&&(this._isMemoTableStale=!0);const s=i.slice(t);i.length=e;for(let a=0;a<n.length;a++)i.push(void 0);for(const a of s)i.push(a);for(let a=0;a<e;a++){const t=i[a];t&&t.clearObsoleteEntries(a,e)}return this}match(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!1})}trace(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!0})}_match(e,t={}){const n={tracing:!1,incremental:!0,positionToRecordFailures:void 0,...t};if(n.incremental){if(this._isMemoTableStale&&!this.grammar.supportsIncrementalParsing)throw function(e){return $(`Grammar '${e.name}' does not support incremental parsing`)}(this.grammar)}else this._resetMemoTable();const r=new xe(this,e,n.positionToRecordFailures);return n.tracing?r.getTrace():r.getMatchResult()}_getStartExpr(e){const t=e||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const n=this.grammar.parseApplication(t);return new R([n,x])}}const Ie=[],Ce=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class Ae{constructor(e,t,n){this._node=e,this.source=t,this._baseInterval=n,e.isNonterminal()&&a(t===n),this._childWrappers=[]}_forgetMemoizedResultFor(e){delete this._node[this._semantics.attributeKeys[e]],this.children.forEach(t=>{t._forgetMemoizedResultFor(e)})}child(e){if(!(0<=e&&e<this._node.numChildren()))return;let t=this._childWrappers[e];if(!t){const n=this._node.childAt(e),r=this._node.childOffsets[e],i=this._baseInterval.subInterval(r,n.matchLength),s=n.isNonterminal()?i:this._baseInterval;t=this._childWrappers[e]=this._semantics.wrap(n,i,s)}return t}_children(){for(let e=0;e<this._node.numChildren();e++)this.child(e);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(e){const t=e||[],n=t.map(e=>e._node),r=new ge(n,[],-1,!1),i=this._semantics.wrap(r,null,null);return i._childWrappers=t,i}get children(){return this._children()}get ctorName(){return this._node.ctorName}get numChildren(){return this._node.numChildren()}get sourceString(){return this.source.contents}}class Ee{constructor(e,t){const n=this;if(this.grammar=e,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:Ae){constructor(e,t,r){super(e,t,r),n.checkActionDictsIfHaventAlready(),this._semantics=n}toString(){return"[semantics wrapper for "+n.grammar.name+"]"}},this.super=t,t){if(!e.equals(this.super.grammar)&&!e._inheritsFrom(this.super.grammar))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+e.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const e in this.attributes)Object.defineProperty(this.attributeKeys,e,{value:ne(e)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}toString(){return"[semantics for "+this.grammar.name+"]"}checkActionDictsIfHaventAlready(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)}checkActionDicts(){let e;for(e in this.operations)this.operations[e].checkActionDict(this.grammar);for(e in this.attributes)this.attributes[e].checkActionDict(this.grammar)}toRecipe(e){function t(e){return e.super!==Ee.BuiltInSemantics._getSemantics()}let n="(function(g) {\n";if(t(this)){n+="  var semantics = "+this.super.toRecipe(!0)+"(g";const e=this.super.grammar;let t=this.grammar;for(;t!==e;)n+=".superGrammar",t=t.superGrammar;n+=");\n",n+="  return g.extendSemantics(semantics)"}else n+="  return g.createSemantics()";return["Operation","Attribute"].forEach(e=>{const r=this[e.toLowerCase()+"s"];Object.keys(r).forEach(i=>{const{actionDict:s,formals:a,builtInDefault:o}=r[i];let l,u=i;a.length>0&&(u+="("+a.join(", ")+")"),l=t(this)&&this.super[e.toLowerCase()+"s"][i]?"extend"+e:"add"+e,n+="\n    ."+l+"("+JSON.stringify(u)+", {";const c=[];Object.keys(s).forEach(e=>{if(s[e]!==o){let t=s[e].toString().trim();t=t.replace(/^.*\(/,"function("),c.push("\n      "+JSON.stringify(e)+": "+t)}}),n+=c.join(",")+"\n    })"})}),n+=";\n  })",e||(n="(function() {\n  var grammar = this.fromRecipe("+this.grammar.toRecipe()+");\n  var semantics = "+n+"(grammar);\n  return semantics;\n});\n"),n}addOperationOrAttribute(e,t,n){const r=e+"s",i=Oe(t,e),{name:s}=i,{formals:a}=i;this.assertNewName(s,e);const o=function(e,t,n){return function(...r){const i=(this._semantics.operations[t]||this._semantics.attributes[t]).formals.map(e=>this.args[e]);if(this.isIteration()||1!==r.length)throw function(e,t,n,r){let i=r.slice(0,-1).map(e=>{const t="  "+e[0].name+" > "+e[1];return 3===e.length?t+" for '"+e[2]+"'":t}).join("\n");i+="\n  "+t+" > "+e;let s="";"_iter"===e&&(s=["\nNOTE: as of Ohm v16, there is no default action for iteration nodes \u2014 see ","  https://ohmjs.org/d/dsa for details."].join("\n"));const a=$([`Missing semantic action for '${e}' in ${n} '${t}'.${s}`,"Action stack (most recent call last):",i].join("\n"));return a.name="missingSemanticAction",a}(this.ctorName,t,e,Ie);return n.apply(r[0],i)}}(e,s,c),l={_default:o};Object.keys(n).forEach(e=>{l[e]=n[e]});const u="operation"===e?new Re(s,a,l,o):new Pe(s,l,o);function c(...t){const n=this._semantics[r][s];if(arguments.length!==n.formals.length)throw new Error("Invalid number of arguments passed to "+s+" "+e+" (expected "+n.formals.length+", got "+arguments.length+")");const i=Object.create(null);for(const[e,r]of Object.entries(t)){i[n.formals[e]]=r}const a=this.args;this.args=i;const o=n.execute(this._semantics,this);return this.args=a,o}u.checkActionDict(this.grammar),this[r][s]=u,"operation"===e?(this.Wrapper.prototype[s]=c,this.Wrapper.prototype[s].toString=function(){return"["+s+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,s,{get:c,configurable:!0}),Object.defineProperty(this.attributeKeys,s,{value:ne(s)}))}extendOperationOrAttribute(e,t,n){const r=e+"s";if(Oe(t,"attribute"),!this.super||!(t in this.super[r]))throw new Error("Cannot extend "+e+" '"+t+"': did not inherit an "+e+" with that name");if(Ce(this[r],t))throw new Error("Cannot extend "+e+" '"+t+"' again");const i=this[r][t].formals,s=this[r][t].actionDict,a=Object.create(s);Object.keys(n).forEach(e=>{a[e]=n[e]}),this[r][t]="operation"===e?new Re(t,i,a):new Pe(t,a),this[r][t].checkActionDict(this.grammar)}assertNewName(e,t){if(Ce(Ae.prototype,e))throw new Error("Cannot add "+t+" '"+e+"': that's a reserved name");if(e in this.operations)throw new Error("Cannot add "+t+" '"+e+"': an operation with that name already exists");if(e in this.attributes)throw new Error("Cannot add "+t+" '"+e+"': an attribute with that name already exists")}wrap(e,t,n){const r=n||t;return e instanceof this.Wrapper?e:new this.Wrapper(e,t,r)}}function Oe(e,t){if(!Ee.prototypeGrammar)return a(-1===e.indexOf("(")),{name:e,formals:[]};const n=Ee.prototypeGrammar.match(e,"operation"===t?"OperationSignature":"AttributeSignature");if(n.failed())throw new Error(n.message);return Ee.prototypeGrammarSemantics(n).parse()}Ee.createSemantics=function(e,t){const n=new Ee(e,void 0!==t?t:Ee.BuiltInSemantics._getSemantics()),r=function(t){if(!(t instanceof se))throw new TypeError("Semantics expected a MatchResult, but got "+v(t));if(t.failed())throw new TypeError("cannot apply Semantics to "+t.toString());const r=t._cst;if(r.grammar!==e)throw new Error("Cannot use a MatchResult from grammar '"+r.grammar.name+"' with a semantics for '"+e.name+"'");const i=new ie(t.input);return n.wrap(r,i.interval(t._cstOffset,t.input.length))};return r.addOperation=function(e,t){return n.addOperationOrAttribute("operation",e,t),r},r.extendOperation=function(e,t){return n.extendOperationOrAttribute("operation",e,t),r},r.addAttribute=function(e,t){return n.addOperationOrAttribute("attribute",e,t),r},r.extendAttribute=function(e,t){return n.extendOperationOrAttribute("attribute",e,t),r},r._getActionDict=function(t){const r=n.operations[t]||n.attributes[t];if(!r)throw new Error('"'+t+'" is not a valid operation or attribute name in this semantics for "'+e.name+'"');return r.actionDict},r._remove=function(e){let t;return e in n.operations?(t=n.operations[e],delete n.operations[e]):e in n.attributes&&(t=n.attributes[e],delete n.attributes[e]),delete n.Wrapper.prototype[e],t},r.getOperationNames=function(){return Object.keys(n.operations)},r.getAttributeNames=function(){return Object.keys(n.attributes)},r.getGrammar=function(){return n.grammar},r.toRecipe=function(e){return n.toRecipe(e)},r.toString=n.toString.bind(n),r._getSemantics=function(){return n},r};class Re{constructor(e,t,n,r){this.name=e,this.formals=t,this.actionDict=n,this.builtInDefault=r}checkActionDict(e){e._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(e,t){try{const{ctorName:e}=t._node;let n=this.actionDict[e];return n?(Ie.push([this,e]),n.apply(t,t._children())):t.isNonterminal()&&(n=this.actionDict._nonterminal,n)?(Ie.push([this,"_nonterminal",e]),n.apply(t,t._children())):(Ie.push([this,"default action",e]),this.actionDict._default.apply(t,t._children()))}finally{Ie.pop()}}}Re.prototype.typeName="operation";class Pe extends Re{constructor(e,t,n){super(e,[],t,n)}execute(e,t){const n=t._node,r=e.attributeKeys[this.name];return Ce(n,r)||(n[r]=Re.prototype.execute.call(this,e,t)),n[r]}}Pe.prototype.typeName="attribute";const Le=["_iter","_terminal","_nonterminal","_default"];function Te(e){return Object.keys(e.rules).sort().map(t=>e.rules[t])}let Ne,Fe;class je{constructor(e,t,n,r){if(this.name=e,this.superGrammar=t,this.rules=n,r){if(!(r in n))throw new Error("Invalid start rule: '"+r+"' is not a rule in grammar '"+e+"'");this.defaultStartRule=r}this._matchStateInitializer=void 0,this.supportsIncrementalParsing=!0}matcher(){return new ke(this)}isBuiltIn(){return this===je.ProtoBuiltInRules||this===je.BuiltInRules}equals(e){if(this===e)return!0;if(null==e||this.name!==e.name||this.defaultStartRule!==e.defaultStartRule||this.superGrammar!==e.superGrammar&&!this.superGrammar.equals(e.superGrammar))return!1;const t=Te(this),n=Te(e);return t.length===n.length&&t.every((e,t)=>e.description===n[t].description&&e.formals.join(",")===n[t].formals.join(",")&&e.body.toString()===n[t].body.toString())}match(e,t){const n=this.matcher();return n.replaceInputRange(0,0,e),n.match(t)}trace(e,t){const n=this.matcher();return n.replaceInputRange(0,0,e),n.trace(t)}createSemantics(){return Ee.createSemantics(this)}extendSemantics(e){return Ee.createSemantics(this,e._getSemantics())}_checkTopDownActionDict(e,t,n){const r=[];for(const i in n){const e=n[i];if(!Le.includes(i)&&!(i in this.rules)){r.push(`'${i}' is not a valid semantic action for '${this.name}'`);continue}if("function"!==typeof e){r.push(`'${i}' must be a function in an action dictionary for '${this.name}'`);continue}const t=e.length,s=this._topDownActionArity(i);if(t!==s){let e;e="_iter"===i||"_nonterminal"===i?`it should use a rest parameter, e.g. \`${i}(...children) {}\`. NOTE: this is new in Ohm v16 \u2014 see https://ohmjs.org/d/ati for details.`:`expected ${s}, got ${t}`,r.push(`Semantic action '${i}' has the wrong arity: ${e}`)}}if(r.length>0){const n=r.map(e=>"- "+e),i=new Error([`Found errors in the action dictionary of the '${t}' ${e}:`,...n].join("\n"));throw i.problems=r,i}}_topDownActionArity(e){return Le.includes(e)?0:this.rules[e].body.getArity()}_inheritsFrom(e){let t=this.superGrammar;for(;t;){if(t.equals(e,!0))return!0;t=t.superGrammar}return!1}toRecipe(e=void 0){const t={};this.source&&(t.source=this.source.contents);let n=null;this.defaultStartRule&&(n=this.defaultStartRule);const r={};Object.keys(this.rules).forEach(e=>{const t=this.rules[e],{body:n}=t,i=!this.superGrammar||!this.superGrammar.rules[e];let s;s=i?"define":n instanceof E?"extend":"override";const a={};if(t.source&&this.source){const e=t.source.relativeTo(this.source);a.sourceInterval=[e.startIdx,e.endIdx]}const o=i?t.description:null,l=n.outputRecipe(t.formals,this.source);r[e]=[s,a,o,t.formals,l]});let i="null";e?i=e:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(i=this.superGrammar.toRecipe());const s=[...["grammar",t,this.name].map(JSON.stringify),i,...[n,r].map(JSON.stringify)];return`[${s.join(",")}]`.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}_toOperationOrAttributeActionDictionaryTemplate(){const e=new m;e.append("{");let t=!0;for(const n in this.rules){const{body:r}=this.rules[n];t?t=!1:e.append(","),e.append("\n"),e.append("  "),this.addSemanticActionTemplate(n,r,e)}return e.append("\n}"),e.contents()}addSemanticActionTemplate(e,t,n){n.append(e),n.append(": function(");const r=this._topDownActionArity(e);n.append(u("_",r).join(", ")),n.append(") {\n"),n.append("  }")}parseApplication(e){let t;if(-1===e.indexOf("<"))t=new D(e);else{const n=Ne.match(e,"Base_application");t=Fe(n,{})}if(!(t.ruleName in this.rules))throw U(t.ruleName,this.name);const{formals:n}=this.rules[t.ruleName];if(n.length!==t.args.length){const{source:e}=this.rules[t.ruleName];throw W(t.ruleName,n.length,t.args.length,e)}return t}_setUpMatchState(e){this._matchStateInitializer&&this._matchStateInitializer(e)}}je.ProtoBuiltInRules=new je("ProtoBuiltInRules",void 0,{any:{body:S,formals:[],description:"any character",primitive:!0},end:{body:x,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new _e(new C(0)),formals:["str"],primitive:!0},lower:{body:new z("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new z("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new z("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new L(new D("space")),formals:[]},space:{body:new I("\0"," "),formals:[],description:"a space"}}),je.initApplicationParser=function(e,t){Ne=e,Fe=t};class Me{constructor(e){this.name=e}sourceInterval(e,t){return this.source.subInterval(e,t-e)}ensureSuperGrammar(){return this.superGrammar||this.withSuperGrammar("BuiltInRules"===this.name?je.ProtoBuiltInRules:je.BuiltInRules),this.superGrammar}ensureSuperGrammarRuleForOverriding(e,t){const n=this.ensureSuperGrammar().rules[e];if(!n)throw r=e,i=this.superGrammar.name,$("Cannot override rule "+r+" because it is not declared in "+i,t);var r,i;return n}installOverriddenOrExtendedRule(e,t,n,r){const i=c(t);if(i.length>0)throw H(e,i,r);const s=this.ensureSuperGrammar().rules[e],a=s.formals,o=a?a.length:0;if(t.length!==o)throw W(e,o,t.length,r);return this.install(e,t,n,s.description,r)}install(e,t,n,r,i,s=!1){return this.rules[e]={body:n.introduceParams(t),formals:t,description:r,source:i,primitive:s},this}withSuperGrammar(e){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=e,this.rules=Object.create(e.rules),e.isBuiltIn()||(this.defaultStartRule=e.defaultStartRule),this}withDefaultStartRule(e){return this.defaultStartRule=e,this}withSource(e){return this.source=new ie(e).interval(0,e.length),this}build(){const e=new je(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule);e._matchStateInitializer=e.superGrammar._matchStateInitializer,e.supportsIncrementalParsing=e.superGrammar.supportsIncrementalParsing;const t=[];let n=!1;return Object.keys(e.rules).forEach(r=>{const{body:i}=e.rules[r];try{i.assertChoicesHaveUniformArity(r)}catch(s){t.push(s)}try{i.assertAllApplicationsAreValid(r,e)}catch(s){t.push(s),n=!0}}),n||Object.keys(e.rules).forEach(n=>{const{body:r}=e.rules[n];try{r.assertIteratedExprsAreNotNullable(e,[])}catch(i){t.push(i)}}),t.length>0&&Z(t),this.source&&(e.source=this.source),e}define(e,t,n,r,i,s){if(this.ensureSuperGrammar(),this.superGrammar.rules[e])throw V(e,this.name,this.superGrammar.name,i);if(this.rules[e])throw V(e,this.name,this.name,i);const a=c(t);if(a.length>0)throw H(e,a,i);return this.install(e,t,n,r,i,s)}override(e,t,n,r,i){return this.ensureSuperGrammarRuleForOverriding(e,i),this.installOverriddenOrExtendedRule(e,t,n,i),this}extend(e,t,n,r,i){if(!this.ensureSuperGrammar().rules[e])throw s=e,a=this.superGrammar.name,$("Cannot extend rule "+s+" because it is not declared in "+a,i);var s,a;const o=new E(this.superGrammar,e,n);return o.source=n.source,this.installOverriddenOrExtendedRule(e,t,o,i),this}}class De{constructor(){this.currentDecl=null,this.currentRuleName=null}newGrammar(e){return new Me(e)}grammar(e,t,n,r,i){const s=new Me(t);return n&&s.withSuperGrammar(n instanceof je?n:this.fromRecipe(n)),r&&s.withDefaultStartRule(r),e&&e.source&&s.withSource(e.source),this.currentDecl=s,Object.keys(i).forEach(e=>{this.currentRuleName=e;const t=i[e],n=t[0],r=t[1],a=t[2],o=t[3],l=this.fromRecipe(t[4]);let u;s.source&&r&&r.sourceInterval&&(u=s.source.subInterval(r.sourceInterval[0],r.sourceInterval[1]-r.sourceInterval[0])),s[n](e,o,l,a,u)}),this.currentRuleName=this.currentDecl=null,s.build()}terminal(e){return new k(e)}range(e,t){return new I(e,t)}param(e){return new C(e)}alt(...e){let t=[];for(let n of e)n instanceof _||(n=this.fromRecipe(n)),n instanceof A?t=t.concat(n.terms):t.push(n);return 1===t.length?t[0]:new A(t)}seq(...e){let t=[];for(let n of e)n instanceof _||(n=this.fromRecipe(n)),n instanceof R?t=t.concat(n.factors):t.push(n);return 1===t.length?t[0]:new R(t)}star(e){return e instanceof _||(e=this.fromRecipe(e)),new L(e)}plus(e){return e instanceof _||(e=this.fromRecipe(e)),new T(e)}opt(e){return e instanceof _||(e=this.fromRecipe(e)),new N(e)}not(e){return e instanceof _||(e=this.fromRecipe(e)),new F(e)}lookahead(e){return e instanceof _||(e=this.fromRecipe(e)),new j(e)}lex(e){return e instanceof _||(e=this.fromRecipe(e)),new M(e)}app(e,t){return t&&t.length>0&&(t=t.map(function(e){return e instanceof _?e:this.fromRecipe(e)},this)),new D(e,t)}splice(e,t){return new O(this.currentDecl.superGrammar,this.currentRuleName,e.map(e=>this.fromRecipe(e)),t.map(e=>this.fromRecipe(e)))}fromRecipe(e){const t="grammar"===e[0]?e.slice(1):e.slice(2),n=this[e[0]](...t),r=e[1];return r&&r.sourceInterval&&this.currentDecl&&n.withSource(this.currentDecl.sourceInterval(...r.sourceInterval)),n}}function ze(e){return"function"===typeof e?e.call(new De):("string"===typeof e&&(e=JSON.parse(e)),(new De).fromRecipe(e))}const $e=ze(["grammar",{source:'BuiltInRules {\n\n  alnum  (an alpha-numeric character)\n    = letter\n    | digit\n\n  letter  (a letter)\n    = lower\n    | upper\n    | unicodeLtmo\n\n  digit  (a digit)\n    = "0".."9"\n\n  hexDigit  (a hexadecimal digit)\n    = digit\n    | "a".."f"\n    | "A".."F"\n\n  ListOf<elem, sep>\n    = NonemptyListOf<elem, sep>\n    | EmptyListOf<elem, sep>\n\n  NonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  EmptyListOf<elem, sep>\n    = /* nothing */\n\n  listOf<elem, sep>\n    = nonemptyListOf<elem, sep>\n    | emptyListOf<elem, sep>\n\n  nonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  emptyListOf<elem, sep>\n    = /* nothing */\n\n  // Allows a syntactic rule application within a lexical context.\n  applySyntactic<app> = app\n}'},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,682]},null,["elem","sep"],["seq",{sourceInterval:[685,685]}]],applySyntactic:["define",{sourceInterval:[685,710]},null,["app"],["param",{sourceInterval:[707,710]},0]]}]);je.BuiltInRules=$e,function(e){X.forEach(t=>{t(e)}),X=null}(je.BuiltInRules);const Be=ze(["grammar",{source:'Ohm {\n\n  Grammars\n    = Grammar*\n\n  Grammar\n    = ident SuperGrammar? "{" Rule* "}"\n\n  SuperGrammar\n    = "<:" ident\n\n  Rule\n    = ident Formals? ruleDescr? "="  RuleBody  -- define\n    | ident Formals?            ":=" OverrideRuleBody  -- override\n    | ident Formals?            "+=" RuleBody  -- extend\n\n  RuleBody\n    = "|"? NonemptyListOf<TopLevelTerm, "|">\n\n  TopLevelTerm\n    = Seq caseName  -- inline\n    | Seq\n\n  OverrideRuleBody\n    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">\n\n  OverrideTopLevelTerm\n    = "..."  -- superSplice\n    | TopLevelTerm\n\n  Formals\n    = "<" ListOf<ident, ","> ">"\n\n  Params\n    = "<" ListOf<Seq, ","> ">"\n\n  Alt\n    = NonemptyListOf<Seq, "|">\n\n  Seq\n    = Iter*\n\n  Iter\n    = Pred "*"  -- star\n    | Pred "+"  -- plus\n    | Pred "?"  -- opt\n    | Pred\n\n  Pred\n    = "~" Lex  -- not\n    | "&" Lex  -- lookahead\n    | Lex\n\n  Lex\n    = "#" Base  -- lex\n    | Base\n\n  Base\n    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application\n    | oneCharTerminal ".." oneCharTerminal           -- range\n    | terminal                                       -- terminal\n    | "(" Alt ")"                                    -- paren\n\n  ruleDescr  (a rule description)\n    = "(" ruleDescrText ")"\n\n  ruleDescrText\n    = (~")" any)*\n\n  caseName\n    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n  ident  (an identifier)\n    = name\n\n  terminal\n    = "\\"" terminalChar* "\\""\n\n  oneCharTerminal\n    = "\\"" terminalChar "\\""\n\n  terminalChar\n    = escapeChar\n      | ~"\\\\" ~"\\"" ~"\\n" "\\u{0}".."\\u{10FFFF}"\n\n  escapeChar  (an escape sequence)\n    = "\\\\\\\\"                                     -- backslash\n    | "\\\\\\""                                     -- doubleQuote\n    | "\\\\\\\'"                                     -- singleQuote\n    | "\\\\b"                                      -- backspace\n    | "\\\\n"                                      -- lineFeed\n    | "\\\\r"                                      -- carriageReturn\n    | "\\\\t"                                      -- tab\n    | "\\\\u{" hexDigit hexDigit? hexDigit?\n             hexDigit? hexDigit? hexDigit? "}"   -- unicodeCodePoint\n    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape\n    | "\\\\x" hexDigit hexDigit                    -- hexEscape\n\n  space\n   += comment\n\n  comment\n    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine\n    | "/*" (~"*/" any)* "*/"  -- multiLine\n\n  tokens = token*\n\n  token = caseName | comment | ident | operator | punctuation | terminal | any\n\n  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"\n\n  punctuation = "<" | ">" | "," | "--"\n}'},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},"\n"]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},"\n"]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},"\n"],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1660]},null,[],["alt",{sourceInterval:[1602,1660]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1621,1660]},["not",{sourceInterval:[1621,1626]},["terminal",{sourceInterval:[1622,1626]},"\\"]],["not",{sourceInterval:[1627,1632]},["terminal",{sourceInterval:[1628,1632]},'"']],["not",{sourceInterval:[1633,1638]},["terminal",{sourceInterval:[1634,1638]},"\n"]],["range",{sourceInterval:[1639,1660]},"\0","\udbff\udfff"]]]],escapeChar_backslash:["define",{sourceInterval:[1703,1758]},null,[],["terminal",{sourceInterval:[1703,1709]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1765,1822]},null,[],["terminal",{sourceInterval:[1765,1771]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1829,1886]},null,[],["terminal",{sourceInterval:[1829,1835]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1893,1948]},null,[],["terminal",{sourceInterval:[1893,1898]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1955,2009]},null,[],["terminal",{sourceInterval:[1955,1960]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[2016,2076]},null,[],["terminal",{sourceInterval:[2016,2021]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2083,2132]},null,[],["terminal",{sourceInterval:[2083,2088]},"\\t"]],escapeChar_unicodeCodePoint:["define",{sourceInterval:[2139,2243]},null,[],["seq",{sourceInterval:[2139,2221]},["terminal",{sourceInterval:[2139,2145]},"\\u{"],["app",{sourceInterval:[2146,2154]},"hexDigit",[]],["opt",{sourceInterval:[2155,2164]},["app",{sourceInterval:[2155,2163]},"hexDigit",[]]],["opt",{sourceInterval:[2165,2174]},["app",{sourceInterval:[2165,2173]},"hexDigit",[]]],["opt",{sourceInterval:[2188,2197]},["app",{sourceInterval:[2188,2196]},"hexDigit",[]]],["opt",{sourceInterval:[2198,2207]},["app",{sourceInterval:[2198,2206]},"hexDigit",[]]],["opt",{sourceInterval:[2208,2217]},["app",{sourceInterval:[2208,2216]},"hexDigit",[]]],["terminal",{sourceInterval:[2218,2221]},"}"]]],escapeChar_unicodeEscape:["define",{sourceInterval:[2250,2309]},null,[],["seq",{sourceInterval:[2250,2291]},["terminal",{sourceInterval:[2250,2255]},"\\u"],["app",{sourceInterval:[2256,2264]},"hexDigit",[]],["app",{sourceInterval:[2265,2273]},"hexDigit",[]],["app",{sourceInterval:[2274,2282]},"hexDigit",[]],["app",{sourceInterval:[2283,2291]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2316,2371]},null,[],["seq",{sourceInterval:[2316,2339]},["terminal",{sourceInterval:[2316,2321]},"\\x"],["app",{sourceInterval:[2322,2330]},"hexDigit",[]],["app",{sourceInterval:[2331,2339]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1664,2371]},"an escape sequence",[],["alt",{sourceInterval:[1703,2371]},["app",{sourceInterval:[1703,1709]},"escapeChar_backslash",[]],["app",{sourceInterval:[1765,1771]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1829,1835]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1893,1898]},"escapeChar_backspace",[]],["app",{sourceInterval:[1955,1960]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[2016,2021]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2083,2088]},"escapeChar_tab",[]],["app",{sourceInterval:[2139,2221]},"escapeChar_unicodeCodePoint",[]],["app",{sourceInterval:[2250,2291]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2316,2339]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2375,2394]},null,[],["app",{sourceInterval:[2387,2394]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2412,2458]},null,[],["seq",{sourceInterval:[2412,2443]},["terminal",{sourceInterval:[2412,2416]},"//"],["star",{sourceInterval:[2417,2429]},["seq",{sourceInterval:[2418,2427]},["not",{sourceInterval:[2418,2423]},["terminal",{sourceInterval:[2419,2423]},"\n"]],["app",{sourceInterval:[2424,2427]},"any",[]]]],["lookahead",{sourceInterval:[2430,2443]},["alt",{sourceInterval:[2432,2442]},["terminal",{sourceInterval:[2432,2436]},"\n"],["app",{sourceInterval:[2439,2442]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2465,2501]},null,[],["seq",{sourceInterval:[2465,2487]},["terminal",{sourceInterval:[2465,2469]},"/*"],["star",{sourceInterval:[2470,2482]},["seq",{sourceInterval:[2471,2480]},["not",{sourceInterval:[2471,2476]},["terminal",{sourceInterval:[2472,2476]},"*/"]],["app",{sourceInterval:[2477,2480]},"any",[]]]],["terminal",{sourceInterval:[2483,2487]},"*/"]]],comment:["define",{sourceInterval:[2398,2501]},null,[],["alt",{sourceInterval:[2412,2501]},["app",{sourceInterval:[2412,2443]},"comment_singleLine",[]],["app",{sourceInterval:[2465,2487]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2505,2520]},null,[],["star",{sourceInterval:[2514,2520]},["app",{sourceInterval:[2514,2519]},"token",[]]]],token:["define",{sourceInterval:[2524,2600]},null,[],["alt",{sourceInterval:[2532,2600]},["app",{sourceInterval:[2532,2540]},"caseName",[]],["app",{sourceInterval:[2543,2550]},"comment",[]],["app",{sourceInterval:[2553,2558]},"ident",[]],["app",{sourceInterval:[2561,2569]},"operator",[]],["app",{sourceInterval:[2572,2583]},"punctuation",[]],["app",{sourceInterval:[2586,2594]},"terminal",[]],["app",{sourceInterval:[2597,2600]},"any",[]]]],operator:["define",{sourceInterval:[2604,2669]},null,[],["alt",{sourceInterval:[2615,2669]},["terminal",{sourceInterval:[2615,2619]},"<:"],["terminal",{sourceInterval:[2622,2625]},"="],["terminal",{sourceInterval:[2628,2632]},":="],["terminal",{sourceInterval:[2635,2639]},"+="],["terminal",{sourceInterval:[2642,2645]},"*"],["terminal",{sourceInterval:[2648,2651]},"+"],["terminal",{sourceInterval:[2654,2657]},"?"],["terminal",{sourceInterval:[2660,2663]},"~"],["terminal",{sourceInterval:[2666,2669]},"&"]]],punctuation:["define",{sourceInterval:[2673,2709]},null,[],["alt",{sourceInterval:[2687,2709]},["terminal",{sourceInterval:[2687,2690]},"<"],["terminal",{sourceInterval:[2693,2696]},">"],["terminal",{sourceInterval:[2699,2702]},","],["terminal",{sourceInterval:[2705,2709]},"--"]]]}]),Ue=Object.create(_.prototype);function Ve(e,t){for(const n in e)if(n===t)return!0;return!1}function We(e,t,n){const r=new De;let i,s,o,l=!1;const u=(n||Be).createSemantics().addOperation("visit",{Grammars:e=>e.children.map(e=>e.visit()),Grammar(e,n,s,a,o){const l=e.visit();i=r.newGrammar(l),n.child(0)&&n.child(0).visit(),a.children.map(e=>e.visit());const u=i.build();if(u.source=this.source.trimmed(),Ve(t,l))throw function(e){return $("Grammar "+e.name+" is already declared in this namespace")}(u);return t[l]=u,u},SuperGrammar(e,n){const r=n.visit();if("null"===r)i.withSuperGrammar(null);else{if(!t||!Ve(t,r))throw function(e,t,n){return $(t?`Grammar ${e} is not declared in namespace '${t}'`:"Undeclared grammar "+e,n)}(r,t,n.source);i.withSuperGrammar(t[r])}},Rule_define(e,t,n,r,a){s=e.visit(),o=t.children.map(e=>e.visit())[0]||[],i.defaultStartRule||i.ensureSuperGrammar()===je.ProtoBuiltInRules||i.withDefaultStartRule(s);const l=a.visit(),u=n.children.map(e=>e.visit())[0],c=this.source.trimmed();return i.define(s,o,l,u,c)},Rule_override(e,t,n,r){s=e.visit(),o=t.children.map(e=>e.visit())[0]||[];const a=this.source.trimmed();i.ensureSuperGrammarRuleForOverriding(s,a),l=!0;const u=r.visit();return l=!1,i.override(s,o,u,null,a)},Rule_extend(e,t,n,r){s=e.visit(),o=t.children.map(e=>e.visit())[0]||[];const a=r.visit(),l=this.source.trimmed();return i.extend(s,o,a,null,l)},RuleBody(e,t){return r.alt(...t.visit()).withSource(this.source)},OverrideRuleBody(e,t){const n=t.visit(),a=n.indexOf(Ue);if(a>=0){const e=n.slice(0,a),t=n.slice(a+1);return t.forEach(e=>{if(e===Ue)throw $("'...' can appear at most once in a rule body",e.source)}),new O(i.superGrammar,s,e,t).withSource(this.source)}return r.alt(...n).withSource(this.source)},Formals:(e,t,n)=>t.visit(),Params:(e,t,n)=>t.visit(),Alt(e){return r.alt(...e.visit()).withSource(this.source)},TopLevelTerm_inline(e,t){const n=s+"_"+t.visit(),a=e.visit(),u=this.source.trimmed(),c=!(i.superGrammar&&i.superGrammar.rules[n]);l&&!c?i.override(n,o,a,null,u):i.define(n,o,a,null,u);const d=o.map(e=>r.app(e));return r.app(n,d).withSource(a.source)},OverrideTopLevelTerm_superSplice:e=>Ue,Seq(e){return r.seq(...e.children.map(e=>e.visit())).withSource(this.source)},Iter_star(e,t){return r.star(e.visit()).withSource(this.source)},Iter_plus(e,t){return r.plus(e.visit()).withSource(this.source)},Iter_opt(e,t){return r.opt(e.visit()).withSource(this.source)},Pred_not(e,t){return r.not(t.visit()).withSource(this.source)},Pred_lookahead(e,t){return r.lookahead(t.visit()).withSource(this.source)},Lex_lex(e,t){return r.lex(t.visit()).withSource(this.source)},Base_application(e,t){const n=t.children.map(e=>e.visit())[0]||[];return r.app(e.visit(),n).withSource(this.source)},Base_range(e,t,n){return r.range(e.visit(),n.visit()).withSource(this.source)},Base_terminal(e){return r.terminal(e.visit()).withSource(this.source)},Base_paren:(e,t,n)=>t.visit(),ruleDescr:(e,t,n)=>t.visit(),ruleDescrText(e){return this.sourceString.trim()},caseName:(e,t,n,r,i)=>n.visit(),name(e,t){return this.sourceString},nameFirst(e){},nameRest(e){},terminal:(e,t,n)=>t.children.map(e=>e.visit()).join(""),oneCharTerminal:(e,t,n)=>t.visit(),escapeChar(e){try{return y(this.sourceString)}catch(t){if(t instanceof RangeError&&t.message.startsWith("Invalid code point "))throw function(e){const t=e._node;a(t&&t.isNonterminal()&&"escapeChar_unicodeCodePoint"===t.ctorName);const n=e.children.slice(1,-1).map(e=>e.source),r=n[0].coverageWith(...n.slice(1));return $(`U+${r.contents} is not a valid Unicode code point`,r)}(e);throw t}},NonemptyListOf:(e,t,n)=>[e.visit()].concat(n.children.map(e=>e.visit())),EmptyListOf:()=>[],_terminal(){return this.sourceString}});return u(e).visit()}const He=ze(["grammar",{source:'OperationsAndAttributes {\n\n  AttributeSignature =\n    name\n\n  OperationSignature =\n    name Formals?\n\n  Formals\n    = "(" ListOf<name, ","> ")"\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n}'},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}]);!function(e){const t={empty(){return this.iteration()},nonEmpty(e,t,n){return this.iteration([e].concat(n.children))},self(...e){return this}};Ee.BuiltInSemantics=Ee.createSemantics(e,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty,_iter:t.self})}(je.BuiltInRules),function(e){Ee.prototypeGrammarSemantics=e.createSemantics().addOperation("parse",{AttributeSignature:e=>({name:e.parse(),formals:[]}),OperationSignature:(e,t)=>({name:e.parse(),formals:t.children.map(e=>e.parse())[0]||[]}),Formals:(e,t,n)=>t.asIteration().children.map(e=>e.parse()),name(e,t){return this.sourceString}}),Ee.prototypeGrammar=e}(He);const Ge="an indented block",qe="a dedent",Ke=1114112;class Ze extends ie{constructor(e){super(e.input),this.state=e}_indentationAt(e){return this.state.userData[e]||0}atEnd(){return super.atEnd()&&0===this._indentationAt(this.pos)}next(){if(0===this._indentationAt(this.pos))return super.next();this.examinedLength=Math.max(this.examinedLength,this.pos)}nextCharCode(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),Ke):super.nextCharCode()}nextCodePoint(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),Ke):super.nextCodePoint()}}class Ye extends _{constructor(e=!0){super(),this.isIndent=e}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,n=e.userData;e.doNotMemoize=!0;const r=t.pos,i=this.isIndent?1:-1;return(n[r]||0)*i>0?(e.userData=Object.create(n),e.userData[r]-=i,e.pushBinding(new fe(0),r),!0):(e.processFailure(r,this),!1)}getArity(){return 1}_assertAllApplicationsAreValid(e,t){}_isNullable(e,t){return!1}assertChoicesHaveUniformArity(e){}assertIteratedExprsAreNotNullable(e){}introduceParams(e){return this}substituteParams(e){return this}toString(){return this.isIndent?"indent":"dedent"}toDisplayString(){return this.toString()}toFailure(e){const t=this.isIndent?Ge:qe;return new we(this,t,"description")}}const Qe=new D("indent"),Xe=new D("dedent"),Je=new O($e,"any",[Qe,Xe],[]),et=(new De).newGrammar("IndentationSensitive").withSuperGrammar($e).define("indent",[],new Ye(!0),Ge,void 0,!0).define("dedent",[],new Ye(!1),qe,void 0,!0).extend("any",[],Je,"any character",void 0).build();Object.assign(et,{_matchStateInitializer(e){e.userData=function(e){let t=0;const n=[0],r=()=>n[n.length-1],i={},s=/( *).*(?:$|\r?\n|\r)/g;let a;for(;null!=(a=s.exec(e));){const[e,s]=a;if(0===e.length)break;const o=s.length,l=r(),u=t+o;if(o>l)n.push(o),i[u]=1;else if(o<l){const e=n.length;for(;r()!==o;)n.pop();i[u]=-1*(e-n.length)}t+=e.length}return n.length>1&&(i[t]=1-n.length),i}(e.input),e.inputStream=new Ze(e)},supportsIncrementalParsing:!1}),je.initApplicationParser(Be,We);const tt=e=>!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e);function nt(e,t){const n=Be.match(e,"Grammars");if(n.failed())throw function(e){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get:()=>e.message}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get:()=>"Expected "+e.getExpectedText()}),t.interval=e.getInterval(),t}(n);return We(n,t)}function rt(e,t){const n=function(e,t){const n=Object.create(t||{});if("string"!==typeof e){if(!tt(e))throw new TypeError("Expected string as first argument, got "+v(e));e=e.toString()}return nt(e,n),n}(e,t),r=Object.keys(n);if(0===r.length)throw new Error("Missing grammar definition");if(r.length>1){const e=n[r[1]].source;throw new Error(te(e.sourceString,e.startIdx)+"Found more than one grammar definition -- use ohm.grammars() instead.")}return n[r[0]]}},9646:(e,t,n)=>{"use strict";n.d(t,{A:()=>q,b:()=>K});var r=Symbol.for("immer-nothing"),i=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var o=Object.getPrototypeOf;function l(e){return!!e&&!!e[s]}function u(e){return!!e&&(d(e)||Array.isArray(e)||!!e[i]||!!e.constructor?.[i]||g(e)||y(e))}var c=Object.prototype.constructor.toString();function d(e){if(!e||"object"!==typeof e)return!1;const t=o(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===c}function h(e,t){0===p(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function p(e){const t=e[s];return t?t.type_:Array.isArray(e)?1:g(e)?2:y(e)?3:0}function f(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,n){const r=p(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function g(e){return e instanceof Map}function y(e){return e instanceof Set}function v(e){return e.copy_||e.base_}function b(e,t){if(g(e))return new Map(e);if(y(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=d(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[s];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(o(e),t)}{const t=o(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function w(e,t=!1){return S(e)||l(e)||!u(e)||(p(e)>1&&Object.defineProperties(e,{set:{value:_},add:{value:_},clear:{value:_},delete:{value:_}}),Object.freeze(e),t&&Object.values(e).forEach(e=>w(e,!0))),e}function _(){a(2)}function S(e){return Object.isFrozen(e)}var x,k={};function I(e){const t=k[e];return t||a(0),t}function C(){return x}function A(e,t){t&&(I("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function E(e){O(e),e.drafts_.forEach(P),e.drafts_=null}function O(e){e===x&&(x=e.parent_)}function R(e){return x={drafts_:[],parent_:x,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function P(e){const t=e[s];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function L(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[s].modified_&&(E(t),a(4)),u(e)&&(e=T(t,e),t.parent_||F(t,e)),t.patches_&&I("Patches").generateReplacementPatches_(n[s].base_,e,t.patches_,t.inversePatches_)):e=T(t,n,[]),E(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function T(e,t,n){if(S(t))return t;const r=t[s];if(!r)return h(t,(i,s)=>N(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return F(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),h(i,(i,a)=>N(e,r,t,i,a,n,s)),F(e,t,!1),n&&e.patches_&&I("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function N(e,t,n,r,i,s,a){if(l(i)){const a=T(e,i,s&&t&&3!==t.type_&&!f(t.assigned_,r)?s.concat(r):void 0);if(m(n,r,a),!l(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(u(i)&&!S(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;T(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(g(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||F(e,i)}}function F(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w(t,n)}var j={get(e,t){if(t===s)return e;const n=v(e);if(!f(n,t))return function(e,t,n){const r=z(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!u(r)?r:r===D(e.base_,t)?(B(e),e.copy_[t]=U(r,e)):r},has:(e,t)=>t in v(e),ownKeys:e=>Reflect.ownKeys(v(e)),set(e,t,n){const r=z(v(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=D(v(e),t),o=r?.[s];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==n||f(e.base_,t)))return!0;B(e),$(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==D(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,B(e),$(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){a(11)},getPrototypeOf:e=>o(e.base_),setPrototypeOf(){a(12)}},M={};function D(e,t){const n=e[s];return(n?v(n):e)[t]}function z(e,t){if(!(t in e))return;let n=o(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=o(n)}}function $(e){e.modified_||(e.modified_=!0,e.parent_&&$(e.parent_))}function B(e){e.copy_||(e.copy_=b(e.base_,e.scope_.immer_.useStrictShallowCopy_))}h(j,(e,t)=>{M[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),M.deleteProperty=function(e,t){return M.set.call(this,e,t,void 0)},M.set=function(e,t,n){return j.set.call(this,e[0],t,n,e[0])};function U(e,t){const n=g(e)?I("MapSet").proxyMap_(e,t):y(e)?I("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:C(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=j;n&&(i=[r],s=M);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}(e,t);return(t?t.scope_:C()).drafts_.push(n),n}function V(e){if(!u(e)||S(e))return e;const t=e[s];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b(e,t.scope_.immer_.useStrictShallowCopy_)}else n=b(e,!0);return h(n,(e,t)=>{m(n,e,V(t))}),t&&(t.finalized_=!1),n}var W=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let i;if("function"!==typeof t&&a(6),void 0!==n&&"function"!==typeof n&&a(7),u(e)){const r=R(this),s=U(e,void 0);let a=!0;try{i=t(s),a=!1}finally{a?E(r):O(r)}return A(r,n),L(i,r)}if(!e||"object"!==typeof e){if(i=t(e),void 0===i&&(i=e),i===r&&(i=void 0),this.autoFreeze_&&w(i,!0),n){const t=[],r=[];I("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}a(1)},this.produceWithPatches=(e,t)=>{if("function"===typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){u(e)||a(8),l(e)&&(e=function(e){l(e)||a(10);return V(e)}(e));const t=R(this),n=U(e,void 0);return n[s].isManual_=!0,O(t),n}finishDraft(e,t){const n=e&&e[s];n&&n.isManual_||a(9);const{scope_:r}=n;return A(r,t),L(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=I("Patches").applyPatches_;return l(e)?r(e,t):this.produce(e,e=>r(e,t))}},H=W.produce;var G=n(8878);function q(e,t){return(0,G.useReducer)((t,n)=>H(t,t=>{e[n.action](t,n.payload)}),t)}function K(e){const[t,n]=(0,G.useState)(e);return(0,G.useEffect)(()=>{n(e)},[e]),[t,n]}},9651:(e,t,n)=>{"use strict";n.d(t,{$L:()=>l,KK:()=>u,RY:()=>o,_b:()=>S,te:()=>m,ti:()=>_,vu:()=>w,xo:()=>p,z7:()=>c});var r=n(2469),i=n(742),s=n(5874),a=n(3096);const o=1,l=0;function u(e){return"false"===e||"true"===e||"0"===e||"1"===e}class c{name;width;state;next=[];constructor(e,t=1){this.name=e,this.width=t,this.state=(0,i.y)(0,this.width).map(()=>l)}ensureWidth(e){(0,r.vA)(e<=16,`Cannot widen past 16 to ${e} bits`),this.width<e&&(this.width=e,this.state=[...this.state,...(0,i.y)(this.width,e).map(()=>l)])}connect(e){this.next.push(e),e.busVoltage=this.busVoltage}pull(e,t=0){(0,r.vA)(t>=0&&t<this.width,`Bit out of bounds: ${this.name}@${t}`),this.state[t]=e,this.next.forEach(n=>n.pull(e,t))}voltage(e=0){return(0,r.vA)(e>=0&&e<this.width),this.state[e]}set busVoltage(e){for(const t of(0,i.y)(0,this.width))this.state[t]=(e&1<<t)>>t;this.next.forEach(e=>e.busVoltage=this.busVoltage)}get busVoltage(){return(0,i.y)(0,this.width).reduce((e,t)=>e|this.state[t]<<t,0)}toggle(e=0){const t=this.voltage(e)===l?o:l;this.pull(t,e)}}class d extends c{bus;start;width;constructor(e,t,n=1){super(e.name),this.bus=e,this.start=t,this.width=n,(0,r.vA)(t>=0&&t+n<=e.width,`Mismatched InSubBus dimensions on ${e.name} (${n} + ${t} > ${e.width})`),this.connect(e)}pull(e,t=0){(0,r.vA)(t>=0&&t<this.width),this.bus.pull(e,this.start+t)}voltage(e=0){return(0,r.vA)(e>=0&&e<this.width),this.bus.voltage(this.start+e)}set busVoltage(e){const t=this.bus.busVoltage&~x(this.width+this.start),n=this.bus.busVoltage&x(this.start),r=(e&x(this.width))<<this.start;this.bus.busVoltage=t|r|n}get busVoltage(){return this.bus.busVoltage>>this.start&x(this.width)}connect(e){(0,r.vA)(this.start+this.width<=e.width,`Mismatched InSubBus connection dimensions (From ${e.name} to ${this.name})`),this.bus=e}}class h extends c{bus;start;width;constructor(e,t,n=1){super(e.name),this.bus=e,this.start=t,this.width=n,(0,r.vA)(t>=0&&n<=e.width,"Mismatched OutSubBus dimensions"),this.connect(e)}pull(e,t=0){t>=this.start&&t<this.start+this.width&&this.bus.pull(e,t-this.start)}set busVoltage(e){this.bus.busVoltage=(e&x(this.width+this.start))>>this.start}get busVoltage(){return this.bus.busVoltage>>this.start&x(this.width)}connect(e){(0,r.vA)(this.width<=e.width,"Mismatched OutSubBus connection dimensions"),this.bus=e}}class p extends c{value;constructor(e,t){super(e,16),this.value=t}pullHigh(e=0){}pullLow(e=0){}voltage(e=0){return 1&this.busVoltage}set busVoltage(e){}get busVoltage(){return this.value}}const f=new p("true",65535),m=new p("false",0);function g(e){const{pin:t,w:n}=e.match(/(?<pin>[a-zA-Z]+)(\[(?<w>\d+)\])?/)?.groups;return{pin:t,width:n?Number(n):1}}class y{map=new Map;insert(e){const{name:t}=e;(0,r.vA)(!this.map.has(t),`Pins already has ${t}!`),this.map.set(t,e)}emplace(e,t){if(this.has(e))return(0,r.Z1)(this.get(e));{const n=new c(e,t);return this.insert(n),n}}has(e){return this.map.has(e)}get(e){return this.map.get(e)}entries(){return this.map.values()}[Symbol.iterator](){return this.map[Symbol.iterator]()}}function v(e,t,n){return e+t<=n.width?(0,s.Ok)():(0,s._)(`Sub-bus index out of range (${n.name} has width ${n.width})`)}let b=0;class w{name;id=b++;ins=new y;outs=new y;pins=new y;insToPart=new Map;partToOuts=new Map;parts=[];clockedPins;clockSubscription;get clocked(){if(this.clockedPins.size>0)return!0;for(const e of this.parts)if(e.clocked)return!0;return!1}constructor(e,t,n,r=[],i=[]){this.name=n;for(const s of e){const{pin:e,width:t=1}=void 0!==s.pin?s:g(s);this.ins.insert(new c(e,t))}for(const s of t){const{pin:e,width:t=1}=void 0!==s.pin?s:g(s);this.outs.insert(new c(e,t))}for(const s of r){const{pin:e,width:t=1}=void 0!==s.pin?s:g(s);this.pins.insert(new c(e,t))}this.clockedPins=new Set(i),this.subscribeToClock()}subscribeToClock(){this.clockSubscription?.unsubscribe(),this.clockSubscription=a.z.subscribe(()=>this.eval())}reset(){for(const[e,t]of this.ins)t.busVoltage=0;for(const e of this.parts)e.reset();this.eval()}in(e="in"){return(0,r.vA)(this.hasIn(e),`No in pin ${e}`),(0,r.Z1)(this.ins.get(e))}out(e="out"){return(0,r.vA)(this.hasOut(e),`No in pin ${e}`),(0,r.Z1)(this.outs.get(e))}hasIn(e){return this.ins.has(e)}hasOut(e){return this.outs.has(e)}pin(e){return(0,r.vA)(this.pins.has(e),"Pin not available in "),(0,r.Z1)(this.pins.get(e))}get(e,t){return this.ins.has(e)?(0,r.Z1)(this.ins.get(e)):this.outs.has(e)?(0,r.Z1)(this.outs.get(e)):this.pins.has(e)?(0,r.Z1)(this.pins.get(e)):this.getBuiltin(e,t)}getBuiltin(e,t=0){if(k.includes(e))for(const n of this.parts){const r=n.get(e,t);if(r)return r}}isInPin(e){return this.ins.has(e)}isOutPin(e){return this.outs.has(e)}isExternalPin(e){return this.isInPin(e)||this.isOutPin(e)||u(e)}isInternalPin(e){return!this.isExternalPin(e)}pathExists(e,t){const n=[e];for(;n.length>0;){const e=(0,r.Z1)(n.pop());if("string"==typeof e){if(e==t)return!0;n.push(...this.insToPart.get(e)??[])}else n.push(...this.partToOuts.get(e)??[])}return!1}isClockedPin(e){return this.isInPin(e)?![...this.outs].some(([t,n])=>this.pathExists(e,t)):![...this.ins].some(([t,n])=>this.pathExists(t,e))}hasConnection(e,t){return[...this.partToOuts.get(e)??[]].some(e=>this.insToPart.get(e)?.has(t))}wire(e,t){for(let n=0;n<t.length;n++){const{from:r,to:i}=t[n];if(e.isOutPin(i.name)){const t=this.wireOutPin(e,i,r);if((0,s.ys)(t))return(0,s._)({wireIndex:n,lhs:(0,s._)(t).lhs,message:(0,s._)(t).message})}else{const t=this.wireInPin(e,i,r);if((0,s.ys)(t))return(0,s._)({wireIndex:n,lhs:(0,s._)(t).lhs,message:(0,s._)(t).message})}}return this.parts.push(e),(0,s.Ok)()}wireAll(e){for(const{part:t,connections:n}of e)this.wire(t,n);this.sortParts()}sortParts(){const e=[],t=new Set,n=new Set,i=this.parts.map(e=>({part:e,isReturning:!1}));for(;i.length>0;){const s=(0,r.Z1)(i.pop());if(s.isReturning)t.add(s.part),e.push(s.part);else if(!t.has(s.part)){if(n.has(s.part))return!0;n.add(s.part),i.push({part:s.part,isReturning:!0});for(const e of this.partToOuts.get(s.part)??[])i.push(...Array.from(this.insToPart.get(e)??[]).filter(e=>!t.has(e)).map(e=>({part:e,isReturning:!1})))}}return this.parts=e.reverse(),!1}findPin(e,t){return"true"===e||"1"===e?f:"false"===e||"0"===e?m:this.ins.has(e)?(0,r.Z1)(this.ins.get(e)):this.outs.has(e)?(0,r.Z1)(this.outs.get(e)):this.pins.emplace(e,t)}wireOutPin(e,t,n){const i=(0,r.Z1)(e.outs.get(t.name),()=>`Cannot wire to missing pin ${t.name}`);t.width??=i.width;let a=this.findPin(n.name,n.width??t.width);const o=this.pins.has(a.name);if(n.width??=a.width,a instanceof p)return(0,s._)({message:"Cannot wire to constant bus",lhs:!0});if(o&&a instanceof c&&a.ensureWidth(n.start+n.width),n.start>0||n.width!==a.width){const e=v(n.start,n.width,a);if((0,s.ys)(e))return(0,s._)({message:(0,s._)(e),lhs:!0});a=new d(a,n.start,n.width)}if(t.start>0||t.width!==i.width){const e=v(t.start,t.width,i);if((0,s.ys)(e))return(0,s._)({message:(0,s._)(e),lhs:!1});a=new h(a,t.start,t.width)}if(!e.clockedPins.has(i.name)){const t=this.partToOuts.get(e)??new Set;t.add(a.name),this.partToOuts.set(e,t)}if(this.sortParts()){const t=this.partToOuts.get(e)??new Set;return t.delete(a.name),this.partToOuts.set(e,t),(0,s._)({message:"Circular pin dependency",lhs:!1})}return i.connect(a),(0,s.Ok)()}wireInPin(e,t,n){let i=(0,r.Z1)(e.ins.get(t.name),()=>`Cannot wire to missing pin ${t.name}`);t.width??=i.width;const a=this.findPin(n.name,n.width??t.width);if(n.width??=a.width,t.start>0||t.width!==i.width){const e=v(t.start,t.width,i);if((0,s.ys)(e))return(0,s._)({message:(0,s._)(e),lhs:!0});i=new d(i,t.start,t.width)}if(!["true","false"].includes(a.name)&&(n.start>0||n.width!==a.width)){const e=v(n.start,n.width,a);if((0,s.ys)(e))return(0,s._)({message:(0,s._)(e),lhs:!1});i=new h(i,n.start,n.width)}if(!e.clockedPins.has(i.name)){const t=this.insToPart.get(a.name)??new Set;t.add(e),this.insToPart.set(a.name,t)}if(this.sortParts()){const t=this.insToPart.get(a.name)??new Set;return t.delete(e),this.insToPart.set(a.name,t),(0,s._)({message:"Circular pin dependency",lhs:!0})}return a.connect(i),(0,s.Ok)()}eval(){for(const e of this.parts)f.next.forEach(e=>e.busVoltage=f.busVoltage),m.next.forEach(e=>e.busVoltage=m.busVoltage),e.eval()}tick(){this.eval()}tock(){this.eval()}remove(){this.clockSubscription?.unsubscribe();for(const e of this.parts)e.remove()}async load(e,t){for(const n of this.parts)"ROM32K"===n.name&&await n.load(e,t)}}class _ extends w{constructor(){super([],[]),this.outs.insert(m)}}class S extends w{get clocked(){return!0}subscribeToClock(){this.clockSubscription?.unsubscribe(),this.clockSubscription=a.z.subscribe(({level:e})=>{e===l?this.tock():this.tick()})}remove(){this.clockSubscription?.unsubscribe(),super.remove()}reset(){super.reset(),this.tick(),this.tock()}}function x(e){return Math.pow(2,e)-1}const k=["Register","ARegister","DRegister","PC","RAM8","RAM64","RAM512","RAM4K","RAM16K","ROM32K","Screen","Keyboard","Memory"]},9937:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var r=n(2469),i=n(4544),s=n(7844);class a{variable;fmt;lPad;rPad;len;index;builtin;constructor(e,t="%B1.1.1",n,i,s,a,o){if(this.variable=e,t.startsWith("%")&&void 0===n&&void 0===i&&void 0===s){const{fmt:e,lPad:n,rPad:r,len:i}=t.match(/^%(?<fmt>[BDXS])(?<lPad>\d+)\.(?<len>\d+)\.(?<rPad>\d+)$/)?.groups;this.fmt=e,this.lPad=parseInt(n),this.rPad=parseInt(r),this.len=parseInt(i),this.builtin=!1,this.index=-1}else(0,r.vA)(["B","X","D","S"].includes(t[0])),this.fmt=t[0],this.len=n??3,this.lPad=i??1,this.rPad=s??1,this.builtin=a??!1,this.index=o??-1}header(e){let t=`${this.variable}`;if(this.builtin){t=`${t}[${this.index>=0?this.index:""}]`}return t.length>this.len+this.lPad+this.rPad?t.substring(0,this.len+this.lPad+this.rPad):this.padCenter(t)}print(e){const t=e.getVar(this.variable,this.index);if("S"===this.fmt)return this.padLeft(t);const n=(0,{B:s.e5,D:s.FN,X:s.uh}[this.fmt])(t);return"D"===this.fmt?this.padRight(n):this.padLeft(n.slice(n.length-this.len))}padCenter(e){const t=this.lPad+this.len+this.rPad,n=Math.floor((t-e.length)/2),r=t-n-e.length,i=n+e.length,s=i+r;return e=(e=e.padStart(i)).padEnd(s)}padLeft(e){e=e.substring(0,this.len);const t=this.rPad+this.len,n=this.lPad+t;return e=(e=e.padEnd(t)).padStart(n)}padRight(e){e=e.substring(0,this.len);const t=this.lPad+this.len,n=this.rPad+t;return e=(e=e.padStart(t)).padEnd(n)}}var o=n(4867);class l{instructions=[];_outputList=[];_log="";fs=new i.Q2;doEcho;doCompareTo;dir;outputFileName;constructor(e,t,n){this.doEcho=t,this.doCompareTo=n,this.dir=e}setFileSystem(e){return this.fs=e,this}echo(e){this.doEcho?.(e)}clearEcho(){this.doEcho?.("")}async loadROM(e){}async load(e){}async compareTo(e){this.doCompareTo?.(e)}outputFile(e){this.outputFileName=e}createOutputs(e){return e.map(e=>{if(-1===e.len)if("time"===e.id)e.len=7,e.style="S";else{const t=this.getWidth(e.id,e.address);"B"===e.style?e.len=t:"D"===e.style?e.len=Math.ceil(Math.log(t)):"X"===e.style&&(e.len=Math.ceil(t/4))}return new a(e.id,e.style,e.len,e.lpad,e.rpad,e.builtin,e.address)})}outputList(e){this._outputList=this.createOutputs(e)}addInstruction(e){this.instructions.push(e)}reset(){return this._steps=function*(e){for(const t of e.instructions)yield*t.steps(e)}(this),this._step=this._steps.next(),this._log="",this}_steps;_step;get steps(){return void 0===this._steps&&(this.reset(),this._steps=(0,r.Z1)(this._steps,"Reset did not initialize steps"),this._step=(0,r.Z1)(this._step,"Reset did not find first step")),this._steps}get currentStep(){return this._step?.value}get done(){return this._step?.done??!1}async step(){for(;!this._step.done;){if(await this._step.value.do(this),this._step=this.steps.next(),this._step.value instanceof o.fe)return this._step=this.steps.next(),!1;if(this._step.value instanceof o.Ge)return!0}return!0}async run(){for(this.reset();!await this.step(););}breakpoints=new Map;addBreakpoint(e,t){this.breakpoints.set(e,t)}clearBreakpoints(){this.breakpoints.clear()}output(){const e=this._outputList.map(e=>e.print(this));this._log+=`|${e.join("|")}|\n`}header(){const e=this._outputList.map(e=>e.header(this));this._log+=`|${e.join("|")}|\n`}log(){return this._log}}},9976:(e,t,n)=>{"use strict";n.d(t,{G:()=>h,d:()=>u});var r=n(2469),i=n(5874),s=n(1106),a=n(6418),o=n(4867),l=n(8783);function u(e){return void 0!==e.op}function c(e){return void 0!==e.condition}function d(e){const{op:t}=e;switch(t){case"tick":return new s.IJ;case"tock":return new s.CX;case"ticktock":return new a.zB;case"eval":return new s.Nq;case"vmstep":return new l.a;case"output":return new o.ik;case"set":return new o.jl(e.id,e.value,e.index);case"output-list":return new o.Ad(e.spec);case"echo":return new o.S0(e.message);case"clear-echo":return new o.Tn;case"loadRom":return new o.fK(e.file);case"load":return new o.hh(e.file);case"output-file":return new o.gM(e.file);case"compare-to":return new o.Rh(e.file);case"resetRam":return new a.aC;default:(0,r.H8)(t,`Unknown tst operation ${t}`)}}function h(e,t,n=!0){let r,s=[],a=e,l=[],h=!1;for(const i of t.lines){if(u(i))a=e,l=[i];else{const t=c(i)?new o.eB(new o.kW(i.condition.left,i.condition.right,i.condition.op)):new o.UM(i.count);t.span=i.span,e.addInstruction(t),a=t,l=i.statements}for(const e of l){"load"==e.op.op&&(h=!0);const t=d(e.op);if(void 0!==t&&(void 0===r?r=i.span:r.end=i.span.end,a.addInstruction(t),s.push(t)),","!=e.separator){";"==e.separator?a.addInstruction(new o.fe(r??e.span)):"!"==e.separator&&a.addInstruction(new o.Ge(r??e.span));for(const t of s)t.span=r??e.span;r=void 0,s=[]}}}return n&&!h?(0,i._)(new Error("A test script must have a load command")):(e.reset(),(0,i.Ok)(e))}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{34:"29c7b333",62:"ac91fe53",88:"8d15b473",269:"1e46835e",288:"d856782d",297:"2c45dab0",408:"e6e0ca78",510:"e8014680",519:"2651a3e4",537:"9affe551",598:"78b59e7a",614:"5b5aab54",744:"160682c0",775:"e3b45140",787:"9df712a8",828:"e00c10f6",965:"7da00647",983:"c238da8d"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{34:"b72ed542",88:"a4d56472",408:"4548b55f",519:"eeda6fdd",598:"da4b2ef9",744:"2d37e905",775:"4e35528d",787:"080b7fb2"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@nand2tetris/web:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/web-ide/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise((t,r)=>{var i=n.miniCssF(e),s=n.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var a;if((i=(a=s[r]).getAttribute("data-href"))===e||i===t)return a}})(i,s))return t();((e,t,r,i,s)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc),a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)i();else{var r=n&&n.type,o=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,a.parentNode&&a.parentNode.removeChild(a),s(l)}},a.href=t,r?r.parentNode.insertBefore(a,r.nextSibling):document.head.appendChild(a)})(e,s,null,t,r)}),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{34:1,88:1,408:1,519:1,598:1,744:1,775:1,787:1}[n]&&r.push(t[n]=e(n).then(()=>{t[n]=0},e=>{throw delete t[n],e}))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[a,o,l]=r,u=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=globalThis.webpackChunk_nand2tetris_web=globalThis.webpackChunk_nand2tetris_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{messages:()=>x});var t={};n.r(t),n.d(t,{messages:()=>k});var r=n(8878),i=n(4664);const s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}var o=n(8256),l=n(1391),u=n(910);const c=(e,t)=>{const n=String(e).split("."),r=!n[1],i=Number(n[0])==e,s=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==s&&11!=a?"one":2==s&&12!=a?"two":3==s&&13!=a?"few":"other":1==e&&r?"one":"other"};var d=n(8330),h=n(3229),p=n(8029);const f={comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]},m={tokenizer:{root:[[/(@)(.+)/,["operator","keyword"]],[/(\()(.+)(\))/,["operator","keyword","operator"]],{include:"@whitespace"}],...f}},g={keywords:["class","int","char","boolean","void","let","function","method","constructor","var","if","do","while","else","return","true","false","null","this","field","static"],tokenizer:{root:[[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/\d+/,"number"],[/"[^"\n]*"/,"string"],{include:"@whitespace"}],...f}},y={defaultToken:"invalid",keywords:["CHIP","CPU","IN","OUT","PARTS","BUILTIN","CLOCKED"],chips:["Nand","Nand16","Not","Not16","And","And16","Or","Or16","Or8Way","XOr","XOr16","Xor","Xor16","Mux","Mux16","Mux4Way16","Mux8Way16","DMux","DMux4Way","DMux8Way","HalfAdder","FullAdder","Add16","Inc16","ALU","ALUNoStat","DFF","Bit","Register","ARegister","DRegister","PC","RAM8","RAM64","RAM512","RAM4K","RAM16K","ROM32K","Screen","Keyboard","CPU","Computer","Memory","ARegister","DRegister"],operators:["="],symbols:/[=]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z][a-zA-Z0-9]*/,{cases:{"@keywords":"keyword","@chips":"keyword.chip","@default":"identifier"}}],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/@\s*[a-zA-Z_$][\w$]*/,{token:"annotation",log:"annotation token: $0"}],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+(..\d+)?/,"number"],[/[;:,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/@escapes/,"string.escape"],[/'/,"string.invalid"]],...f}},v={Add16:"Add16(a= , b= , out= );",ALU:"ALU(x= , y= , zx= , nx= , zy= , ny= , f= , no= , out= , zr= , ng= );",And:"And(a= , b= , out= );",And16:"And16(a= , b= , out= );",ARegister:"ARegister(in= , load= , out= );",Bit:"Bit(in= , load= , out= );",CPU:"CPU(inM= , instruction= , reset= , outM= , writeM= , addressM= , pc= );",DFF:"DFF(in= , out= );",DMux:"DMux(in= , sel= , a= , b= );",DMux4Way:"DMux4Way(in= , sel= , a= , b= , c= , d= );",DMux8Way:"DMux8Way(in= , sel= , a= , b= , c= , d= , e= , f= , g= , h= );",DRegister:"DRegister(in= , load= , out= );",HalfAdder:"HalfAdder(a= , b= , sum= , carry= );",FullAdder:"FullAdder(a= , b= , c= , sum= , carry= );",Inc16:"Inc16(in= , out= );",Keyboard:"Keyboard(out= );",Memory:"Memory(in= , load= , address= , out= );",Mux:"Mux(a= , b= , sel= , out= );",Mux16:"Mux16(a= , b= , sel= , out= );",Mux4Way16:"Mux4Way16(a= , b= , c= , d= , sel= , out= );",Mux8Way16:"Mux8Way16(a= , b= , c= , d= , e= , f= , g= , h= , sel= , out= );",Nand:"Nand(a= , b= , out= );",Not16:"Not16(in= , out= );",Not:"Not(in= , out= );",Or:"Or(a= , b= , out= );",Or8Way:"Or8Way(in= , out= );",Or16:"Or16(a= , b= , out= );",PC:"PC(in= , load= , inc= , reset= , out= );",RAM8:"RAM8(in= , load= , address= , out= );",RAM64:"RAM64(in= , load= , address= , out= );",RAM512:"RAM512(in= , load= , address= , out= );",RAM4K:"RAM4K(in= , load= , address= , out= );",RAM16K:"RAM16K(in= , load= , address= , out= );",Register:"Register(in= , load= , out= );",ROM32K:"ROM32K(address= , out= );",Screen:"Screen(in= , load= , address= , out= );",Xor:"Xor(a= , b= , out= );"},b={provideCompletionItems:()=>({suggestions:Object.entries(v).map(([e,t])=>({label:e,kind:1,insertText:t}))})},w={hdl:y,cmp:{tokenizer:{root:[[/[a-z_$][\w$]*/,"identifier"],[/[ \t\r\n]+/,"white"],[/\d+\+?/,"number"],[/[|]/,"delimiter"]]}},tst:{defaultToken:"invalid",keywords:["output-list","compare-to","output-file","set","eval","output","echo","clear-echo","repeat","while","load","resetRam"],tokenizer:{root:[[/%[BDSX]\d+\.\d+\.\d+/,"keyword"],[/ROM32K/,"keyword"],[/[a-zA-Z-]+/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/%X[0-9a-fA-F]+/,"number.hex"],[/(%D)?\d+/,"number"],[/%B[01]+/,"number"],{include:"@whitespace"},[/[{}]/,"@bracket"],[/<>/,"operator"],[/[[\].]/,"operator"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[;:!,]/,"delimiter"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],string:[[/[^\\"]+/,"string"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}},vm:{keywords:["push","pop","add","sub","neg","lt","gt","eq","and","or","not","function","call","return","label","goto","if-goto","argument","local","static","constant","this","that","pointer","temp"],tokenizer:{root:[[/if-goto/,"keyword"],[/[_a-zA-Z][_a-zA-Z0-9.$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/\d+/,"number"],{include:"@whitespace"}],...f}},asm:m,jack:g},_={hdl:b};let S=!1;const x=JSON.parse('{"J/hVSQ":[["0"]],"pDgeaz":[["title"]],"Pza0F/":"Allocated memory size must be positive (Memory.alloc)","PH2rP+":"Allow anonymous interaction tracking","zh5lcC":"Array size must be positive (Array.new)","BUAJAb":"Binary Code","qK2xfn":"Browser Storage Reset","++LBSt":"Builtin","dEgA5A":"Cancel","qz/pK5":"CANCEL","RsyXWz":"Cannot compute square root of a negative number (Math.sqrt)","Ow/xRO":"Cannot test a chip that has syntax errors","lBZNSx":"Change folder","C7rK3y":"Chip","+yPBXI":"Choose file","3rHyAJ":"Clock","RG3szS":"close","C/8KpY":"Close the locally opened projects folder, and instead store your files in the browser\'s local storage.","UV+b1H":"Compare Code","oXeVWH":"Create a new file in the currently opened folder","A2O3d/":"Current projects folder","pvnfJD":"Dark","iGq+of":"Division by zero (Math.divide)","mzI/c+":"Download","Ovrln6":"Download .hdl files","nIO5Q9":"Download (one time) before using PC Storage","qqcblq":"Download all files in this folder into a zip","QiMEIu":"Download the projects folder","9dwWEz":"Duration must be positive (Sys.wait)","uBAxNB":"Editor","lYGfRP":"English","J3L683":"Eval","7Bj3x9":"Failed","A9bii0":"Failed to load local file system.","7Ycqgt":"File System User Guide","EqbNAN":"Heap overflow (Memory.alloc)","SLzG45":"Illegal center coordinates (Screen.drawCircle)","EQU4AC":"Illegal cursor location (Output.moveCursor)","y4CC1u":"Illegal line coordinates (Screen.drawLine)","Lo+J/U":"Illegal pixel coordinates (Screen.drawPixel)","ijwovO":"Illegal radius (Screen.drawCircle)","5tI3XX":"Illegal rectangle coordinates (Screen.drawRectangle)","DmVb6w":"Incomplete Setup","fkP0ib":"Insufficient string capacity (String.setInt)","vXIe7J":"Language","1njn7W":"Light","1/5eLk":"Load the compiled code into the VM emulator","Ng9wMt":"Local Project Files","etZuY4":"Maximum length must be non-negative (String.new)","O19i6v":"Must be done (one time) if you want to use PC storage","/9CGGW":"Must be done (one-time) before selecting \\"use PC Storage\\"","QtwpF9":"NAND2Tetris Project Files","dRyYQW":"Not selected","aP3N/0":"Ok","FZeS2z":"Open a folder containing Jack file(s)","1tSpqV":"Parse Error","nqMwPi":"Passed","e0NrBM":"Project","xuLVjK":"Project files","410Mrf":"Projects folder location (on your PC)","E+NWKU":"Pseudolocale","9aloPG":"References","rdShiY":"Registers","OfhWJH":"Reset","C7sVfs":"RESET","+dqRRG":"Reset browser storage files","rG3WVm":"Select","k3v5G3":"Select a different projects folder","/73uX+":"Select a different projects folder stored on your PC","9IPDcR":"Select a projects folder","i/FBLv":"Select folder","zE4ToC":"Select Folder","7TboZZ":"Select Projects Folder","uMlnHD":"Select the folder where the projects are stored on your PC","Tz0i8g":"Settings","wdxz7K":"Source","GbPVvk":"String index out of bounds (String.charAt)","IgLZZI":"String index out of bounds (String.setCharAt)","RE1zuN":"String is empty (String.eraseLastChar)","CACwfm":"String is full (String.appendChar)","LWSJ0G":"Symbol Table","RFMyN+":"Syntax errors in the HDL code or test","D+NlUC":"System","NnH3pK":"Test","FEr96N":"Theme","U0HZma":"Tracking","SUTY2p":"Use browser storage","eR7+zo":"Use Browser Storage","zQo0yv":"Use Monaco Editor","eqj1vQ":"Use PC storage","q3JCcX":"Visualization","1qK+lw":"VM Code","2BSTzk":"VM Structures","6l2IL9":"Works on Chrome, Edge, Opera, and other Chromium-based browsers","l75CjT":"Yes","Ox/B9h":"You chose use pc storage but didn\'t select a folder in your PC","MBxUv8":"You chose use pc storage but didn\'t select the folder in your PC","hDh8R1":"Your files were reset"}'),k=JSON.parse('{"J/hVSQ":[["0"]],"pDgeaz":[["title"]],"Pza0F/":"\xc0\u013a\u013a\u014d\u0107\xe0\u0163\u0113\u010f \u1e3f\u0113\u1e3f\u014d\u0155\u0177 \u015b\u0129\u017a\u0113 \u1e3f\u0169\u015b\u0163 \u0180\u0113 \u01a5\u014d\u015b\u0129\u0163\u0129v\u0113 (\u1e3e\u0113\u1e3f\u014d\u0155\u0177.\xe0\u013a\u013a\u014d\u0107)","PH2rP+":"\xc0\u013a\u013a\u014d\u0175 \xe0\u0144\u014d\u0144\u0177\u1e3f\u014d\u0169\u015b \u0129\u0144\u0163\u0113\u0155\xe0\u0107\u0163\u0129\u014d\u0144 \u0163\u0155\xe0\u0107\u0137\u0129\u0144\u011d","zh5lcC":"\xc0\u0155\u0155\xe0\u0177 \u015b\u0129\u017a\u0113 \u1e3f\u0169\u015b\u0163 \u0180\u0113 \u01a5\u014d\u015b\u0129\u0163\u0129v\u0113 (\xc0\u0155\u0155\xe0\u0177.\u0144\u0113\u0175)","BUAJAb":"\xdf\u0129\u0144\xe0\u0155\u0177 \u0106\u014d\u010f\u0113","qK2xfn":"\xdf\u0155\u014d\u0175\u015b\u0113\u0155 \u015a\u0163\u014d\u0155\xe0\u011d\u0113 \u0154\u0113\u015b\u0113\u0163","++LBSt":"\xdf\u0169\u0129\u013a\u0163\u0129\u0144","dEgA5A":"\u0106\xe0\u0144\u0107\u0113\u013a","qz/pK5":"\u0106\xc0\u0143\u0106\u0112\u0139","RsyXWz":"\u0106\xe0\u0144\u0144\u014d\u0163 \u0107\u014d\u1e3f\u01a5\u0169\u0163\u0113 \u015b\u01eb\u0169\xe0\u0155\u0113 \u0155\u014d\u014d\u0163 \u014d\u0192 \xe0 \u0144\u0113\u011d\xe0\u0163\u0129v\u0113 \u0144\u0169\u1e3f\u0180\u0113\u0155 (\u1e3e\xe0\u0163\u0125.\u015b\u01eb\u0155\u0163)","Ow/xRO":"\u0106\xe0\u0144\u0144\u014d\u0163 \u0163\u0113\u015b\u0163 \xe0 \u0107\u0125\u0129\u01a5 \u0163\u0125\xe0\u0163 \u0125\xe0\u015b \u015b\u0177\u0144\u0163\xe0x \u0113\u0155\u0155\u014d\u0155\u015b","lBZNSx":"\u0106\u0125\xe0\u0144\u011d\u0113 \u0192\u014d\u013a\u010f\u0113\u0155","C7rK3y":"\u0106\u0125\u0129\u01a5","+yPBXI":"\u0106\u0125\u014d\u014d\u015b\u0113 \u0192\u0129\u013a\u0113","3rHyAJ":"\u0106\u013a\u014d\u0107\u0137","RG3szS":"\u0107\u013a\u014d\u015b\u0113","C/8KpY":"\u0106\u013a\u014d\u015b\u0113 \u0163\u0125\u0113 \u013a\u014d\u0107\xe0\u013a\u013a\u0177 \u014d\u01a5\u0113\u0144\u0113\u010f \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155, \xe0\u0144\u010f \u0129\u0144\u015b\u0163\u0113\xe0\u010f \u015b\u0163\u014d\u0155\u0113 \u0177\u014d\u0169\u0155 \u0192\u0129\u013a\u0113\u015b \u0129\u0144 \u0163\u0125\u0113 \u0180\u0155\u014d\u0175\u015b\u0113\u0155\'\u015b \u013a\u014d\u0107\xe0\u013a \u015b\u0163\u014d\u0155\xe0\u011d\u0113.","UV+b1H":"\u0106\u014d\u1e3f\u01a5\xe0\u0155\u0113 \u0106\u014d\u010f\u0113","oXeVWH":"\u0106\u0155\u0113\xe0\u0163\u0113 \xe0 \u0144\u0113\u0175 \u0192\u0129\u013a\u0113 \u0129\u0144 \u0163\u0125\u0113 \u0107\u0169\u0155\u0155\u0113\u0144\u0163\u013a\u0177 \u014d\u01a5\u0113\u0144\u0113\u010f \u0192\u014d\u013a\u010f\u0113\u0155","A2O3d/":"\u0106\u0169\u0155\u0155\u0113\u0144\u0163 \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155","pvnfJD":"\u010e\xe0\u0155\u0137","iGq+of":"\u010e\u0129v\u0129\u015b\u0129\u014d\u0144 \u0180\u0177 \u017a\u0113\u0155\u014d (\u1e3e\xe0\u0163\u0125.\u010f\u0129v\u0129\u010f\u0113)","mzI/c+":"\u010e\u014d\u0175\u0144\u013a\u014d\xe0\u010f","Ovrln6":"\u010e\u014d\u0175\u0144\u013a\u014d\xe0\u010f .\u0125\u010f\u013a \u0192\u0129\u013a\u0113\u015b","nIO5Q9":"\u010e\u014d\u0175\u0144\u013a\u014d\xe0\u010f (\u014d\u0144\u0113 \u0163\u0129\u1e3f\u0113) \u0180\u0113\u0192\u014d\u0155\u0113 \u0169\u015b\u0129\u0144\u011d \u01a4\u0106 \u015a\u0163\u014d\u0155\xe0\u011d\u0113","qqcblq":"\u010e\u014d\u0175\u0144\u013a\u014d\xe0\u010f \xe0\u013a\u013a \u0192\u0129\u013a\u0113\u015b \u0129\u0144 \u0163\u0125\u0129\u015b \u0192\u014d\u013a\u010f\u0113\u0155 \u0129\u0144\u0163\u014d \xe0 \u017a\u0129\u01a5","QiMEIu":"\u010e\u014d\u0175\u0144\u013a\u014d\xe0\u010f \u0163\u0125\u0113 \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155","9dwWEz":"\u010e\u0169\u0155\xe0\u0163\u0129\u014d\u0144 \u1e3f\u0169\u015b\u0163 \u0180\u0113 \u01a5\u014d\u015b\u0129\u0163\u0129v\u0113 (\u015a\u0177\u015b.\u0175\xe0\u0129\u0163)","uBAxNB":"\u0112\u010f\u0129\u0163\u014d\u0155","lYGfRP":"\u0112\u0144\u011d\u013a\u0129\u015b\u0125","J3L683":"\u0112v\xe0\u013a","7Bj3x9":"\u0191\xe0\u0129\u013a\u0113\u010f","A9bii0":"\u0191\xe0\u0129\u013a\u0113\u010f \u0163\u014d \u013a\u014d\xe0\u010f \u013a\u014d\u0107\xe0\u013a \u0192\u0129\u013a\u0113 \u015b\u0177\u015b\u0163\u0113\u1e3f.","7Ycqgt":"\u0191\u0129\u013a\u0113 \u015a\u0177\u015b\u0163\u0113\u1e3f \u0168\u015b\u0113\u0155 \u011c\u0169\u0129\u010f\u0113","EqbNAN":"\u0124\u0113\xe0\u01a5 \u014dv\u0113\u0155\u0192\u013a\u014d\u0175 (\u1e3e\u0113\u1e3f\u014d\u0155\u0177.\xe0\u013a\u013a\u014d\u0107)","SLzG45":"\u0128\u013a\u013a\u0113\u011d\xe0\u013a \u0107\u0113\u0144\u0163\u0113\u0155 \u0107\u014d\u014d\u0155\u010f\u0129\u0144\xe0\u0163\u0113\u015b (\u015a\u0107\u0155\u0113\u0113\u0144.\u010f\u0155\xe0\u0175\u0106\u0129\u0155\u0107\u013a\u0113)","EQU4AC":"\u0128\u013a\u013a\u0113\u011d\xe0\u013a \u0107\u0169\u0155\u015b\u014d\u0155 \u013a\u014d\u0107\xe0\u0163\u0129\u014d\u0144 (\u014c\u0169\u0163\u01a5\u0169\u0163.\u1e3f\u014dv\u0113\u0106\u0169\u0155\u015b\u014d\u0155)","y4CC1u":"\u0128\u013a\u013a\u0113\u011d\xe0\u013a \u013a\u0129\u0144\u0113 \u0107\u014d\u014d\u0155\u010f\u0129\u0144\xe0\u0163\u0113\u015b (\u015a\u0107\u0155\u0113\u0113\u0144.\u010f\u0155\xe0\u0175\u0139\u0129\u0144\u0113)","Lo+J/U":"\u0128\u013a\u013a\u0113\u011d\xe0\u013a \u01a5\u0129x\u0113\u013a \u0107\u014d\u014d\u0155\u010f\u0129\u0144\xe0\u0163\u0113\u015b (\u015a\u0107\u0155\u0113\u0113\u0144.\u010f\u0155\xe0\u0175\u01a4\u0129x\u0113\u013a)","ijwovO":"\u0128\u013a\u013a\u0113\u011d\xe0\u013a \u0155\xe0\u010f\u0129\u0169\u015b (\u015a\u0107\u0155\u0113\u0113\u0144.\u010f\u0155\xe0\u0175\u0106\u0129\u0155\u0107\u013a\u0113)","5tI3XX":"\u0128\u013a\u013a\u0113\u011d\xe0\u013a \u0155\u0113\u0107\u0163\xe0\u0144\u011d\u013a\u0113 \u0107\u014d\u014d\u0155\u010f\u0129\u0144\xe0\u0163\u0113\u015b (\u015a\u0107\u0155\u0113\u0113\u0144.\u010f\u0155\xe0\u0175\u0154\u0113\u0107\u0163\xe0\u0144\u011d\u013a\u0113)","DmVb6w":"\u0128\u0144\u0107\u014d\u1e3f\u01a5\u013a\u0113\u0163\u0113 \u015a\u0113\u0163\u0169\u01a5","fkP0ib":"\u0128\u0144\u015b\u0169\u0192\u0192\u0129\u0107\u0129\u0113\u0144\u0163 \u015b\u0163\u0155\u0129\u0144\u011d \u0107\xe0\u01a5\xe0\u0107\u0129\u0163\u0177 (\u015a\u0163\u0155\u0129\u0144\u011d.\u015b\u0113\u0163\u0128\u0144\u0163)","vXIe7J":"\u0139\xe0\u0144\u011d\u0169\xe0\u011d\u0113","1njn7W":"\u0139\u0129\u011d\u0125\u0163","1/5eLk":"\u0139\u014d\xe0\u010f \u0163\u0125\u0113 \u0107\u014d\u1e3f\u01a5\u0129\u013a\u0113\u010f \u0107\u014d\u010f\u0113 \u0129\u0144\u0163\u014d \u0163\u0125\u0113 V\u1e3e \u0113\u1e3f\u0169\u013a\xe0\u0163\u014d\u0155","Ng9wMt":"\u0139\u014d\u0107\xe0\u013a \u01a4\u0155\u014d\u0134\u0113\u0107\u0163 \u0191\u0129\u013a\u0113\u015b","etZuY4":"\u1e3e\xe0x\u0129\u1e3f\u0169\u1e3f \u013a\u0113\u0144\u011d\u0163\u0125 \u1e3f\u0169\u015b\u0163 \u0180\u0113 \u0144\u014d\u0144-\u0144\u0113\u011d\xe0\u0163\u0129v\u0113 (\u015a\u0163\u0155\u0129\u0144\u011d.\u0144\u0113\u0175)","O19i6v":"\u1e3e\u0169\u015b\u0163 \u0180\u0113 \u010f\u014d\u0144\u0113 (\u014d\u0144\u0113 \u0163\u0129\u1e3f\u0113) \u0129\u0192 \u0177\u014d\u0169 \u0175\xe0\u0144\u0163 \u0163\u014d \u0169\u015b\u0113 \u01a4\u0106 \u015b\u0163\u014d\u0155\xe0\u011d\u0113","/9CGGW":"\u1e3e\u0169\u015b\u0163 \u0180\u0113 \u010f\u014d\u0144\u0113 (\u014d\u0144\u0113-\u0163\u0129\u1e3f\u0113) \u0180\u0113\u0192\u014d\u0155\u0113 \u015b\u0113\u013a\u0113\u0107\u0163\u0129\u0144\u011d \\"\u0169\u015b\u0113 \u01a4\u0106 \u015a\u0163\u014d\u0155\xe0\u011d\u0113\\"","QtwpF9":"\u0143\xc0\u0143\u010e2\u0162\u0113\u0163\u0155\u0129\u015b \u01a4\u0155\u014d\u0134\u0113\u0107\u0163 \u0191\u0129\u013a\u0113\u015b","dRyYQW":"\u0143\u014d\u0163 \u015b\u0113\u013a\u0113\u0107\u0163\u0113\u010f","aP3N/0":"\u014c\u0137","FZeS2z":"\u014c\u01a5\u0113\u0144 \xe0 \u0192\u014d\u013a\u010f\u0113\u0155 \u0107\u014d\u0144\u0163\xe0\u0129\u0144\u0129\u0144\u011d \u0135\xe0\u0107\u0137 \u0192\u0129\u013a\u0113(\u015b)","1tSpqV":"\u01a4\xe0\u0155\u015b\u0113 \u0112\u0155\u0155\u014d\u0155","nqMwPi":"\u01a4\xe0\u015b\u015b\u0113\u010f","e0NrBM":"\u01a4\u0155\u014d\u0134\u0113\u0107\u0163","xuLVjK":"\u01a4\u0155\u014d\u0134\u0113\u0107\u0163 \u0192\u0129\u013a\u0113\u015b","410Mrf":"\u01a4\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155 \u013a\u014d\u0107\xe0\u0163\u0129\u014d\u0144 (\u014d\u0144 \u0177\u014d\u0169\u0155 \u01a4\u0106)","E+NWKU":"\u01a4\u015b\u0113\u0169\u010f\u014d\u013a\u014d\u0107\xe0\u013a\u0113","9aloPG":"\u0154\u0113\u0192\u0113\u0155\u0113\u0144\u0107\u0113\u015b","rdShiY":"\u0154\u0113\u011d\u0129\u015b\u0163\u0113\u0155\u015b","OfhWJH":"\u0154\u0113\u015b\u0113\u0163","C7sVfs":"\u0154\u0112\u015a\u0112\u0162","+dqRRG":"\u0154\u0113\u015b\u0113\u0163 \u0180\u0155\u014d\u0175\u015b\u0113\u0155 \u015b\u0163\u014d\u0155\xe0\u011d\u0113 \u0192\u0129\u013a\u0113\u015b","rG3WVm":"\u015a\u0113\u013a\u0113\u0107\u0163","k3v5G3":"\u015a\u0113\u013a\u0113\u0107\u0163 \xe0 \u010f\u0129\u0192\u0192\u0113\u0155\u0113\u0144\u0163 \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155","/73uX+":"\u015a\u0113\u013a\u0113\u0107\u0163 \xe0 \u010f\u0129\u0192\u0192\u0113\u0155\u0113\u0144\u0163 \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155 \u015b\u0163\u014d\u0155\u0113\u010f \u014d\u0144 \u0177\u014d\u0169\u0155 \u01a4\u0106","9IPDcR":"\u015a\u0113\u013a\u0113\u0107\u0163 \xe0 \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0192\u014d\u013a\u010f\u0113\u0155","i/FBLv":"\u015a\u0113\u013a\u0113\u0107\u0163 \u0192\u014d\u013a\u010f\u0113\u0155","zE4ToC":"\u015a\u0113\u013a\u0113\u0107\u0163 \u0191\u014d\u013a\u010f\u0113\u0155","7TboZZ":"\u015a\u0113\u013a\u0113\u0107\u0163 \u01a4\u0155\u014d\u0134\u0113\u0107\u0163\u015b \u0191\u014d\u013a\u010f\u0113\u0155","uMlnHD":"\u015a\u0113\u013a\u0113\u0107\u0163 \u0163\u0125\u0113 \u0192\u014d\u013a\u010f\u0113\u0155 \u0175\u0125\u0113\u0155\u0113 \u0163\u0125\u0113 \u01a5\u0155\u014d\u0134\u0113\u0107\u0163\u015b \xe0\u0155\u0113 \u015b\u0163\u014d\u0155\u0113\u010f \u014d\u0144 \u0177\u014d\u0169\u0155 \u01a4\u0106","Tz0i8g":"\u015a\u0113\u0163\u0163\u0129\u0144\u011d\u015b","wdxz7K":"\u015a\u014d\u0169\u0155\u0107\u0113","GbPVvk":"\u015a\u0163\u0155\u0129\u0144\u011d \u0129\u0144\u010f\u0113x \u014d\u0169\u0163 \u014d\u0192 \u0180\u014d\u0169\u0144\u010f\u015b (\u015a\u0163\u0155\u0129\u0144\u011d.\u0107\u0125\xe0\u0155\xc0\u0163)","IgLZZI":"\u015a\u0163\u0155\u0129\u0144\u011d \u0129\u0144\u010f\u0113x \u014d\u0169\u0163 \u014d\u0192 \u0180\u014d\u0169\u0144\u010f\u015b (\u015a\u0163\u0155\u0129\u0144\u011d.\u015b\u0113\u0163\u0106\u0125\xe0\u0155\xc0\u0163)","RE1zuN":"\u015a\u0163\u0155\u0129\u0144\u011d \u0129\u015b \u0113\u1e3f\u01a5\u0163\u0177 (\u015a\u0163\u0155\u0129\u0144\u011d.\u0113\u0155\xe0\u015b\u0113\u0139\xe0\u015b\u0163\u0106\u0125\xe0\u0155)","CACwfm":"\u015a\u0163\u0155\u0129\u0144\u011d \u0129\u015b \u0192\u0169\u013a\u013a (\u015a\u0163\u0155\u0129\u0144\u011d.\xe0\u01a5\u01a5\u0113\u0144\u010f\u0106\u0125\xe0\u0155)","LWSJ0G":"\u015a\u0177\u1e3f\u0180\u014d\u013a \u0162\xe0\u0180\u013a\u0113","RFMyN+":"\u015a\u0177\u0144\u0163\xe0x \u0113\u0155\u0155\u014d\u0155\u015b \u0129\u0144 \u0163\u0125\u0113 \u0124\u010e\u0139 \u0107\u014d\u010f\u0113 \u014d\u0155 \u0163\u0113\u015b\u0163","D+NlUC":"\u015a\u0177\u015b\u0163\u0113\u1e3f","NnH3pK":"\u0162\u0113\u015b\u0163","FEr96N":"\u0162\u0125\u0113\u1e3f\u0113","U0HZma":"\u0162\u0155\xe0\u0107\u0137\u0129\u0144\u011d","SUTY2p":"\u0168\u015b\u0113 \u0180\u0155\u014d\u0175\u015b\u0113\u0155 \u015b\u0163\u014d\u0155\xe0\u011d\u0113","eR7+zo":"\u0168\u015b\u0113 \xdf\u0155\u014d\u0175\u015b\u0113\u0155 \u015a\u0163\u014d\u0155\xe0\u011d\u0113","zQo0yv":"\u0168\u015b\u0113 \u1e3e\u014d\u0144\xe0\u0107\u014d \u0112\u010f\u0129\u0163\u014d\u0155","eqj1vQ":"\u0168\u015b\u0113 \u01a4\u0106 \u015b\u0163\u014d\u0155\xe0\u011d\u0113","q3JCcX":"V\u0129\u015b\u0169\xe0\u013a\u0129\u017a\xe0\u0163\u0129\u014d\u0144","1qK+lw":"V\u1e3e \u0106\u014d\u010f\u0113","2BSTzk":"V\u1e3e \u015a\u0163\u0155\u0169\u0107\u0163\u0169\u0155\u0113\u015b","6l2IL9":"\u0174\u014d\u0155\u0137\u015b \u014d\u0144 \u0106\u0125\u0155\u014d\u1e3f\u0113, \u0112\u010f\u011d\u0113, \u014c\u01a5\u0113\u0155\xe0, \xe0\u0144\u010f \u014d\u0163\u0125\u0113\u0155 \u0106\u0125\u0155\u014d\u1e3f\u0129\u0169\u1e3f-\u0180\xe0\u015b\u0113\u010f \u0180\u0155\u014d\u0175\u015b\u0113\u0155\u015b","l75CjT":"\u0176\u0113\u015b","Ox/B9h":"\u0176\u014d\u0169 \u0107\u0125\u014d\u015b\u0113 \u0169\u015b\u0113 \u01a5\u0107 \u015b\u0163\u014d\u0155\xe0\u011d\u0113 \u0180\u0169\u0163 \u010f\u0129\u010f\u0144\'\u0163 \u015b\u0113\u013a\u0113\u0107\u0163 \xe0 \u0192\u014d\u013a\u010f\u0113\u0155 \u0129\u0144 \u0177\u014d\u0169\u0155 \u01a4\u0106","MBxUv8":"\u0176\u014d\u0169 \u0107\u0125\u014d\u015b\u0113 \u0169\u015b\u0113 \u01a5\u0107 \u015b\u0163\u014d\u0155\xe0\u011d\u0113 \u0180\u0169\u0163 \u010f\u0129\u010f\u0144\'\u0163 \u015b\u0113\u013a\u0113\u0107\u0163 \u0163\u0125\u0113 \u0192\u014d\u013a\u010f\u0113\u0155 \u0129\u0144 \u0177\u014d\u0169\u0155 \u01a4\u0106","hDh8R1":"\u0176\u014d\u0169\u0155 \u0192\u0129\u013a\u0113\u015b \u0175\u0113\u0155\u0113 \u0155\u0113\u015b\u0113\u0163"}'),I=e,C=t;var A=n(6073),E=n(782);const O=function(){const{status:e}=(0,r.useContext)(u.L),t=`StatusLine status-${e.severity.toLowerCase()}`;return(0,E.jsx)("div",{className:t,children:e.message})},R=()=>(0,E.jsx)("footer",{className:"flex row justify-between",children:(0,E.jsx)(O,{})});var P=n(3344),L=n(3015),T=n(3499);function N(e,t,n){return{href:e.href,tool:e.tool,tooltip:null!==n&&void 0!==n?n:e.tool&&Object.keys(T.It).includes(e.tool)?T.It[e.tool]:"",icon:t,target:e.target}}const F={chip:"user_guide/chip.pdf",cpu:"user_guide/cpu.pdf",asm:"user_guide/asm.pdf",vm:"user_guide/vm.pdf",compiler:"user_guide/compiler.pdf",bitmap:"user_guide/bitmap_editor.pdf"},j="Guide not available for this tool";const M=[N(T.Ay.chip,"memory"),N(T.Ay.cpu,"developer_board"),N(T.Ay.asm,"list_alt"),N(T.Ay.vm,"computer"),N(T.Ay.compiler,"code"),N(T.Ay.bitmap,"grid_on"),N(T.Ay.util,"function","Converter Tool"),{onClick:async function(e){if(!F[e.pathname])return void e.baseContext.setStatus(j);const t=F[e.pathname];404!==(await fetch(t)).status?window.open(t,"_blank","width=1000,height=800"):e.baseContext.setStatus(j)},tooltip:"Guide",icon:"menu_book"},{href:"https://github.com/nand2tetris/web-ide/issues/new/choose",icon:"bug_report",tooltip:"Bug Report"},{onClick:e=>{e.appContext.settings.open()},icon:"settings",tooltip:"Settings"},N(T.Ay.about,"info","About")],D=()=>{const e=(0,r.useContext)(p.BR),t=(0,r.useContext)(u.L),{title:n,setTool:i}=(0,r.useContext)(P.NQ),{setStatus:s}=(0,r.useContext)(u.L),a={};for(const l of M)l.href&&(a[l.href]=(0,r.useRef)(null));const o=(0,h.zy)().pathname.replaceAll("/","");return(0,E.jsx)("header",{children:(0,E.jsxs)("nav",{style:{width:"100%"},children:[(0,E.jsx)("ul",{children:(0,E.jsxs)("li",{children:[(0,E.jsx)("strong",{children:(0,E.jsx)("a",{href:"https://nand2tetris.org",target:"_blank",rel:"noreferrer",children:"NAND2Tetris"})}),T.It[o]&&` / ${T.It[o]}`,n&&` / ${n}`]})}),(0,E.jsx)("ul",{className:"icon-list",children:M.map(({href:n,icon:r,onClick:l,tooltip:u,target:c,tool:h})=>(0,E.jsxs)("li",{"data-tooltip":u,"data-placement":"bottom",onClick:()=>{var r;(i(h),s(""),l)?null===l||void 0===l||l({appContext:e,baseContext:t,pathname:o}):n&&(c&&localStorage.setItem(T.p3,n),null===(r=a[n].current)||void 0===r||r.click())},children:[(0,E.jsx)(L.I,{name:r}),n&&(c?(0,E.jsx)(d.N_,{to:n,ref:a[n],style:{display:"none"}}):(0,E.jsx)("a",{href:n,target:"new",ref:a[n],style:{display:"none"}}))]},r))})]})})};var z=n(172),$=n(171);const B="version";function U(){var e;return Number(null!==(e=localStorage.getItem(B))&&void 0!==e?e:"0")}function V(e){localStorage.setItem(B,e.toString())}let W;const H={0:async e=>{for(const n of["hdl","cmp","tst"])try{await e.writeFile(`/projects/01/Xor/Xor.${n}`,await e.readFile(`/projects/01/XOr/XOr.${n}`))}catch(t){}},1:async e=>{await(0,$.resetFiles)(e,["4"])},2:async e=>{await(0,$.resetTests)(e,["1"])},3:async e=>{await(0,$.resetTests)(e)},4:async e=>{await(0,$.resetFiles)(e,["7","8"])},5:async e=>{await(0,$.resetTests)(e,["3","5"])},6:async e=>{await(0,$.resetTests)(e,["4"])},7:async e=>{await(0,$.resetTests)(e,["1"])},8:async e=>{await(0,$.resetFiles)(e,["6"])},9:async e=>{await(0,$.resetTests)(e,["5"])},10:async e=>{await(0,$.resetTests)(e,["5"])},11:async e=>{await(0,$.resetTests)(e,["1"])},12:async e=>{for(const n of["hdl","cmp","tst"])try{await e.rm(`/projects/01/Xor/Xor.${n}`)}catch(t){}}},G=()=>{const{stores:e}=(0,r.useContext)(P.NQ),{fs:t,setStatus:i,canUpgradeFs:s,upgradeFs:a,closeFs:c,localFsRoot:d,permissionPrompt:h,requestPermission:f,loadFs:m}=(0,r.useContext)(u.L),{settings:g,monaco:y,theme:v,setTheme:b,tracking:w}=(0,r.useContext)(p.BR),[_,S]=(0,r.useState)(d?"pc":"browser"),[x,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{S(d?"pc":"browser")},[d]);const I=(0,r.useMemo)(()=>e=>{d||(o.Ru.activate(e),t.writeFile("/locale",e))},[t]);(0,r.useEffect)(()=>{d||t.readFile("/locale").then(e=>o.Ru.activate(e)).catch(()=>I("en"))},[t,I]);const C=(0,z.s)(),A=(0,z.s)(),O=(0,E.jsx)("dialog",{open:h.isOpen,children:(0,E.jsx)("article",{children:(0,E.jsxs)("main",{children:[(0,E.jsx)("div",{className:"dialog-message",children:"Please grant permissions to use your local projects folder"}),(0,E.jsxs)("div",{className:"dialog-actions",children:[(0,E.jsx)("button",{className:"dialog-button",onClick:async()=>{await f(),m(),h.close()},children:"Ok"}),(0,E.jsx)("button",{className:"dialog-button",onClick:()=>{h.close()},children:"Cancel"})]})]})})}),R=(0,E.jsx)("dialog",{open:C.isOpen,children:(0,E.jsx)("article",{children:(0,E.jsxs)("main",{children:[(0,E.jsx)("div",{className:"dialog-message",children:'The "reset browser storage files" results in erasing all the project files stored in the browser memory (but not on your PC), replacing them with a fresh set of skeletal files. You may want to back-up your edited project files before resetting.'}),(0,E.jsxs)("div",{className:"dialog-actions",children:[(0,E.jsx)("button",{className:"dialog-button",onClick:async()=>{await(async()=>{const r=U();localStorage.clear(),V(r),localStorage["/chip/project"]="01",localStorage["/chip/chip"]="Not";const i=await Promise.resolve().then(n.bind(n,171));await i.resetFiles(t),e.cpu.actions.clear(),e.asm.actions.clear(),e.vm.actions.initialize(),e.compiler.actions.reset()})(),C.close(),A.open()},children:(0,E.jsx)(l.x6,{id:"OfhWJH"})}),(0,E.jsx)("button",{className:"dialog-button",onClick:()=>{C.close()},children:(0,E.jsx)(l.x6,{id:"dEgA5A"})})]})]})})}),L=(0,E.jsx)("dialog",{open:A.isOpen,children:(0,E.jsxs)("article",{children:[(0,E.jsx)("header",{children:(0,E.jsx)(l.x6,{id:"hDh8R1"})}),(0,E.jsx)("main",{children:(0,E.jsx)("button",{onClick:A.close,children:(0,E.jsx)(l.x6,{id:"aP3N/0"})})})]})}),T=(0,z.s)(),N=(0,E.jsx)("dialog",{open:T.isOpen,children:(0,E.jsxs)("article",{children:[(0,E.jsx)("header",{children:(0,E.jsx)(l.x6,{id:"DmVb6w"})}),(0,E.jsxs)("main",{children:[(0,E.jsx)("div",{className:"dialog-message",children:(0,E.jsx)(l.x6,{id:"Ox/B9h"})}),(0,E.jsxs)("div",{className:"dialog-actions",children:[(0,E.jsx)("button",{onClick:()=>{T.close()},children:(0,E.jsx)(l.x6,{id:"zE4ToC"})}),(0,E.jsx)("button",{className:"secondary",onClick:()=>{S("browser"),T.close(),g.close()},children:(0,E.jsx)(l.x6,{id:"eR7+zo"})})]})]})]})});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("dialog",{open:g.isOpen,children:(0,E.jsxs)("article",{className:"settings-dialog",children:[(0,E.jsxs)("header",{children:[(0,E.jsx)("p",{children:(0,E.jsx)(l.x6,{id:"Tz0i8g"})}),(0,E.jsx)("a",{className:"close",href:"#root",onClick:e=>{e.preventDefault(),"pc"!==_||d?g.close():T.open()}})]}),(0,E.jsx)("main",{children:(0,E.jsxs)("dl",{children:[(0,E.jsxs)("dt",{children:[(0,E.jsx)(l.x6,{id:"xuLVjK"}),(0,E.jsx)("div",{style:{marginTop:"3rem"},children:(0,E.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),window.open("/web-ide/user_guide/file_system.pdf","_blank","width=1000,height=800")},style:{fontSize:"0.9rem"},children:(0,E.jsx)(l.x6,{id:"7Ycqgt"})})})]}),(0,E.jsx)("dd",{children:(0,E.jsxs)("div",{className:"storage-mode-selection",children:[(0,E.jsx)("div",{className:"storage-option",children:(0,E.jsxs)("label",{children:[(0,E.jsx)("input",{type:"radio",name:"storage-mode",checked:"browser"===_,onChange:async()=>{S("browser"),d&&await c()}}),(0,E.jsx)(l.x6,{id:"SUTY2p"})]})}),(0,E.jsxs)("div",{className:"storage-option",children:[(0,E.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,E.jsxs)("label",{style:{width:"auto"},children:[(0,E.jsx)("input",{type:"radio",name:"storage-mode",checked:"pc"===_,onChange:()=>{S("pc")}}),(0,E.jsx)(l.x6,{id:"eqj1vQ"})]})}),(0,E.jsx)("div",{style:{fontSize:"0.85rem",color:"#888",marginLeft:"1.8rem",marginTop:"-0.5rem",marginBottom:"0.5rem"},children:(0,E.jsx)(l.x6,{id:"6l2IL9"})}),(0,E.jsx)("div",{className:"folder-location-row",style:{opacity:"pc"===_?1:.5,pointerEvents:"pc"===_?"auto":"none",marginLeft:"2rem",marginTop:"0.5rem"},children:(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[(0,E.jsxs)("span",{children:[(0,E.jsx)(l.x6,{id:"410Mrf"}),":"]}),d?(0,E.jsx)("code",{style:{flex:"1",minWidth:"200px"},children:d}):(0,E.jsx)("span",{style:{flex:"1",minWidth:"200px",fontStyle:"italic"},children:(0,E.jsx)(l.x6,{id:"dRyYQW"})}),s&&(0,E.jsx)("button",{disabled:x,onClick:async()=>{try{await(async e=>{k(!0);try{await a(void 0!=d,e)}catch(t){"AbortError"===t.name||(console.error("Failed to upgrade FS",{err:t}),i(o.Ru._({id:"A9bii0"}))),S("browser")}finally{k(!1)}})()}catch(e){}},"data-tooltip":o.Ru._({id:"uMlnHD"}),"data-placement":"bottom",style:{marginLeft:"auto"},children:d?(0,E.jsx)(l.x6,{id:"lBZNSx"}):(0,E.jsx)(l.x6,{id:"7TboZZ"})})]})}),(0,E.jsx)("div",{style:{marginTop:"1rem",marginLeft:"2rem",opacity:"pc"===_?1:.5,pointerEvents:"pc"===_?"auto":"none"},children:(0,E.jsx)("button",{onClick:()=>window.open("https://drive.google.com/open?id=1oD0WMJRq1UPEFEXWphKXR6paFwWpBS4o","_blank"),"data-tooltip":o.Ru._({id:"nIO5Q9"}),"data-placement":"bottom",style:{width:"100%"},children:(0,E.jsx)(l.x6,{id:"QiMEIu"})})})]})]})}),(0,E.jsx)("dt",{children:(0,E.jsx)(l.x6,{id:"uBAxNB"})}),(0,E.jsx)("dd",{children:(0,E.jsxs)("label",{children:[(0,E.jsx)("input",{type:"checkbox",name:"switch",role:"switch",checked:y.wants,disabled:!y.canUse,onChange:e=>y.toggle(e.target.checked)}),(0,E.jsx)(l.x6,{id:"zQo0yv"})]})}),(0,E.jsx)("dt",{children:(0,E.jsx)(l.x6,{id:"FEr96N"})}),(0,E.jsx)("dd",{children:(0,E.jsxs)("fieldset",{role:"group",children:[(0,E.jsxs)("label",{role:"button","aria-current":"light"===v,children:[(0,E.jsx)("input",{type:"radio",name:"theme",value:"light",checked:"light"===v,onChange:()=>b("light")}),(0,E.jsx)(l.x6,{id:"1njn7W"})]}),(0,E.jsxs)("label",{role:"button","aria-current":"dark"===v,children:[(0,E.jsx)("input",{type:"radio",name:"theme",value:"dark",checked:"dark"===v,onChange:()=>b("dark")}),(0,E.jsx)(l.x6,{id:"pvnfJD"})]}),(0,E.jsxs)("label",{role:"button","aria-current":"system"===v,children:[(0,E.jsx)("input",{type:"radio",name:"theme",value:"system",checked:"system"===v,onChange:()=>b("system")}),(0,E.jsx)(l.x6,{id:"D+NlUC"})]})]})}),(0,E.jsx)("div",{style:{borderTop:"1px solid var(--contrast-lower)",margin:"0.5rem 0 1rem 0"}}),!d&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("dt",{children:(0,E.jsx)(l.x6,{id:"qK2xfn"})}),(0,E.jsx)("dd",{children:(0,E.jsx)("button",{onClick:async()=>{C.open()},children:(0,E.jsx)(l.x6,{id:"+dqRRG"})})})]}),(0,E.jsx)("dt",{children:(0,E.jsx)(l.x6,{id:"9aloPG"})}),(0,E.jsxs)("dd",{children:[(0,E.jsx)("div",{children:(0,E.jsx)("a",{href:"https://nand2tetris.org",target:"_blank",rel:"noreferrer",children:"nand2tetris.org (course website)"})}),(0,E.jsx)("div",{children:(0,E.jsx)("a",{href:"https://github.com/davidsouther/nand2tetris",target:"_blank",rel:"noreferrer",children:"nand2tetris/web-IDE on Github (open source)"})})]})]})})]})}),O,R,L,N]})};var q=n(8815);const K=["bottom","top","right","left"];function Z(e,t,n){const r=e.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight;let a;switch(t){case"top":a=new DOMRect(r.left+r.width/2-n.width/2,r.top-n.height-8,n.width,n.height);break;case"bottom":a=new DOMRect(r.left+r.width/2-n.width/2,r.bottom+8,n.width,n.height);break;case"left":a=new DOMRect(r.left-n.width-8,r.top+r.height/2-n.height/2,n.width,n.height);break;case"right":a=new DOMRect(r.right+8,r.top+r.height/2-n.height/2,n.width,n.height)}const o=a.left<10,l=a.right>i-10,u=a.top<10,c=a.bottom>s-10;return o||l||u||c}function Y(e,t){const n=function(e){const t=document.createElement("div");t.style.cssText="\n    position: absolute;\n    visibility: hidden;\n    padding: 0.25rem 0.5rem;\n    font-size: 0.875rem;\n    max-width: 300px;\n    white-space: normal;\n    word-wrap: break-word;\n  ",t.textContent=e,document.body.appendChild(t);const n={width:t.offsetWidth,height:t.offsetHeight};return document.body.removeChild(t),n}(t);if("true"===e.getAttribute("data-tooltip-fixed")){return e.getAttribute("data-placement")||"bottom"}for(const r of K)if(!Z(e,r,n))return r;return"bottom"}function Q(){const[e,t]=(0,r.useState)({text:"",placement:"bottom",x:0,y:0,visible:!1}),n=(0,r.useRef)(new Set);if((0,r.useEffect)(()=>{const e=e=>{const n=e.currentTarget,r=n.getAttribute("data-tooltip");if(!r)return;const i=Y(n,r),{x:s,y:a}=function(e,t){const n=e.getBoundingClientRect();switch(t){case"top":return{x:n.left+n.width/2,y:n.top};case"bottom":return{x:n.left+n.width/2,y:n.bottom};case"left":return{x:n.left,y:n.top+n.height/2};case"right":return{x:n.right,y:n.top+n.height/2}}}(n,i);t({text:r,placement:i,x:s,y:a,visible:!0})},r=()=>{t(e=>({...e,visible:!1}))},i=()=>{document.querySelectorAll("[data-tooltip]").forEach(t=>{n.current.has(t)||(t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",r),n.current.add(t))})};i();const s=new MutationObserver(()=>{i()});return s.observe(document.body,{childList:!0,subtree:!0}),()=>{s.disconnect(),n.current.forEach(t=>{t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",r)}),n.current.clear()}},[]),!e.visible)return null;const i={position:"fixed",left:`${e.x}px`,top:`${e.y}px`,transform:(()=>{switch(e.placement){case"top":return"translate(-50%, calc(-100% - 0.25rem))";case"bottom":return"translate(-50%, 0.25rem)";case"left":return"translate(calc(-100% - 0.25rem), -50%)";case"right":return"translate(0.25rem, -50%)"}})(),zIndex:1e4,padding:"0.25rem 0.5rem",maxWidth:"300px",borderRadius:"var(--border-radius)",backgroundColor:"var(--tooltip-background-color)",color:"var(--tooltip-color)",fontSize:"0.875rem",fontWeight:"var(--font-weight)",pointerEvents:"none",whiteSpace:"normal",wordWrap:"break-word",animation:"tooltip-fade-in 0.2s ease"},s={position:"fixed",left:`${e.x}px`,top:`${e.y}px`,transform:(()=>{switch(e.placement){case"top":case"bottom":return"translate(-50%, -0.3rem)";case"left":return"translate(0.3rem, -50%)";case"right":return"translate(-0.3rem, -50%)"}})(),zIndex:1e4,width:0,height:0,pointerEvents:"none",...(()=>{const t="0.3rem solid transparent";switch(e.placement){case"top":return{borderTop:"0.3rem solid var(--tooltip-background-color)",borderRight:t,borderLeft:t};case"bottom":return{border:t,borderBottom:"0.3rem solid var(--tooltip-background-color)"};case"left":return{border:t,borderLeft:"0.3rem solid var(--tooltip-background-color)"};case"right":return{border:t,borderRight:"0.3rem solid var(--tooltip-background-color)"}}})()};return(0,q.createPortal)((0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{style:i,children:e.text}),(0,E.jsx)("div",{style:s}),(0,E.jsx)("style",{children:"\n          @keyframes tooltip-fade-in {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n        "})]}),document.body)}class X extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?this.props.fallback({error:this.state.error}):this.props.children}}const J=({error:e})=>{var t;return e?(0,E.jsxs)("div",{children:[(0,E.jsxs)("p",{children:[(0,E.jsxs)("b",{children:[null!==(t=e.name)&&void 0!==t?t:"Error",":"]})," ",e.message]}),e.stack&&(0,E.jsx)("pre",{children:(0,E.jsx)("code",{children:e.stack})}),e.cause?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{children:(0,E.jsx)("em",{children:"Caused by"})}),(0,E.jsx)(J,{error:e.cause})]}):(0,E.jsx)(E.Fragment,{})]}):(0,E.jsx)("p",{children:"Unknown Error"})},ee=()=>{const[e,t]=(0,r.useState)();return(0,r.useEffect)(()=>{var e;const n=null!==(e=localStorage.getItem(T.p3))&&void 0!==e?e:"/chip";t(n)},[]),e?(0,E.jsx)(h.C5,{to:e}):(0,E.jsx)(E.Fragment,{})};var te=n(5270);o.Ru.load("en",I.messages),o.Ru.load("en-PL",C.messages),o.Ru.loadLocaleData({en:{plurals:c},"en-US":{plurals:c},"en-PL":{plurals:c}}),o.Ru.activate(navigator.language);const ne=function(){const e=(0,u.A)(),t=(0,p.Us)(),i=(0,r.useRef)("none"),[s,a]=(0,r.useState)(!1),c=e.fs;return(0,r.useEffect)(()=>{!async function(){if(S)return;S=!0,S=!0;const{loader:e}=await n.e(983).then(n.bind(n,7983)),{languages:t}=await e.init();for(const[n,r]of Object.entries(w))t.register({id:n}),t.setMonarchTokensProvider(n,r),_[n]&&t.registerCompletionItemProvider(n,_[n]);S=!1}()},[]),(0,r.useEffect)(()=>{"none"==i.current&&(i.current="initializing",Promise.resolve().then(async()=>{await async function(e){if(void 0!==W)return 13==W;W=U();try{for(await e.stat("/projects/01/Not.hdl");W<13;W++)try{await H[W](e)}catch(t){console.warn(`Error loading files at version ${W}`,t)}}catch(n){await(0,$.resetFiles)(e)}return V(W),13==W}(c),i.current="initialized",a(!0)}))},[c,i]),(0,r.useEffect)(()=>{document.children[0].dataset.theme="system"===t.theme?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t.theme},[t.theme]),(0,E.jsx)(l.CY,{i18n:o.Ru,children:(0,E.jsx)(u.L.Provider,{value:e,children:(0,E.jsx)(p.BR.Provider,{value:t,children:s?(0,E.jsxs)(P.qK,{children:[(0,E.jsx)(G,{}),(0,E.jsx)(A.Nk,{}),(0,E.jsxs)(d.Kd,{basename:"/web-ide",children:[(0,E.jsx)(D,{}),(0,E.jsx)("main",{className:"flex flex-1",children:(0,E.jsx)(X,{fallback:J,children:(0,E.jsx)(r.Suspense,{fallback:(0,E.jsx)("div",{children:"Loading..."}),children:(0,E.jsxs)(h.BV,{children:[(0,E.jsx)(h.qh,{path:"/",element:(0,E.jsx)(ee,{})}),Object.values(T.Ay).map(({href:e,target:t})=>(0,E.jsx)(h.qh,{path:e,element:t},e))]})})})}),(0,E.jsx)(R,{}),(0,E.jsx)(te.w,{})]}),(0,E.jsx)(Q,{})]}):(0,E.jsx)("div",{children:"Initializing..."})})})})},re=e=>{e&&e instanceof Function&&n.e(510).then(n.bind(n,510)).then(({getCLS:t,getFID:n,getFCP:r,getLCP:i,getTTFB:s})=>{t(e),n(e),r(e),i(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,E.jsx)(r.StrictMode,{children:(0,E.jsx)(ne,{})})),function(e){if("serviceWorker"in navigator){if(new URL("/web-ide",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/web-ide/service-worker.js";s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):a(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):a(t,e)})}}(),re()})()})();