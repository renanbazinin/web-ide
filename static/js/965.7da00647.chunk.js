"use strict";(globalThis.webpackChunk_nand2tetris_web=globalThis.webpackChunk_nand2tetris_web||[]).push([[965],{8965:(e,n,o)=>{o.r(n),o.d(n,{MONACO_DARK_THEME:()=>d,MONACO_LIGHT_THEME:()=>a,Monaco:()=>c,default:()=>g,makeDecorations:()=>s});var t=o(7983),r=o(88),i=o(8878),u=o(8029),l=o(782);const s=(e,n,o,t,r,i="highlight",u=!0)=>{if(!n||!o)return r;const l=n.getModel();if(!l)return r;const s=l.getPositionAt(o.start),a=l.getPositionAt(o.end),d=null===e||void 0===e?void 0:e.Range.fromPositions(s,a),c=[];d&&(c.push({range:d,options:{inlineClassName:"error"==i?"error-highlight":"highlight"}}),o.start!=o.end&&(!u&&((e,n)=>{for(const t of null!==(o=null===e||void 0===e?void 0:e.getVisibleRanges())&&void 0!==o?o:[]){var o;if(t.containsRange(n))return!0}return!1})(n,d)||n.revealRangeInCenter(d)));for(const g of t){const n=null===e||void 0===e?void 0:e.Range.fromPositions(l.getPositionAt(g.span.start),l.getPositionAt(g.span.end));n&&c.push({range:n,options:{inlineClassName:g.cssClass}})}return n.deltaDecorations(r,c)},a="vs",d="vs-dark",c=({value:e,onChange:n,onCursorPositionChange:o,language:c,path:g,error:v,disabled:f=!1,highlight:h,highlightType:m="highlight",customDecorations:p=[],dynamicHeight:M=!1,alwaysRecenter:b=!0,lineNumberTransform:C})=>{const{theme:E}=(0,i.useContext)(u.BR),N=(0,i.useRef)(),[O,k]=(0,i.useState)(0),y=(0,i.useRef)(),A=(0,i.useRef)([]),R=(0,i.useRef)(void 0),L=(0,i.useRef)([]),P=(0,i.useCallback)(()=>("system"===E?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===E)?d:a,[E]),_=(0,i.useCallback)(()=>{var e;let n;if("number"==typeof R.current){var o,t,r;const e=null!==(o=null===(t=y.current)||void 0===t||null===(r=t.getModel())||void 0===r?void 0:r.getLineCount())&&void 0!==o?o:0;if(R.current<=e){var i,u,l,a,d,c,g,v,f;n={start:null!==(i=null===(u=y.current)||void 0===u||null===(l=u.getModel())||void 0===l?void 0:l.getOffsetAt({lineNumber:R.current,column:0}))&&void 0!==i?i:0,end:R.current==e?null!==(a=null===(d=y.current)||void 0===d||null===(c=d.getModel())||void 0===c?void 0:c.getValueLength())&&void 0!==a?a:0:(null!==(g=null===(v=y.current)||void 0===v||null===(f=v.getModel())||void 0===f?void 0:f.getOffsetAt({lineNumber:R.current+1,column:0}))&&void 0!==g?g:1)-1,line:R.current}}}else n=R.current;A.current=s(N.current||null,y.current,null!==(e=n)&&void 0!==e?e:{start:0,end:0,line:0},L.current,A.current,m,b)},[A,N,y,R,m]),w=()=>{if(M){var e;const n=null===(e=y.current)||void 0===e?void 0:e.getContentHeight();n&&k(n)}};(0,i.useEffect)(()=>{R.current=h,_()},[h]),(0,i.useEffect)(()=>{L.current=p,_()},[p]);const D=(0,i.useCallback)((e,n)=>{var t,i,u;N.current=n,y.current=e,null===(t=y.current)||void 0===t||t.updateOptions({fontFamily:'"JetBrains Mono", source-code-pro, Menlo, Monaco,\n      Consolas, "Roboto Mono", "Ubuntu Monospace", "Noto Mono", "Oxygen Mono",\n      "Liberation Mono", monospace, "Apple Color Emoji", "Segoe UI Emoji",\n      "Segoe UI Symbol", "Noto Color Emoji"',fontSize:16,minimap:{enabled:!1},theme:P(),scrollBeyondLastLine:!1,readOnly:f,lineNumbers:null!==C&&void 0!==C?C:"on",renderValidationDecorations:"on",folding:!1,quickSuggestions:{other:"inline"}}),document.fonts.ready.then(()=>{var e;null===(e=N.current)||void 0===e||e.editor.remeasureFonts()}),_(),w(),null===(i=y.current)||void 0===i||i.onDidChangeCursorPosition(e=>{var n,t;const r=null===(n=y.current)||void 0===n||null===(t=n.getModel())||void 0===t?void 0:t.getOffsetAt(e.position);void 0!==r&&(null===o||void 0===o||o(r))});const l=null===(u=y.current)||void 0===u?void 0:u.getModel();null===l||void 0===l||l.setEOL(r.EN.EndOfLineSequence.LF)},[P]);(0,i.useEffect)(()=>{void 0!==y.current&&y.current.updateOptions({lineNumbers:null!==C&&void 0!==C?C:"on"})},[C]),(0,i.useEffect)(()=>{void 0!==y.current&&y.current.updateOptions({theme:P()})},[y,P]),(0,i.useEffect)(()=>{void 0!==y.current&&y.current.updateOptions({readOnly:f,renderValidationDecorations:"on"})},[y,f]),(0,i.useEffect)(()=>{if(!y.current)return;if(!N.current)return;const e=y.current.getModel();if(null===e)return;if(void 0===v||void 0===v.span)return void N.current.editor.setModelMarkers(e,c,[]);const n=e.getPositionAt(v.span.start),o=e.getPositionAt(v.span.end);N.current.editor.setModelMarkers(e,c,[{message:v.message,startColumn:n.column,startLineNumber:n.lineNumber,endColumn:o.column,endLineNumber:o.lineNumber,severity:8}])},[v,y,N,c]);return(0,l.jsx)(t.Ay,{value:e,language:c,path:g,onChange:(e="")=>{w(),n(e)},onMount:D,height:M?O:void 0})},g=c}}]);